<!DOCTYPE  html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>windley的书 - 副本</title><style type="text/css"> * {margin:0; padding:0; text-indent:0; }
 h2 { color: #1F1C1D; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 70pt; }
 .s1 { color: #498044; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 28pt; }
 .s2 { color: #896B5B; font-family:Arial, sans-serif; font-style: italic; font-weight: normal; text-decoration: underline; font-size: 18.5pt; }
 .s3 { color: #6E5244; font-family:Arial, sans-serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 18.5pt; }
 .s5 { color: #6E5244; font-family:Arial, sans-serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 17.5pt; }
 .s6 { color: #896B5B; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 22pt; }
 .s8 { color: #9C8272; font-family:Arial, sans-serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 10.5pt; }
 .s9 { color: #504F4B; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9.5pt; }
 .s11 { color: #807C77; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 14pt; }
 .s12 { color: #69675E; font-family:Arial, sans-serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 13pt; vertical-align: -6pt; }
 .s13 { color: #807C77; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 16.5pt; }
 .s14 { color: #939395; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 14pt; }
 .s15 { color: #0A1323; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 30pt; }
 .s17 { color: #1F1C1D; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 25.5pt; }
 .s18 { color: #1F1C1D; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 27pt; }
 .s19 { color: #1F1C1D; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 20.5pt; }
 .s21 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 24pt; }
 .s22 { color: #232123; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8.5pt; }
 .s23 { color: #F9FBFB; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 31.5pt; }
 .s24 { color: #F9FBFB; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 12.5pt; }
 .s26 { color: #E61A28; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 12pt; }
 .h4 { color: #F9FBFB; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 32pt; }
 .s27 { color: #F9FBFB; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 32pt; }
 .s28 { color: #545454; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 16.5pt; }
 .s29 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 16.5pt; }
 .s30 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 12pt; }
 .p, p { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; margin:0pt; }
 .s31 { color: #0000ED; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: underline; font-size: 12pt; }
 .s32 { color: black; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 12pt; }
 .s33 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; }
 .s34 { color: #0000ED; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 12pt; }
 .s35 { color: black; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 12pt; }
 .a, a { color: #0000ED; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt; }
 .s36 { color: #0000ED; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; }
 .s37 { color: #3C3B49; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 28.5pt; }
 .s38 { color: #3C3B49; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 14.5pt; }
 .s40 { color: #3C3B49; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 14.5pt; }
 .s41 { color: #3C3B49; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 14.5pt; }
 .s42 { color: #8E0011; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; vertical-align: 4pt; }
 .s43 { color: #8E0011; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; }
 .s44 { color: black; font-family:"Times New Roman", serif; font-style: italic; font-weight: bold; text-decoration: none; font-size: 12pt; }
 .s45 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 .s46 { color: #0000ED; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 .s47 { color: #0000ED; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 9pt; }
 .s48 { color: #8E0011; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 16.5pt; }
 .s49 { color: black; font-family:"Courier New", monospace; font-style: italic; font-weight: normal; text-decoration: none; font-size: 12pt; }
 .s50 { color: black; font-family:"Courier New", monospace; font-style: italic; font-weight: bold; text-decoration: none; font-size: 12pt; }
 .s51 { color: #727272; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 12pt; }
 .s52 { color: #0000ED; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: underline; font-size: 9pt; }
 .s53 { color: #0000ED; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 9pt; }
 .s54 { color: #0000ED; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 12pt; }
 .s55 { color: #0000ED; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; }
 .s56 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; }
 .s57 { color: black; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 12pt; }
 .s59 { color: #8E0011; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; }
 .s60 { color: black; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 9pt; }
 .s61 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 13.5pt; }
 .s62 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; }
 .s63 { color: black; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 12pt; }
 .s64 { color: #8E0011; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 .s65 { color: black; font-style: normal; font-weight: normal; text-decoration: none; }
 .s66 { color: #8E0011; font-family:Arial, sans-serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 8pt; vertical-align: 4pt; }
 .s67 { color: #8E0011; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 .s68 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 .s69 { color: #0000ED; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 .s70 { color: black; font-family:"Courier New", monospace; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; }
 .s71 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 9pt; }
 .s72 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 .s73 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 9pt; }
 .s74 { color: black; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 12pt; }
 .s75 { color: #0000ED; font-family:"Courier New", monospace; font-style: italic; font-weight: normal; text-decoration: underline; font-size: 12pt; }
 .s76 { color: black; font-family:"Courier New", monospace; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 .s77 { color: black; font-family:"Courier New", monospace; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 .s78 { color: #808080; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12.5pt; }
 .s79 { color: #0A0A0A; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 8.5pt; }
 .s80 { color: #808080; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; }
 .s81 { color: #0A0A0A; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 .s82 { color: #855923; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .s83 { color: #0A0A0A; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8.5pt; }
 .s84 { color: #363636; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10.5pt; }
 .s85 { color: #2F4F72; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 13.5pt; }
 .s86 { color: #E2EDF7; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10.5pt; }
 .s87 { color: #E2EDF7; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10.5pt; }
 .s88 { color: #DADBD6; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10.5pt; }
 .s89 { color: #DADBD6; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9.5pt; }
 .s90 { color: #DADBD6; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9.5pt; }
 .s92 { color: #E2EDF7; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8.5pt; }
 .s93 { color: #525252; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 8.5pt; }
 .s95 { color: #7285A0; font-family:Arial, sans-serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 5.5pt; }
 .s96 { color: #54698E; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 16pt; vertical-align: -7pt; }
 .s98 { color: #0F8C0C; font-family:Arial, sans-serif; font-style: italic; font-weight: bold; text-decoration: none; font-size: 9pt; }
 .s99 { color: #363636; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8.5pt; }
 .s100 { color: #0A0A0A; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8.5pt; }
 .s101 { color: #0A0A0A; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; }
 .s102 { color: #363636; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 8.5pt; }
 .s103 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; vertical-align: 4pt; }
 .s104 { color: #545454; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 12pt; }
 .s105 { color: #C44F54; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 19.5pt; }
 .s106 { color: #030101; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12.5pt; }
 .s108 { color: #030101; font-family:Arial, sans-serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 11.5pt; }
 .s109 { color: #C44F54; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 15.5pt; vertical-align: 7pt; }
 .s110 { color: #C44F54; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 15pt; }
 .s111 { color: #019042; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 26.5pt; }
 .s112 { color: #030101; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12.5pt; }
 .s113 { color: #C44F54; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 14pt; vertical-align: -5pt; }
 .s114 { color: #019042; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: line-through; font-size: 26.5pt; }
 .s115 { color: #030101; font-family:Arial, sans-serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 11.5pt; }
 .s116 { color: #019042; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 24.5pt; }
 .s117 { color: #C44F54; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 15.5pt; }
 .s118 { color: #030101; font-family:Arial, sans-serif; font-style: italic; font-weight: normal; text-decoration: underline; font-size: 11.5pt; }
 .s119 { color: #030101; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: line-through; font-size: 12.5pt; }
 .s121 { color: #C44F54; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 19pt; }
 .s122 { color: #C44F54; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 15pt; }
 .s125 { color: #C44F54; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 19.5pt; vertical-align: 7pt; }
 .s126 { color: #C44F54; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 14.5pt; }
 .s127 { color: #3B2F2F; font-family:Arial, sans-serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 11.5pt; }
 .s128 { color: #C44F54; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 22pt; vertical-align: -6pt; }
 .s129 { color: #C44F54; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 19.5pt; }
 .s130 { color: #EFF7F4; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12.5pt; }
 .s131 { color: #EFF7F4; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12.5pt; }
 .s132 { color: #010101; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 14.5pt; }
 .s133 { color: #010101; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 16.5pt; }
 .s134 { color: #010101; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 16.5pt; }
 .s135 { color: black; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 9pt; }
 .s136 { color: black; font-family:"Courier New", monospace; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; }
 .s137 { color: #010103; font-family:"Courier New", monospace; font-style: normal; font-weight: normal; text-decoration: none; font-size: 15pt; }
 .s138 { color: #010103; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 14pt; }
 .s139 { color: #010103; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; }
 .s140 { color: #010103; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 6pt; }
 .s141 { color: #010103; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 13pt; vertical-align: -6pt; }
 .s142 { color: #010103; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 6pt; vertical-align: -6pt; }
 .s143 { color: #010103; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 24pt; vertical-align: 6pt; }
 .s144 { color: #010103; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 23pt; vertical-align: 6pt; }
 .s145 { color: #01548E; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 72pt; }
 .s146 { color: #010103; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; }
 .s147 { color: #010103; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12.5pt; }
 .s148 { color: #010103; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12.5pt; }
 .s149 { color: #010103; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 13.5pt; }
 .s150 { color: #010103; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 13.5pt; }
 .s151 { color: #010103; font-family:"Courier New", monospace; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 15pt; }
 .s152 { color: #010103; font-family:"Courier New", monospace; font-style: normal; font-weight: normal; text-decoration: none; font-size: 11.5pt; }
 .s153 { color: #010103; font-family:"Courier New", monospace; font-style: normal; font-weight: normal; text-decoration: none; font-size: 4.5pt; }
 .s154 { color: #010103; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 5.5pt; }
 .s155 { color: #010103; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12.5pt; }
 .s156 { color: #010103; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 21.5pt; }
 .s157 { color: #010103; font-family:"Courier New", monospace; font-style: normal; font-weight: normal; text-decoration: none; font-size: 11.5pt; vertical-align: 1pt; }
 .s158 { color: #010103; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 13pt; }
 .s159 { color: #010103; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12.5pt; vertical-align: -3pt; }
 .s160 { color: #010103; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; vertical-align: -3pt; }
 .s161 { color: #010103; font-family:"Courier New", monospace; font-style: normal; font-weight: normal; text-decoration: none; font-size: 15pt; }
 .s162 { color: #010103; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 5.5pt; vertical-align: -3pt; }
 .s163 { color: #010103; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 14pt; }
 .s164 { color: #010103; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 6pt; vertical-align: -3pt; }
 .s165 { color: #010103; font-family:"Courier New", monospace; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; vertical-align: -1pt; }
 .s166 { color: #010103; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 24pt; }
 .s167 { color: #010103; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 20.5pt; }
 .s168 { color: #010103; font-family:"Courier New", monospace; font-style: normal; font-weight: normal; text-decoration: none; font-size: 4.5pt; vertical-align: -1pt; }
 .s169 { color: #010103; font-family:"Courier New", monospace; font-style: normal; font-weight: normal; text-decoration: none; font-size: 5pt; }
 .s170 { color: #010103; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 13.5pt; }
 .s171 { color: #010103; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 18.5pt; }
 .s172 { color: #010103; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 5pt; vertical-align: -1pt; }
 .s173 { color: #010103; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; }
 .s174 { color: #010103; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; vertical-align: -1pt; }
 .s175 { color: #010103; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; vertical-align: 2pt; }
 .s176 { color: #010103; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 15pt; }
 .s177 { color: #010103; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 24pt; vertical-align: -10pt; }
 .s178 { color: #010103; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 20.5pt; vertical-align: -10pt; }
 .s179 { color: #010103; font-family:"Courier New", monospace; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10.5pt; vertical-align: -2pt; }
 .s180 { color: #010103; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 21pt; }
 .s181 { color: #010103; font-family:"Courier New", monospace; font-style: normal; font-weight: normal; text-decoration: none; font-size: 5.5pt; vertical-align: -2pt; }
 .s182 { color: #010103; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 5pt; }
 .s183 { color: #010103; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 13pt; }
 .s184 { color: #010103; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; vertical-align: 2pt; }
 .s185 { color: #010103; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 14pt; }
 .s186 { color: #010103; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 21pt; vertical-align: -10pt; }
 .s187 { color: #010103; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 14.5pt; }
 .s188 { color: #010103; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 24pt; vertical-align: -13pt; }
 .s189 { color: #010103; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12.5pt; vertical-align: 2pt; }
 .s190 { color: #010103; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12.5pt; }
 .s191 { color: #010103; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 14.5pt; }
 .s192 { color: #010103; font-family:"Courier New", monospace; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; vertical-align: 1pt; }
 .s193 { color: #010103; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; vertical-align: -2pt; }
 .s194 { color: #010103; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 6pt; vertical-align: -2pt; }
 .s195 { color: #010103; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 24pt; vertical-align: -16pt; }
 .s196 { color: #010103; font-family:"Courier New", monospace; font-style: normal; font-weight: normal; text-decoration: none; font-size: 4.5pt; vertical-align: 7pt; }
 .s197 { color: #010103; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 23pt; }
 .s198 { color: #010103; font-family:"Courier New", monospace; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10.5pt; vertical-align: 7pt; }
 .s199 { color: #010103; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 21.5pt; vertical-align: -10pt; }
 .s200 { color: #01548E; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 72pt; }
 .s201 { color: #010103; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 6.5pt; }
 .s202 { color: #010103; font-family:"Courier New", monospace; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10.5pt; }
 .s203 { color: #010103; font-family:"Courier New", monospace; font-style: normal; font-weight: normal; text-decoration: none; font-size: 5pt; vertical-align: 2pt; }
 .s204 { color: #010103; font-family:"Courier New", monospace; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10.5pt; vertical-align: 2pt; }
 .s205 { color: #010103; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 24pt; vertical-align: -14pt; }
 .s206 { color: #010103; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 14pt; }
 .s207 { color: #010103; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 22pt; vertical-align: -14pt; }
 .s208 { color: #010103; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 5pt; vertical-align: 6pt; }
 .s209 { color: #010103; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 22pt; }
 .s210 { color: #010103; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; vertical-align: 6pt; }
 .s211 { color: #010103; font-family:"Courier New", monospace; font-style: normal; font-weight: normal; text-decoration: none; font-size: 5pt; vertical-align: 1pt; }
 .s212 { color: #010103; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 13.5pt; }
 .s213 { color: #010103; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 13pt; }
 .s214 { color: #010103; font-family:"Courier New", monospace; font-style: normal; font-weight: normal; text-decoration: none; font-size: 5pt; vertical-align: -2pt; }
 .s215 { color: #010103; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 13pt; }
 .s216 { color: #010103; font-family:"Courier New", monospace; font-style: normal; font-weight: normal; text-decoration: none; font-size: 11.5pt; vertical-align: 2pt; }
 .s217 { color: #010103; font-family:"Courier New", monospace; font-style: normal; font-weight: normal; text-decoration: none; font-size: 4.5pt; vertical-align: 2pt; }
 .s218 { color: #010103; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12.5pt; vertical-align: -12pt; }
 .s219 { color: #010103; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 21pt; vertical-align: -6pt; }
 .s220 { color: #010103; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 14pt; vertical-align: -12pt; }
 .s221 { color: #010103; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 6.5pt; }
 .s222 { color: #010103; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 5.5pt; vertical-align: -6pt; }
 .s223 { color: #010103; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; vertical-align: -6pt; }
 .s224 { color: #010103; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 5.5pt; vertical-align: 1pt; }
 .s225 { color: #010103; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 13.5pt; vertical-align: 1pt; }
 .s226 { color: #010103; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12.5pt; vertical-align: -2pt; }
 .s227 { color: #010103; font-family:"Courier New", monospace; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10.5pt; vertical-align: 1pt; }
 .s228 { color: #010103; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 5.5pt; vertical-align: 6pt; }
 .s229 { color: #010103; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12.5pt; vertical-align: 6pt; }
 .s230 { color: #010103; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12.5pt; }
 .s231 { color: #010103; font-family:"Courier New", monospace; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 15pt; }
 .s232 { color: #010103; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt; }
 .s233 { color: black; font-family:"Courier New", monospace; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; vertical-align: 4pt; }
 .s234 { color: #030101; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 13.5pt; }
 .s235 { color: #030101; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; }
 .s236 { color: #030101; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 13.5pt; }
 .s237 { color: #016D34; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 72pt; }
 .s238 { color: #016D34; font-family:"Courier New", monospace; font-style: normal; font-weight: normal; text-decoration: none; font-size: 72pt; }
 .s239 { color: #016D34; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 72pt; vertical-align: 20pt; }
 .s240 { color: #016D34; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 57pt; }
 .s241 { color: #016D34; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 72pt; vertical-align: -32pt; }
 .s242 { color: #016D34; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 57.5pt; vertical-align: -47pt; }
 .s243 { color: #030101; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 39pt; }
 .s244 { color: #034B23; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 66pt; }
 .s245 { color: #030101; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 16pt; }
 .s248 { color: #030101; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 25pt; }
 .s249 { color: #030101; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 14.5pt; }
 .s250 { color: #030101; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 15pt; }
 .s251 { color: #030101; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 13pt; }
 .s253 { color: #030101; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 25pt; vertical-align: 1pt; }
 .s254 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .s255 { color: black; font-family:"Courier New", monospace; font-style: italic; font-weight: normal; text-decoration: none; font-size: 12pt; }
 .s256 { color: #0000ED; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 9pt; }
 .s257 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; vertical-align: -3pt; }
 .s259 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 12pt; }
 .s260 { color: black; font-family:"Courier New", monospace; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; vertical-align: 2pt; }
 .s262 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; vertical-align: 2pt; }
 .s263 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 12pt; vertical-align: 2pt; }
 .s265 { color: #050505; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 17pt; }
 .s266 { color: #2F2321; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 72pt; }
 .s267 { color: #050505; font-family:Arial, sans-serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 15.5pt; }
 .s268 { color: #050505; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 16pt; }
 .s269 { color: #050505; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 15.5pt; }
 .s270 { color: #050505; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 15pt; }
 .s271 { color: #050505; font-family:Arial, sans-serif; font-style: italic; font-weight: normal; text-decoration: underline; font-size: 15.5pt; }
 .s272 { color: #1C4D70; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 72pt; }
 .s273 { color: #050505; font-family:Arial, sans-serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 15.5pt; }
 .s274 { color: #0A0C0C; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 14.5pt; }
 .s275 { color: #E6F4F9; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8.5pt; vertical-align: 1pt; }
 .s276 { color: #E6F4F9; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8.5pt; vertical-align: 1pt; }
 .s277 { color: #1A1C1F; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 .s278 { color: #2F3438; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 .s279 { color: #36751C; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 .s280 { color: #36751C; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 8.5pt; }
 .s281 { color: #36751C; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9.5pt; }
 .s283 { color: #1A1C1F; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9.5pt; }
 .s284 { color: #5D6B75; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9.5pt; }
 .s286 { color: #1A1C1F; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9.5pt; }
 .s287 { color: #1A1C1F; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10.5pt; }
 .s289 { color: #3F464B; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9.5pt; }
 .s290 { color: #0A0C0C; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9.5pt; }
 .s291 { color: #0A0C0C; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 .s292 { color: #2F3438; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10.5pt; }
 .s293 { color: #1A1C1F; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 8.5pt; }
 .s294 { color: #3F464B; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 8.5pt; }
 .s295 { color: #2F3438; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; }
 .s296 { color: #5D6B75; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7.5pt; }
 .s297 { color: #5D6B75; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8.5pt; }
 .s298 { color: #5D6B75; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9.5pt; }
 .s299 { color: #778089; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9.5pt; }
 .s301 { color: #5D6B75; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; }
 .s302 { color: #5D6B75; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; }
 .s304 { color: #778089; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; }
 .s305 { color: #5D6B75; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8.5pt; }
 .s306 { color: #939AA0; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8.5pt; }
 .s307 { color: #1F5290; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8.5pt; }
 .s308 { color: #1F5290; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; }
 .s309 { color: #2F3438; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 7.5pt; }
 .s310 { color: #1A1C1F; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 7.5pt; }
 .s311 { color: #1A1C1F; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 7.5pt; }
 .s312 { color: #2F3438; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 7pt; }
 .s313 { color: #1A1C1F; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 7pt; }
 .s314 { color: #1A1C1F; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 7.5pt; }
 .s315 { color: #2F3438; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 7.5pt; }
 .s316 { color: #52575D; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7pt; }
 .s318 { color: #2F3438; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 7.5pt; }
 .s319 { color: #1F5290; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; }
 .s322 { color: #E66E05; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 4.5pt; }
 .s323 { color: #018007; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 4.5pt; }
 .s324 { color: #2F3438; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 4.5pt; }
 .s325 { color: #3F464B; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 4.5pt; }
 .s326 { color: #1A1C1F; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 22.5pt; }
 .s327 { color: #778089; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 22.5pt; vertical-align: -3pt; }
 .s328 { color: #5D6B75; font-family:Arial, sans-serif; font-style: italic; font-weight: bold; text-decoration: none; font-size: 9pt; }
 .s330 { color: #5D6B75; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 15.5pt; }
 .s331 { color: #3F464B; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 14pt; }
 .s332 { color: #2F3438; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 21.5pt; }
 .s333 { color: #52575D; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 18pt; }
 .s334 { color: #2F3438; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 9pt; }
 .s336 { color: #0A0C0C; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 16pt; }
 .s337 { color: #0A0C0C; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 17.5pt; }
 .s338 { color: #E6F4F9; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10.5pt; }
 .s339 { color: #E6F4F9; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10.5pt; }
 .s340 { color: #2F3438; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 11pt; }
 .s341 { color: #36751C; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10.5pt; }
 .s342 { color: #1A1C1F; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 11.5pt; }
 .s344 { color: #1A1C1F; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 13.5pt; }
 .s346 { color: #1A1C1F; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10.5pt; }
 .s348 { color: #2F3438; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 8.5pt; }
 .s349 { color: #2F3438; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 6.5pt; }
 .s350 { color: #1A1C1F; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 8.5pt; }
 .s351 { color: #1A1C1F; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8.5pt; }
 .s354 { color: #1A1C1F; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 72pt; vertical-align: 7pt; }
 .s355 { color: #3F464B; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 14.5pt; }
 .s356 { color: #2F3438; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 13pt; }
 .s358 { color: #1F5290; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .s359 { color: #1F5290; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9.5pt; }
 .s360 { color: #010101; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 13pt; }
 .s361 { color: #213D49; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 72pt; vertical-align: -44pt; }
 .s362 { color: #010101; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 13pt; }
 .s363 { color: #010101; font-family:Arial, sans-serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 13pt; }
 .s364 { color: #03243D; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 27pt; }
 .s365 { color: #010101; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 14.5pt; }
 .s366 { color: #010101; font-family:Arial, sans-serif; font-style: italic; font-weight: bold; text-decoration: none; font-size: 13pt; }
 .s367 { color: #F2F9F6; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 13pt; }
 .s368 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; vertical-align: -1pt; }
 .s369 { color: #050505; font-family:Arial, sans-serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 9.5pt; }
 .s370 { color: #050505; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9.5pt; }
 .s372 { color: #050505; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10.5pt; }
 .s373 { color: #050505; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 11pt; }
 .s374 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; vertical-align: 15pt; }
 .s375 { color: #030303; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; }
 .s376 { color: #030303; font-family:Arial, sans-serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 12pt; }
 .s377 { color: #030303; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt; }
 .s378 { color: #030303; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; }
 .s380 { color: #030303; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 13.5pt; }
 .s382 { color: #030303; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: underline; font-size: 15pt; }
 .s383 { color: #030303; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 15pt; }
 .s384 { color: #030303; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 15pt; }
 .s385 { color: #BF2628; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 16.5pt; }
 .s387 { color: #030303; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 15pt; }
 .s388 { color: #030303; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 13.5pt; }
 .s389 { color: #070707; font-family:Arial, sans-serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 11pt; }
 .s390 { color: #070707; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 11pt; }
 .s391 { color: #070707; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12.5pt; }
 .s392 { color: #070707; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12.5pt; }
 .s394 { color: #C1262D; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 15.5pt; }
 .s396 { color: #070707; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 13.5pt; }
 .s397 { color: #070707; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10.5pt; }
 .s398 { color: #070707; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 12.5pt; }
 .s400 { color: #030101; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 13pt; }
 .s401 { color: #B37201; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 13.5pt; }
 .s402 { color: #F4FBF7; font-family:"Courier New", monospace; font-style: normal; font-weight: normal; text-decoration: none; font-size: 16pt; }
 .s403 { color: #030101; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: underline; font-size: 31pt; }
 .s405 { color: #010F1A; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: underline; font-size: 16pt; }
 .s406 { color: #010F1A; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 16pt; }
 .s407 { color: #030101; font-family:Arial, sans-serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 13pt; }
 .s408 { color: #031F34; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 28pt; }
 .s409 { color: #030101; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 14.5pt; }
 .s410 { color: #030101; font-family:Arial, sans-serif; font-style: italic; font-weight: bold; text-decoration: underline; font-size: 13.5pt; }
 h1 { color: #F4FBF7; font-family:Arial, sans-serif; font-style: italic; font-weight: bold; text-decoration: none; font-size: 71pt; }
 .s411 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 9pt; vertical-align: -1pt; }
 .s412 { color: black; font-family:"Courier New", monospace; font-style: normal; font-weight: bold; text-decoration: none; font-size: 9pt; }
 .s413 { color: black; font-family:"Courier New", monospace; font-style: normal; font-weight: bold; text-decoration: none; font-size: 9pt; vertical-align: 1pt; }
 .s414 { color: black; font-family:"Courier New", monospace; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 .s415 { color: #070707; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; }
 .s416 { color: #070707; font-family:Arial, sans-serif; font-style: italic; font-weight: normal; text-decoration: underline; font-size: 11pt; }
 .s417 { color: #0070BC; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 18.5pt; }
 .s418 { color: #0070BC; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: underline; font-size: 10.5pt; }
 .s419 { color: #0070BC; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10.5pt; }
 .s420 { color: #0070BC; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 31pt; }
 .s421 { color: #0070BC; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: underline; font-size: 31pt; }
 .s422 { color: #0070BC; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 31pt; }
 .s423 { color: #41B877; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 11pt; }
 .s424 { color: #41B877; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 11pt; }
 .s425 { color: #9700CD; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 11pt; }
 .s426 { color: #9700CD; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 11pt; }
 .s427 { color: #C6232B; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 16.5pt; }
 .s429 { color: #050505; font-family:Arial, sans-serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 11pt; }
 .s430 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 1pt; }
 .s431 { color: #050505; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; }
 .s432 { color: #050505; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12.5pt; }
 .s433 { color: #050505; font-family:Arial, sans-serif; font-style: italic; font-weight: normal; text-decoration: underline; font-size: 11pt; }
 .s434 { color: #050505; font-family:"Courier New", monospace; font-style: normal; font-weight: normal; text-decoration: none; font-size: 15pt; }
 .s435 { color: #050505; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12.5pt; }
 .s436 { color: #0170BC; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 20pt; }
 .s437 { color: #0170BC; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 14.5pt; }
 .s438 { color: #0170BC; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 31pt; }
 .s439 { color: #46B579; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 11pt; }
 .s440 { color: #9900C8; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 11pt; }
 .s441 { color: #C62A2F; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 16.5pt; }
 .s442 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 12pt; }
 li {display: block; }
 #l1 {padding-left: 0pt;counter-reset: c1 1; }
 #l1> li>*:first-child:before {counter-increment: c1; content: counter(c1, decimal)". "; color: #3C3B49; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 14.5pt; }
 #l1> li:first-child>*:first-child:before {counter-increment: c1 0;  }
 li {display: block; }
 #l2 {padding-left: 0pt;counter-reset: d1 1; }
 #l2> li>*:first-child:before {counter-increment: d1; content: counter(d1, decimal)" "; color: #8E0011; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 #l2> li:first-child>*:first-child:before {counter-increment: d1 0;  }
 li {display: block; }
 #l3 {padding-left: 0pt;counter-reset: e1 1; }
 #l3> li>*:first-child:before {counter-increment: e1; content: counter(e1, decimal)" "; color: #8E0011; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 #l3> li:first-child>*:first-child:before {counter-increment: e1 0;  }
 li {display: block; }
 #l4 {padding-left: 0pt;counter-reset: f1 1; }
 #l4> li>*:first-child:before {counter-increment: f1; content: counter(f1, decimal)". "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; }
 #l4> li:first-child>*:first-child:before {counter-increment: f1 0;  }
 li {display: block; }
 #l5 {padding-left: 0pt;counter-reset: g1 7; }
 #l5> li>*:first-child:before {counter-increment: g1; content: counter(g1, decimal)". "; color: #0000ED; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt; }
 #l5> li:first-child>*:first-child:before {counter-increment: g1 0;  }
 #l6 {padding-left: 0pt;counter-reset: g2 1; }
 #l6> li>*:first-child:before {counter-increment: g2; content: counter(g2, decimal)" "; color: #8E0011; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 #l6> li:first-child>*:first-child:before {counter-increment: g2 0;  }
 li {display: block; }
 #l7 {padding-left: 0pt;counter-reset: h1 1; }
 #l7> li>*:first-child:before {counter-increment: h1; content: counter(h1, decimal)" "; color: #8E0011; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 #l7> li:first-child>*:first-child:before {counter-increment: h1 0;  }
 li {display: block; }
 #l8 {padding-left: 0pt;counter-reset: i1 1; }
 #l8> li>*:first-child:before {counter-increment: i1; content: counter(i1, decimal)" "; color: #8E0011; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 #l8> li:first-child>*:first-child:before {counter-increment: i1 0;  }
 li {display: block; }
 #l9 {padding-left: 0pt;counter-reset: j1 1; }
 #l9> li>*:first-child:before {counter-increment: j1; content: counter(j1, decimal)" "; color: #8E0011; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 #l9> li:first-child>*:first-child:before {counter-increment: j1 0;  }
 li {display: block; }
 #l10 {padding-left: 0pt;counter-reset: k1 1; }
 #l10> li>*:first-child:before {counter-increment: k1; content: counter(k1, decimal)" "; color: #8E0011; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 #l10> li:first-child>*:first-child:before {counter-increment: k1 0;  }
 li {display: block; }
 #l11 {padding-left: 0pt;counter-reset: l1 1; }
 #l11> li>*:first-child:before {counter-increment: l1; content: counter(l1, decimal)" "; color: #8E0011; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 #l11> li:first-child>*:first-child:before {counter-increment: l1 0;  }
 li {display: block; }
 #l12 {padding-left: 0pt;counter-reset: m1 1; }
 #l12> li>*:first-child:before {counter-increment: m1; content: counter(m1, decimal)". "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; }
 #l12> li:first-child>*:first-child:before {counter-increment: m1 0;  }
 li {display: block; }
 #l13 {padding-left: 0pt;counter-reset: n1 1; }
 #l13> li>*:first-child:before {counter-increment: n1; content: counter(n1, decimal)". "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; }
 #l13> li:first-child>*:first-child:before {counter-increment: n1 0;  }
 li {display: block; }
 #l14 {padding-left: 0pt;counter-reset: o1 1; }
 #l14> li>*:first-child:before {counter-increment: o1; content: counter(o1, decimal)" "; color: #8E0011; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 #l14> li:first-child>*:first-child:before {counter-increment: o1 0;  }
 li {display: block; }
 #l15 {padding-left: 0pt;counter-reset: p1 1; }
 #l15> li>*:first-child:before {counter-increment: p1; content: "("counter(p1, decimal)") "; color: #030101; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 13pt; }
 #l15> li:first-child>*:first-child:before {counter-increment: p1 0;  }
 li {display: block; }
 #l16 {padding-left: 0pt;counter-reset: q1 1; }
 #l16> li>*:first-child:before {counter-increment: q1; content: counter(q1, decimal)" "; color: #8E0011; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 #l16> li:first-child>*:first-child:before {counter-increment: q1 0;  }
 li {display: block; }
 #l17 {padding-left: 0pt;counter-reset: r1 1; }
 #l17> li>*:first-child:before {counter-increment: r1; content: counter(r1, decimal)". "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; }
 #l17> li:first-child>*:first-child:before {counter-increment: r1 0;  }
 li {display: block; }
 #l18 {padding-left: 0pt;counter-reset: s1 1; }
 #l18> li>*:first-child:before {counter-increment: s1; content: counter(s1, decimal)" "; color: #8E0011; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 #l18> li:first-child>*:first-child:before {counter-increment: s1 0;  }
 li {display: block; }
 #l19 {padding-left: 0pt;counter-reset: t1 1; }
 #l19> li>*:first-child:before {counter-increment: t1; content: counter(t1, decimal)". "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; }
 #l19> li:first-child>*:first-child:before {counter-increment: t1 0;  }
 li {display: block; }
 #l20 {padding-left: 0pt;counter-reset: u1 1; }
 #l20> li>*:first-child:before {counter-increment: u1; content: counter(u1, decimal)" "; color: #8E0011; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 #l20> li:first-child>*:first-child:before {counter-increment: u1 0;  }
 li {display: block; }
 #l21 {padding-left: 0pt;counter-reset: v1 2; }
 #l21> li>*:first-child:before {counter-increment: v1; content: counter(v1, decimal)" "; color: black; font-style: normal; font-weight: normal; text-decoration: none; }
 #l21> li:first-child>*:first-child:before {counter-increment: v1 0;  }
 #l22 {padding-left: 0pt;counter-reset: v2 0; }
 #l22> li>*:first-child:before {counter-increment: v2; content: counter(v1, decimal)"."counter(v2, decimal)" "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; }
 #l22> li:first-child>*:first-child:before {counter-increment: v2 0;  }
 #l23 {padding-left: 0pt;counter-reset: v3 1; }
 #l23> li>*:first-child:before {counter-increment: v3; content: counter(v3, decimal)". "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; }
 #l23> li:first-child>*:first-child:before {counter-increment: v3 0;  }
 #l24 {padding-left: 0pt;counter-reset: w1 4; }
 #l24> li>*:first-child:before {counter-increment: w1; content: counter(w1, decimal)". "; color: #050505; font-family:Arial, sans-serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 15.5pt; }
 #l24> li:first-child>*:first-child:before {counter-increment: w1 0;  }
 #l25 {padding-left: 0pt;counter-reset: v4 1; }
 #l25> li>*:first-child:before {counter-increment: v4; content: counter(v4, decimal)". "; color: #050505; font-family:Arial, sans-serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 15.5pt; }
 #l25> li:first-child>*:first-child:before {counter-increment: v4 0;  }
 li {display: block; }
 #l26 {padding-left: 0pt; }
 #l26> li>*:first-child:before {content: "• "; color: black; font-style: normal; font-weight: normal; text-decoration: none; }
 li {display: block; }
 #l27 {padding-left: 0pt; }
 #l27> li>*:first-child:before {content: "• "; color: #E8130F; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 4.5pt; }
 li {display: block; }
 #l28 {padding-left: 0pt; }
 #l28> li>*:first-child:before {content: "• "; color: black; font-style: normal; font-weight: normal; text-decoration: none; }
 li {display: block; }
 #l29 {padding-left: 0pt;counter-reset: c1 1; }
 #l29> li>*:first-child:before {counter-increment: c1; content: counter(c1, decimal)" "; color: #8E0011; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 #l29> li:first-child>*:first-child:before {counter-increment: c1 0;  }
 li {display: block; }
 #l30 {padding-left: 0pt;counter-reset: d1 1; }
 #l30> li>*:first-child:before {counter-increment: d1; content: counter(d1, decimal)". "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; }
 #l30> li:first-child>*:first-child:before {counter-increment: d1 0;  }
 li {display: block; }
 #l31 {padding-left: 0pt;counter-reset: e1 1; }
 #l31> li>*:first-child:before {counter-increment: e1; content: counter(e1, decimal)" "; color: #8E0011; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 #l31> li:first-child>*:first-child:before {counter-increment: e1 0;  }
 li {display: block; }
 #l32 {padding-left: 0pt;counter-reset: f1 1; }
 #l32> li>*:first-child:before {counter-increment: f1; content: counter(f1, decimal)" "; color: #8E0011; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 #l32> li:first-child>*:first-child:before {counter-increment: f1 0;  }
 li {display: block; }
 #l33 {padding-left: 0pt;counter-reset: g1 1; }
 #l33> li>*:first-child:before {counter-increment: g1; content: counter(g1, decimal)" "; color: #8E0011; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 #l33> li:first-child>*:first-child:before {counter-increment: g1 0;  }
 li {display: block; }
 #l34 {padding-left: 0pt;counter-reset: h1 1; }
 #l34> li>*:first-child:before {counter-increment: h1; content: counter(h1, decimal)" "; color: #8E0011; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 #l34> li:first-child>*:first-child:before {counter-increment: h1 0;  }
 li {display: block; }
 #l35 {padding-left: 0pt;counter-reset: i1 1; }
 #l35> li>*:first-child:before {counter-increment: i1; content: counter(i1, decimal)". "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; }
 #l35> li:first-child>*:first-child:before {counter-increment: i1 0;  }
 li {display: block; }
 #l36 {padding-left: 0pt;counter-reset: j1 1; }
 #l36> li>*:first-child:before {counter-increment: j1; content: counter(j1, decimal)". "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; }
 #l36> li:first-child>*:first-child:before {counter-increment: j1 0;  }
 li {display: block; }
 #l37 {padding-left: 0pt;counter-reset: k1 1; }
 #l37> li>*:first-child:before {counter-increment: k1; content: counter(k1, decimal)". "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; }
 #l37> li:first-child>*:first-child:before {counter-increment: k1 0;  }
 li {display: block; }
 #l38 {padding-left: 0pt;counter-reset: l1 1; }
 #l38> li>*:first-child:before {counter-increment: l1; content: counter(l1, decimal)" "; color: #8E0011; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 #l38> li:first-child>*:first-child:before {counter-increment: l1 0;  }
 li {display: block; }
 #l39 {padding-left: 0pt;counter-reset: m1 1; }
 #l39> li>*:first-child:before {counter-increment: m1; content: counter(m1, decimal)". "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; }
 #l39> li:first-child>*:first-child:before {counter-increment: m1 0;  }
 li {display: block; }
 #l40 {padding-left: 0pt;counter-reset: n1 1; }
 #l40> li>*:first-child:before {counter-increment: n1; content: counter(n1, decimal)" "; color: #8E0011; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 #l40> li:first-child>*:first-child:before {counter-increment: n1 0;  }
 li {display: block; }
 #l41 {padding-left: 0pt;counter-reset: o1 1; }
 #l41> li>*:first-child:before {counter-increment: o1; content: counter(o1, decimal)" "; color: #8E0011; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 #l41> li:first-child>*:first-child:before {counter-increment: o1 0;  }
 li {display: block; }
 #l42 {padding-left: 0pt;counter-reset: p1 1; }
 #l42> li>*:first-child:before {counter-increment: p1; content: counter(p1, decimal)". "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; }
 #l42> li:first-child>*:first-child:before {counter-increment: p1 0;  }
 li {display: block; }
 #l43 {padding-left: 0pt;counter-reset: q1 1; }
 #l43> li>*:first-child:before {counter-increment: q1; content: counter(q1, decimal)" "; color: #8E0011; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 #l43> li:first-child>*:first-child:before {counter-increment: q1 0;  }
 li {display: block; }
 #l44 {padding-left: 0pt;counter-reset: r1 1; }
 #l44> li>*:first-child:before {counter-increment: r1; content: counter(r1, decimal)" "; color: #8E0011; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 #l44> li:first-child>*:first-child:before {counter-increment: r1 0;  }
 li {display: block; }
 #l45 {padding-left: 0pt;counter-reset: s1 1; }
 #l45> li>*:first-child:before {counter-increment: s1; content: counter(s1, decimal)" "; color: #8E0011; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 #l45> li:first-child>*:first-child:before {counter-increment: s1 0;  }
 table, tbody {vertical-align: top; overflow: visible; }
</style></head><body><p style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><span><img width="159" height="28" alt="image" src="Image_001.jpg"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><h2 style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Learning Digital Identity</h2><p class="s1" style="padding-top: 7pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">Design, Deploy, and Manage Identity Architectures</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="729" height="441" alt="image" src="Image_002.png"/></span></p><p class="s3" style="text-indent: 0pt;line-height: 21pt;text-align: left;"><span class="s2">-</span> <u>x.</u> <u>J</u>:</p><p style="text-indent: 0pt;text-align: left;"/><p class="s5" style="text-indent: 0pt;line-height: 20pt;text-align: left;">? :;</p><p style="text-indent: 0pt;text-align: left;"/><p class="s6" style="text-indent: 0pt;line-height: 24pt;text-align: left;">-<span style=" color: #6E5244;">-</span></p><p style="text-indent: 0pt;text-align: left;"/><p class="s8" style="text-indent: 0pt;line-height: 12pt;text-align: left;">--</p><p style="text-indent: 0pt;text-align: left;"/><p class="s9" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: center;">. <span style=" color: #807C77;">,.</span></p><p class="s11" style="text-indent: 0pt;line-height: 14pt;text-align: center;">--Y</p><p style="text-indent: 0pt;text-align: left;"/><p class="s12" style="text-indent: 0pt;text-align: left;">:!<span class="s13">-·</span></p><p style="text-indent: 0pt;text-align: left;"/><p class="s14" style="text-indent: 0pt;line-height: 16pt;text-align: left;">Compliments of</p><p style="text-indent: 0pt;text-align: left;"/><p class="s15" style="text-indent: 0pt;line-height: 34pt;text-align: left;">Ping ldent1t y<span style=" color: #504F4B;">®</span></p><p style="text-indent: 0pt;text-align: left;"/><p class="s17" style="padding-top: 3pt;padding-left: 332pt;text-indent: 0pt;text-align: left;">Phillip <span class="s18">J. </span>Windley</p><p class="s19" style="padding-top: 2pt;padding-left: 236pt;text-indent: 0pt;text-align: left;">Foreword by Drummond Reed</p><p class="s21" style="padding-top: 3pt;padding-left: 39pt;text-indent: 0pt;text-align: left;">Ping Identity</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 39pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="624" height="1" alt="image" src="Image_003.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="494" height="533" alt="image" src="Image_004.jpg"/></span></p><p class="s22" style="text-indent: 0pt;line-height: 181%;text-align: left;">Design end-to-end customer journeys with identity security by integrating all your vendors with no-code, drag and drop visual flows. Create digital journeys that balance security with convenience</p><p class="s22" style="text-indent: 0pt;line-height: 10pt;text-align: left;">to create frictionless user experiences.</p><p style="text-indent: 0pt;text-align: left;"/><p class="s22" style="text-indent: 0pt;line-height: 10pt;text-align: left;">Only with Ping Identity.</p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;line-height: 35pt;text-align: left;"><span class="s23" style=" background-color: #E61D2A;">Ping</span></p><p style="text-indent: 0pt;text-align: left;"/><p class="s24" style="text-indent: 0pt;line-height: 14pt;text-align: left;">Identity<span style=" color: #F4AFB3;">.</span></p><p style="text-indent: 0pt;text-align: left;"/><p class="s26" style="text-indent: 0pt;text-align: left;">Experience A Better Experience.</p><p style="text-indent: 0pt;text-align: left;"/><p style="padding-top: 4pt;padding-left: 110pt;text-indent: 0pt;line-height: 165%;text-align: left;"><span class="h4" style=" background-color: #E61D2A;">NO CODING.</span><span class="s27"> </span><span class="h4" style=" background-color: #E61D2A;">NO WAITING.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s21" style="padding-top: 4pt;padding-left: 101pt;text-indent: 0pt;text-align: center;">Learning Digital Identity</p><p class="s28" style="padding-top: 9pt;padding-left: 101pt;text-indent: 0pt;text-align: center;">Design, Deploy, and Manage Identity Architectures</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s29" style="padding-left: 101pt;text-indent: 0pt;text-align: center;">Phillip J. Windley</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 153pt;text-indent: 0pt;text-align: left;"><span><img width="320" height="63" alt="image" src="Image_005.png"/></span></p><p class="s30" style="padding-top: 3pt;padding-left: 39pt;text-indent: 0pt;text-align: left;">Learning Digital Identity</p><p style="padding-top: 6pt;padding-left: 39pt;text-indent: 0pt;text-align: left;">by Phillip J. Windley</p><p style="padding-top: 7pt;padding-left: 39pt;text-indent: 0pt;line-height: 152%;text-align: left;">Copyright © 2023 PJW, L.C. All rights reserved. Printed in the United States of America.</p><p style="padding-left: 39pt;text-indent: 0pt;text-align: left;">Published by O’Reilly Media, Inc., 1005 Gravenstein Highway North, Sebastopol, CA 95472.</p><p style="padding-top: 7pt;padding-left: 39pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="http://oreilly.com/" class="s33" target="_blank">O’Reilly books may be purchased for educational, business, or sales promotional use. Online editions are also available for most titles (</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: italic; font-weight: normal; text-decoration: underline; font-size: 12pt;">http://oreilly.com</span><a href="mailto:corporate@oreilly.com" class="s33" target="_blank">). For more information, contact our corporate/institutional sales department: 800-998-9938 or </a><a href="mailto:corporate@oreilly.com" class="s32" target="_blank">corporate@oreilly.com</a><a href="mailto:corporate@oreilly.com" class="s33" target="_blank">.</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 60pt;text-indent: 0pt;line-height: 209%;text-align: left;">Acquisitions Editor: Jennifer Pollock Development Editor: Sarah Grey Production Editor: Beth Kelly Copyeditor: nSight, Inc.</p><p style="padding-left: 60pt;text-indent: 0pt;line-height: 209%;text-align: left;">Proofreader: Piper Editorial Consulting, LLC Indexer: Judith McConville</p><p style="padding-left: 60pt;text-indent: 0pt;line-height: 209%;text-align: left;">Interior Designer: David Futato Cover Designer: Karen Montgomery Illustrator: Kate Dullea</p><p style="padding-left: 63pt;text-indent: 0pt;line-height: 12pt;text-align: left;">January 2023: First Edition</p><p class="s30" style="padding-top: 9pt;padding-left: 39pt;text-indent: 0pt;text-align: left;">Revision History for the First Release</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_006.png"/></span></p><p style="padding-top: 9pt;padding-left: 63pt;text-indent: 0pt;text-align: left;">2023-01-10: First Release</p><p class="s34" style="padding-top: 10pt;padding-left: 39pt;text-indent: 0pt;text-align: left;"><a href="http://oreilly.com/catalog/errata.csp?isbn=9781098117696" class="s33" target="_blank">See </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: italic; font-weight: normal; text-decoration: underline; font-size: 12pt;">http://oreilly.com/catalog/errata.csp?isbn=9781098117696</span> <span class="p">for release details.</span></p><p style="padding-top: 7pt;padding-left: 39pt;text-indent: 0pt;line-height: 109%;text-align: left;">The O’Reilly logo is a registered trademark of O’Reilly Media, Inc. <i>Learning Digital Identity</i>, the cover image, and related trade dress are trademarks of O’Reilly Media, Inc.</p><p style="padding-top: 5pt;padding-left: 39pt;text-indent: 0pt;line-height: 109%;text-align: left;">The views expressed in this work are those of the author and do not represent the publisher’s views. While the publisher and the author have used good faith efforts to ensure that the information and instructions contained in this work are accurate, the publisher and the author disclaim all responsibility for errors or omissions, including without limitation responsibility for damages resulting from the use of or reliance on this work. Use of the information and instructions contained in this work is at your own risk. If any code samples or other technology</p><p style="padding-top: 3pt;padding-left: 39pt;text-indent: 0pt;line-height: 109%;text-align: left;">this work contains or describes is subject to open source licenses or the intellectual property rights of others, it is your responsibility to ensure that your use thereof complies with such licenses and/or rights.</p><p style="padding-top: 5pt;padding-left: 39pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/editorial-independence" class="s33" target="_blank">This work is part of a collaboration between O’Reilly and Ping. See our </a><a href="https://oreil.ly/editorial-independence" class="a" target="_blank">statement of editorial</a><a href="https://oreil.ly/editorial-independence" class="s36" target="_blank"> </a><a href="https://oreil.ly/editorial-independence" class="a" target="_blank">independence</a><a href="https://oreil.ly/editorial-independence" class="s33" target="_blank">.</a></p><p style="padding-top: 5pt;padding-left: 39pt;text-indent: 0pt;line-height: 152%;text-align: left;">978-1-098-14674-0 [LSI]</p><p class="s37" style="padding-top: 3pt;padding-left: 144pt;text-indent: 0pt;text-align: center;">Table of contents</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 12pt;padding-left: 5pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/preface02.html#_preface" class="s38" target="_blank">Foreword Preface</a></p><p style="padding-left: 36pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/preface02.html#whoisthisbookfor" class="s40">Who Is This Book For?</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 36pt;text-indent: 0pt;line-height: 216%;text-align: justify;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/preface02.html#_safari_books_online" class="s40" target="_blank">Conventions Used in This Book Oâ Reilly Online Learning</a></p><p style="padding-left: 36pt;text-indent: 0pt;line-height: 216%;text-align: justify;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/preface02.html#acknowledgments" class="s40" target="_blank">How to Contact Us </a><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/preface02.html#credits" class="s40" target="_blank">Acknowledgments Credits</a></p><p style="padding-left: 36pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/preface02.html#inmemoriam" class="s40">In Memoriam</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><ol id="l1"><li><p style="padding-left: 21pt;text-indent: -16pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch01.html#the_nature_of_identity" class="s38" target="_blank">The Nature of Identity</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 36pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch01.html#a_bundle_of_sticksquestion_mark" class="s40">A Bundle of Sticks?</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 36pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch01.html#no_universal_identity_systems" class="s40" target="_blank">Identity Is Bigger Than You Think No Universal Identity Systems</a></p><p style="padding-left: 36pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch01.html#the_road_ahead" class="s40">The Road Ahead</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li><p style="padding-left: 21pt;text-indent: -16pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch02.html#defining_digital_identity" class="s38" target="_blank">Defining Digital Identity</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 36pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch02.html#identity_scenarios_in_the_physical_worl" class="s40" target="_blank">The Language of Digital Identity </a><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch02.html#identitycomma_securitycomma_and_privacy" class="s40" target="_blank">Identity Scenarios in the Physical World Identity, Security, and Privacy</a></p><p style="padding-left: 36pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch02.html#digital_identity_perspectives" class="s40">Digital Identity Perspectives</a></p><p style="padding-top: 3pt;padding-left: 68pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch02.html#locus_of_control" class="s40" target="_blank">Tiers of Identity Locus of Control</a></p><p style="padding-left: 36pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch02.html#conclusion-id00004" class="s40" target="_blank">Reimagining Decentralized and Distributed A Common Language</a></p></li><li><p style="padding-left: 21pt;text-indent: -16pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch03.html#the_problems_of_digital_identity" class="s38" target="_blank">The Problems of Digital Identity</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 36pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch03.html#the_proximity_problem" class="s40" target="_blank">Tacit Knowledge and the Physical World The Proximity Problem</a></p><p style="padding-left: 36pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch03.html#the_flexibility_problem" class="s40" target="_blank">The Autonomy Problem </a><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch03.html#the_consent_problem" class="s40" target="_blank">The Flexibility Problem </a><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch03.html#the_privacy_problem" class="s40" target="_blank">The Consent Problem The Privacy Problem</a></p><p style="padding-left: 36pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch03.html#the_interoperability_problem" class="s40" target="_blank">The (Lack of) Anonymity Problem The Interoperability Problem</a></p><p style="padding-left: 36pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch03.html#conclusion-id00006" class="s40" target="_blank">The Scale Problem Solving the Problems</a></p></li><li><p style="padding-left: 21pt;text-indent: -16pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch04.html#the_laws_of_digital_identity" class="s38" target="_blank">The Laws of Digital Identity</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 36pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch04.html#the_laws_of_identity" class="s40" target="_blank">An Identity Metasystem The Laws of Identity</a></p><p style="padding-left: 68pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch04.html#user_control_and_consent" class="s40">User Control and Consent</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 68pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch04.html#minimal_disclosure_for_a_constrained_us" class="s40">Minimal Disclosure for a Constrained Use</a></p><p style="padding-top: 3pt;padding-left: 68pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch04.html#directed_identity" class="s40" target="_blank">Justifiable Parties Directed Identity</a></p><p style="padding-left: 68pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch04.html#human_integration" class="s40" target="_blank">Pluralism of Operators and Technologies Human Integration</a></p><p style="padding-left: 36pt;text-indent: 31pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch04.html#fixing_the_problems_of_identity" class="s40" target="_blank">Consistent Experience Across Contexts Fixing the Problems of Identity</a></p></li><li><p style="padding-left: 21pt;text-indent: -16pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch05.html#relationships_and_identity" class="s38" target="_blank">Relationships and Identity</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 36pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch05.html#identity_niches" class="s40">Identity Niches</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 36pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch05.html#relationship_life_span" class="s40" target="_blank">Relationship Integrity Relationship Life Span</a></p><p style="padding-left: 68pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch05.html#fluid_multi_pseudonymity" class="s40" target="_blank">Anonymity and Pseudonymity Fluid Multi-Pseudonymity</a></p><p style="padding-left: 36pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch05.html#relationship_utility" class="s40">Relationship Utility</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 36pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch05.html#conclusion-id00007" class="s40" target="_blank">Transactional and Interactional Relationships Promoting Rich Relationships</a></p></li><li><p style="padding-left: 21pt;text-indent: -16pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch06.html#the_digital_relationship_lifecycle" class="s38" target="_blank">The Digital Relationship Lifecycle</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 36pt;text-indent: 0pt;line-height: 216%;text-align: justify;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch06.html#co_creating" class="s40" target="_blank">Discovering </a><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch06.html#propagating" class="s40" target="_blank">Co-Creating </a><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch06.html#using" class="s40" target="_blank">Propagating Using</a></p><p style="padding-left: 36pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch06.html#updating_or_changing" class="s40">Updating or Changing</a></p><p style="padding-top: 3pt;padding-left: 36pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch06.html#conclusion-id00008" class="s40" target="_blank">Terminating Lifecycle Planning</a></p></li><li><p style="padding-left: 21pt;text-indent: -16pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch07.html#trustcomma_confidencecomma_and_risk" class="s38" target="_blank">Trust, Confidence, and Risk</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 36pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch07.html#risk_and_vulnerability" class="s40">Risk and Vulnerability</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 36pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch07.html#trust_frameworks" class="s40" target="_blank">Fidelity and Provenance Trust Frameworks</a></p><p style="padding-left: 36pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch07.html#the_nature_of_trust" class="s40">The Nature of Trust</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 36pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch07.html#coherence_and_social_systems" class="s40">Coherence and Social Systems</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 36pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch07.html#conclusion-id00009" class="s40">Trust, Confidence, and Coherence</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li><p style="padding-left: 21pt;text-indent: -16pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch08.html#privacy" class="s38">Privacy</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 36pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch08.html#what_is_privacyquestion_mark" class="s40">What Is Privacy?</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 68pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch08.html#information_privacy" class="s40" target="_blank">Communications Privacy and Confidentiality Information Privacy</a></p><p style="padding-left: 36pt;text-indent: 31pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch08.html#correlation" class="s40" target="_blank">Transactional Privacy Correlation</a></p><p style="padding-left: 36pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch08.html#functional_privacy" class="s40" target="_blank">Privacy, Authenticity, and Confidentiality Functional Privacy</a></p><p style="padding-left: 36pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch08.html#privacy_by_design" class="s40">Privacy by Design</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 68pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch08.html#principle_two_privacy_as_the_default_se" class="s40" target="_blank">Principle 1: Proactive Not Reactive; Preventive Not Remedial Principle 2: Privacy as the Default Setting</a></p><p class="s41" style="padding-top: 3pt;padding-left: 68pt;text-indent: 0pt;text-align: left;">Principle 3: Privacy Embedded into Design</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 68pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch08.html#principle_five_end_to_end_securityem_da" class="s40" target="_blank">Principle 4: Full Functionalityâ Positive-Sum, Not Zero-Sum </a><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch08.html#principle_six_visibility_and_transparen" class="s40" target="_blank">Principle 5: End-to-End Securityâ Full Lifecycle Protection </a><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch08.html#principle_seven_respect_for_user_privac" class="s40" target="_blank">Principle 6: Visibility and Transparencyâ Keep It Open Principle 7: Respect for User Privacyâ Keep It User-Centric</a></p><p style="padding-left: 36pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch08.html#privacy_regulations" class="s40">Privacy Regulations</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 68pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch08.html#california_consumer_privacy_act" class="s40" target="_blank">General Data Protection Regulation </a><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch08.html#other_regulatory_efforts" class="s40" target="_blank">California Consumer Privacy Act Other Regulatory Efforts</a></p><p style="padding-left: 36pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch08.html#surveillance_capitalism_and_web_twodotz" class="s40" target="_blank">The Time Value and Time Cost of Privacy </a><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch08.html#conclusion-id00010" class="s40" target="_blank">Surveillance Capitalism and Web 2.0 Privacy and Laws of Identity</a></p></li><li><p style="padding-left: 21pt;text-indent: -16pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch09.html#integritycomma_nonrepudiationcomma_and" class="s38" target="_blank">Integrity, Nonrepudiation, and Confidentiality</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 36pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch09.html#cryptography" class="s40">Cryptography</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 68pt;text-indent: 0pt;line-height: 216%;text-align: justify;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch09.html#public_key_cryptograph" class="s40" target="_blank">Secret Key Cryptography </a><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch09.html#hybrid_key_systems" class="s40" target="_blank">Public-Key Cryptography Hybrid Key Systems</a></p><p style="padding-left: 68pt;text-indent: 0pt;line-height: 216%;text-align: justify;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch09.html#key_generation" class="s40" target="_blank">Public-Key Cryptosystem Algorithms Key Generation</a></p><p style="padding-left: 68pt;text-indent: 0pt;text-align: justify;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch09.html#key_management" class="s40">Key Management</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 36pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch09.html#message_digests_and_hashes" class="s40">Message Digests and Hashes</a></p><p style="padding-top: 3pt;padding-left: 36pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch09.html#digital_certificates" class="s40" target="_blank">Digital Signatures Digital Certificates</a></p><p style="padding-left: 68pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch09.html#certificate_authorities" class="s40">Certificate Authorities</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 68pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch09.html#public_key_infrastructures" class="s40" target="_blank">Certificate Revocation Lists Public-Key Infrastructures</a></p><p style="padding-left: 68pt;text-indent: -31pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch09.html#zkp_systems" class="s40" target="_blank">Zero-Knowledge Proofs ZKP Systems</a></p><p style="padding-left: 36pt;text-indent: 31pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch09.html#blockchain_basics" class="s40" target="_blank">Noninteractive ZKPs Blockchain Basics</a></p><p style="padding-left: 68pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch09.html#byzantine_failure_and_sybil_attacks" class="s40" target="_blank">Decentralized Consensus </a><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch09.html#building_a_blockchain" class="s40" target="_blank">Byzantine Failure and Sybil Attacks Building a Blockchain</a></p><p style="padding-left: 68pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch09.html#classifying_blockchain" class="s40" target="_blank">Other Ways of Countering Sybil Attacks Classifying Blockchains</a></p><p style="padding-left: 68pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch09.html#should_you_use_a_blockchainquestion_ma" class="s40">Should You Use a Blockchain?</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 36pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch09.html#conclusion-id00011" class="s40">The Limitations of PKI</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li><p style="padding-left: 29pt;text-indent: -24pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch10.html#namescomma_identifierscomma_and_discove" class="s38" target="_blank">Names, Identifiers, and Discovery</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 36pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch10.html#naming" class="s40" target="_blank">Utah.gov: A Use Case in Naming and Directories Naming</a></p><p style="padding-left: 68pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch10.html#identifiers" class="s40" target="_blank">Namespaces Identifiers</a></p><p style="padding-top: 3pt;padding-left: 36pt;text-indent: 31pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch10.html#discovery" class="s40" target="_blank">Zookoâ s Triangle Discovery</a></p><p style="padding-left: 68pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch10.html#directories" class="s40">Directories</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 68pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch10.html#webfinger" class="s40" target="_blank">Domain Name System WebFinger</a></p><p style="padding-left: 36pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch10.html#heterarchical_directories" class="s40">Heterarchical Directories</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 68pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch10.html#distributed_hash_tables" class="s40" target="_blank">Personal Directories and Introductions Distributed Hash Tables</a></p><p style="padding-left: 36pt;text-indent: 31pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch10.html#conclusion-id00012" class="s40" target="_blank">Using Blockchains for Discovery Discovery Is Key</a></p></li><li><p style="padding-left: 27pt;text-indent: -22pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch11.html#authentication_and_relationship_integri" class="s38" target="_blank">Authentication and Relationship Integrity</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 36pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch11.html#enrollment" class="s40">Enrollment</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 68pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch11.html#biometric_collection" class="s40" target="_blank">Identity Proofing </a><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch11.html#attribute_collection" class="s40" target="_blank">Biometric Collection Attribute Collection</a></p><p style="padding-left: 36pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch11.html#authentication_factors" class="s40">Authentication Factors</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 68pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch11.html#possession_factor_something_you_have" class="s40" target="_blank">Knowledge Factor: Something You Know </a><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch11.html#inherence_factor_something_you_are" class="s40" target="_blank">Possession Factor: Something You Have </a><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch11.html#behavior_factor_something_you_do" class="s40" target="_blank">Inherence Factor: Something You Are Behavior Factor: Something You Do</a></p><p style="padding-top: 3pt;padding-left: 68pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch11.html#temporal_factor_some_time_youapostrophe" class="s40" target="_blank">Location Factor: Somewhere You Are Temporal Factor: Some Time Youâ re In</a></p><p style="padding-left: 68pt;text-indent: -31pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch11.html#identifier_only" class="s40" target="_blank">Authentication Methods Identifier Only</a></p><p style="padding-left: 68pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch11.html#challenge_response_systems" class="s40" target="_blank">Identifier and Authentication Factors </a><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch11.html#token_based_authentication" class="s40" target="_blank">Challenge-Response Systems Token-Based Authentication</a></p><p style="padding-left: 68pt;text-indent: -31pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch11.html#the_authentication_pyramid" class="s40" target="_blank">Classifying Authentication Strength The Authentication Pyramid</a></p><p style="padding-left: 36pt;text-indent: 31pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch11.html#account_recovery" class="s40" target="_blank">Authentication Assurance Levels Account Recovery</a></p><p style="padding-left: 68pt;text-indent: -31pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch11.html#practicality" class="s40" target="_blank">Authentication System Properties Practicality</a></p><p style="padding-left: 68pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch11.html#locational_transparency" class="s40" target="_blank">Appropriate Level of Security </a><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch11.html#integrable_and_flexible" class="s40" target="_blank">Locational Transparency </a><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch11.html#appropriate_level_of_privacy" class="s40" target="_blank">Integrable and Flexible </a><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch11.html#reliability" class="s40" target="_blank">Appropriate Level of Privacy Reliability</a></p><p style="padding-left: 68pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch11.html#auditability" class="s40">Auditability</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 68pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch11.html#manageability" class="s40">Manageability</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 68pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch11.html#federation_support" class="s40">Federation Support</a></p><p style="padding-top: 3pt;padding-left: 36pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch11.html#conclusion-id00013" class="s40">Authentication Preserves Relationship Integrity</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li><p style="padding-left: 28pt;text-indent: -23pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch12.html#access_control_and_relationship_utility" class="s38" target="_blank">Access Control and Relationship Utility</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 36pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch12.html#policy_first" class="s40">Policy First</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 68pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch12.html#responsibility" class="s40">Responsibility</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 68pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch12.html#principle_of_least_privilege" class="s40">Principle of Least Privilege</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 36pt;text-indent: 31pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch12.html#authorization_patterns" class="s40" target="_blank">Accountability Scales Better Than Enforcement Authorization Patterns</a></p><p style="padding-left: 68pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch12.html#user_based_permission_systems" class="s40" target="_blank">Mandatory and Discretionary Access Control User-Based Permission Systems</a></p><p style="padding-left: 68pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch12.html#access_control_lists" class="s40">Access Control Lists</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 68pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch12.html#role_based_access_control" class="s40">Role-Based Access Control</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 36pt;text-indent: 31pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch12.html#abstract_authorization_architectures" class="s40" target="_blank">Attribute- and Policy-Based Access Control Abstract Authorization Architectures</a></p><p style="padding-left: 36pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch12.html#HandlingComplexPolicySets" class="s40" target="_blank">Representing and Managing Access Control Policies Handling Complex Policy Sets</a></p><p style="padding-left: 36pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch12.html#conclusion-id00014" class="s40" target="_blank">Digital Certificates and Access Control Maintaining Proper Boundaries</a></p></li><li><p style="padding-left: 29pt;text-indent: -24pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch13.html#federated_identityem_dashleveraging_str" class="s38" target="_blank">Federated Identityâ Leveraging Strong Relationships</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 36pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch13.html#sso_versus_federation" class="s40" target="_blank">The Nature of Federated Identity SSO Versus Federation</a></p><p style="padding-top: 3pt;padding-left: 36pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch13.html#three_federation_patterns" class="s40" target="_blank">Federation in the Credit Card Industry Three Federation Patterns</a></p><p style="padding-left: 68pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch13.html#pattern_one_ad_hoc_federation" class="s40">Pattern 1: Ad Hoc Federation</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 68pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch13.html#pattern_three_identity_federation_netwo" class="s40" target="_blank">Pattern 2: Hub-and-Spoke Federation Pattern 3: Identity Federation Network</a></p><p style="padding-left: 36pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch13.html#addressing_the_problem_of_trust" class="s40">Addressing the Problem of Trust</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 36pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch13.html#federation_methods_and_standards" class="s40" target="_blank">Network Effects and Digital Identity Management Federation Methods and Standards</a></p><p style="padding-left: 68pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch13.html#saml" class="s40">SAML</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 68pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch13.html#scim" class="s40" target="_blank">SAML Authentication Flow SCIM</a></p><p style="padding-left: 68pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch13.html#oauth" class="s40">OAuth</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 36pt;text-indent: 31pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch13.html#governing_federation" class="s40" target="_blank">OpenID Connect Governing Federation</a></p><p style="padding-left: 36pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch13.html#conclusion-id00015" class="s40">Networked Federation Wins</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li><p style="padding-left: 29pt;text-indent: -24pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch14.html#cryptographic_identifiers" class="s38" target="_blank">Cryptographic Identifiers</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 36pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch14.html#decentralized_identifiers_left_parenthe" class="s40" target="_blank">The Problem with Email-Based Identifiers Decentralized Identifiers</a></p><p style="padding-left: 68pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch14.html#did_syntax" class="s40" target="_blank">DID Properties DID Syntax</a></p><p style="padding-left: 68pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch14.html#did_resolution" class="s40">DID Resolution</a></p><p style="padding-top: 3pt;padding-left: 68pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch14.html#did_documents" class="s40">DID Documents</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 36pt;text-indent: 31pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch14.html#autonomic_identifiers" class="s40" target="_blank">Indirection and Key Rotation Autonomic Identifiers</a></p><p style="padding-left: 68pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch14.html#peer_dids" class="s40" target="_blank">Self-Certification Peer DIDs</a></p><p style="padding-left: 68pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch14.html#other_autonomic_identifier_systems" class="s40" target="_blank">Key Event Receipt Infrastructure Other Autonomic Identifier Systems</a></p><p style="padding-left: 36pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch14.html#cryptographic_identifiers_and_the_laws" class="s40">Cryptographic Identifiers and the Laws of Identity</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li><p style="padding-left: 29pt;text-indent: -24pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch15.html#verifiable_credential" class="s38" target="_blank">Verifiable Credentials</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 36pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch15.html#the_nature_of_credentials" class="s40">The Nature of Credentials</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 68pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch15.html#roles_in_credential_exchang" class="s40">Roles in Credential Exchange</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 36pt;text-indent: 31pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch15.html#verifiable_credentials" class="s40" target="_blank">Credential Exchange Transfers Trust Verifiable Credentials</a></p><p style="padding-left: 68pt;text-indent: -31pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch15.html#issuing_credentials" class="s40" target="_blank">Exchanging VCs Issuing Credentials</a></p><p style="padding-left: 68pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch15.html#presenting_credentials" class="s40" target="_blank">Holding Credentials Presenting Credentials</a></p><p style="padding-left: 36pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch15.html#credential_presentation_types" class="s40">Credential Presentation Types</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 68pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch15.html#full_credential_presentation" class="s40">Full Credential Presentation</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 68pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch15.html#derived_credential_presentation" class="s40">Derived Credential Presentation</a></p><p class="s41" style="padding-top: 3pt;padding-left: 36pt;text-indent: 0pt;text-align: left;">Answering Trust Questions</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 36pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch15.html#vc_ecosystems" class="s40" target="_blank">The Properties of Credential Exchange VC Ecosystems</a></p><p style="padding-left: 36pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch15.html#a_marketplace_for_credentials" class="s40" target="_blank">Alternatives to DIDs for VC Exchange A Marketplace for Credentials</a></p><p style="padding-left: 36pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch15.html#conclusion-id00016" class="s40">VCs Expand Identity Beyond Authn and Authz</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li><p style="padding-left: 36pt;text-indent: -31pt;line-height: 216%;text-align: justify;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch16.html#digital_identity_architectures" class="s38" target="_blank">Digital Identity </a><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch16.html#the_trust_basis_for_identifiersleft_squ" class="s38" target="_blank">Architectures </a><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch16.html#the_trust_basis_for_identifiersleft_squ" class="s40" target="_blank">The Trust </a><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch16.html#identity_architectures" class="s40" target="_blank">Basis for Identifiers Identity Architectures</a></p><p style="padding-left: 68pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch16.html#algorithmic_architecture" class="s40" target="_blank">Administrative Architecture </a><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch16.html#autonomic_architecture" class="s40" target="_blank">Algorithmic Architecture Autonomic Architecture</a></p><p style="padding-left: 36pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch16.html#comparing_identity_architectures" class="s40" target="_blank">Algorithmic and Autonomic Identity in Practice Comparing Identity Architectures</a></p><p style="padding-left: 36pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch16.html#conclusion-id00017" class="s40" target="_blank">Power and Legitimacy Hybrid Architectures</a></p></li><li><p style="padding-left: 28pt;text-indent: -23pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch17.html#authentic_digital_relationships" class="s38" target="_blank">Authentic Digital Relationships</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 36pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch17.html#alternatives_to_transactional_relations" class="s40" target="_blank">Administrative Identity Systems Create Anemic Relationships Alternatives to Transactional Relationships</a></p><p style="padding-left: 36pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch17.html#supporting_authentic_relationships" class="s40" target="_blank">The Self-Sovereign Alternative Supporting Authentic Relationships</a></p><p style="padding-top: 3pt;padding-left: 68pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch17.html#digitizing_auto_accidents" class="s40" target="_blank">Disintermediating Platforms Digitizing Auto Accidents</a></p><p style="padding-left: 36pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch17.html#taking_our_rightful_place_in_the_digita" class="s40">Taking Our Rightful Place in the Digital Sphere</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li><p style="padding-left: 29pt;text-indent: -24pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch18.html#identity_wallets_and_agents" class="s38" target="_blank">Identity Wallets and Agents</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 36pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch18.html#platform_wallets" class="s40" target="_blank">Identity Wallets Platform Wallets</a></p><p style="padding-left: 36pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch18.html#the_roles_of_agents" class="s40">The Roles of Agents</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 36pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch18.html#ssi_interaction_patterns" class="s40" target="_blank">Properties of Wallets and Agents SSI Interaction Patterns</a></p><p style="padding-left: 68pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch18.html#did_authentication_pattern" class="s40">DID Authentication Pattern</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 68pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch18.html#multiparty_credential_authorization_pat" class="s40" target="_blank">Single-Party Credential Authorization Pattern Multiparty Credential Authorization Pattern</a></p><p style="padding-left: 36pt;text-indent: 31pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch18.html#what_if_i_lose_my_phonequestion_marklef" class="s40" target="_blank">Revisiting the Generalized Authentic Data Transfer Pattern What If I Lose My Phone?</a></p><p style="padding-left: 68pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch18.html#step_two_alice_rotates_her_relationship" class="s40" target="_blank">Step 1: Alice Revokes the Lost Agentâ s Authorization Step 2: Alice Rotates Her Relationship Keys</a></p><p style="padding-left: 68pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch18.html#what_alice_has_protected" class="s40">What Alice Has Protected</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 68pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch18.html#censorship_resistance" class="s40" target="_blank">Protecting the Information in Aliceâ s Wallet Censorship Resistance</a></p><p style="padding-left: 36pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch18.html#webthreecomma_agentscomma_and_digital_e" class="s40">Web3, Agents, and Digital Embodiment</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li><p style="padding-left: 29pt;text-indent: -24pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch19.html#smart_identity_agents" class="s38" target="_blank">Smart Identity Agents</a></p><p style="padding-top: 3pt;padding-left: 36pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch19.html#self_sovereign_authority" class="s40">Self-Sovereign Authority</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 68pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch19.html#reciprocal_negotiated_accountability" class="s40" target="_blank">Principles of Self-Sovereign Communication Reciprocal Negotiated Accountability</a></p><p style="padding-left: 36pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch19.html#exchanging_dids" class="s40" target="_blank">DID-Based Communication Exchanging DIDs</a></p><p style="padding-left: 36pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch19.html#didcomm_messaging" class="s40">DIDComm Messaging</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 68pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch19.html#message_formats" class="s40" target="_blank">Properties of DIDComm Messaging Message Formats</a></p><p style="padding-left: 68pt;text-indent: -31pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch19.html#playing_tic_tac_toe" class="s40" target="_blank">Protocological Power Playing Tic-Tac-Toe</a></p><p style="padding-left: 36pt;text-indent: 31pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch19.html#smart_agents_and_the_future_of_the_inte" class="s40" target="_blank">Protocols Beyond Credential Exchange </a><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch19.html#operationalizing_digital_relationships" class="s40" target="_blank">Smart Agents and the Future of the Internet Operationalizing Digital Relationships</a></p><p style="text-indent: 0pt;text-align: right;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch19.html#multiple_smart_agents" class="s40">Multiple Smart Agents</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 36pt;text-indent: 31pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch19.html#digital_memories" class="s40" target="_blank">Realizing the Smart Agent Vision Digital Memories</a></p></li><li><p style="padding-left: 29pt;text-indent: -24pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch20.html#identity_on_the_internet_of_things" class="s38" target="_blank">Identity on the Internet of Things</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: right;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch20.html#access_control_for_devices" class="s40">Access Control for Devices</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 68pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch20.html#using_oauth_with_devices" class="s40">Using OAuth with Devices</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 68pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch20.html#oauthapostrophes_shortcomings_for_the_i" class="s40" target="_blank">OAuthâ s Shortcomings for the IoT</a></p><p style="padding-top: 3pt;padding-left: 68pt;text-indent: -31pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch20.html#online_services" class="s40" target="_blank">The CompuServe of Things Online Services</a></p><p style="padding-left: 68pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch20.html#a_realcomma_open_internet_of_things" class="s40" target="_blank">Online 2.0: The Silos Strike Back A Real, Open Internet of Things</a></p><p style="padding-left: 36pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch20.html#the_self_sovereign_internet_of_things" class="s40" target="_blank">Alternatives to the CompuServe of Things The Self-Sovereign Internet of Things</a></p><p style="padding-left: 68pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch20.html#did_relationships_for_iot" class="s40">DID Relationships for IoT</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 68pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch20.html#use_case_two_proving_ownership" class="s40" target="_blank">Use Case 1: Updating Firmware Use Case 2: Proving Ownership</a></p><p style="padding-left: 36pt;text-indent: 31pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch20.html#relationships_in_the_ssiot" class="s40" target="_blank">Use Case 3: Real Customer Service Relationships in the SSIoT</a></p><p style="padding-left: 68pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch20.html#lending_the_truck" class="s40" target="_blank">Multiple Owners </a><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch20.html#selling_the_truck" class="s40" target="_blank">Lending the Truck Selling the Truck</a></p><p style="padding-left: 36pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch20.html#conclusion-id00018" class="s40">Unlocking the SSIoT</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li><p style="padding-left: 36pt;text-indent: -31pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch21.html#policies_and_standards" class="s38" target="_blank">Identity Policies </a><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch21.html#the_policy_stac" class="s40" target="_blank">Policies and Standards The Policy Stack</a></p><p style="padding-left: 36pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch21.html#recording_decisions" class="s40" target="_blank">Attributes of a Good Identity Policy Recording Decisions</a></p><p style="padding-left: 36pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch21.html#determining_policy_needs" class="s40">Determining Policy Needs</a></p><p style="padding-top: 3pt;padding-left: 68pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch21.html#security_considerations" class="s40" target="_blank">Business-Inspired Projects and Processes Security Considerations</a></p><p style="padding-left: 68pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch21.html#information_governance" class="s40" target="_blank">Privacy Considerations Information Governance</a></p><p style="padding-left: 68pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch21.html#feedback_on_existing_policies" class="s40" target="_blank">Meeting External Requirements Feedback on Existing Policies</a></p><p style="padding-left: 36pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch21.html#policy_outline" class="s40" target="_blank">Writing Identity Policies Policy Outline</a></p><p style="padding-left: 36pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch21.html#assessing_identity_policies" class="s40" target="_blank">The Policy Review Framework </a><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch21.html#enforcement" class="s40" target="_blank">Assessing Identity Policies Enforcement</a></p><p style="padding-left: 36pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch21.html#procedures" class="s40">Procedures</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 36pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch21.html#conclusion-id00019" class="s40">Policy Completes the System</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li><p style="padding-left: 36pt;text-indent: -31pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch22.html#governing_identity_ecosystems" class="s38" target="_blank">Governing Identity </a><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch22.html#governing_administrative_identity_syste" class="s38" target="_blank">Ecosystems </a><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch22.html#governing_administrative_identity_syste" class="s40" target="_blank">Governing Administrative Identity </a><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch22.html#governing_autonomic_identity_systems" class="s40" target="_blank">Systems Governing Autonomic Identity </a><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch22.html#governing_algorithmic_identity_systems" class="s40" target="_blank">Systems Governing Algorithmic Identity </a><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch22.html#governance_in_a_hybrid_identity_ecosyst" class="s40" target="_blank">Systems Governance in a Hybrid Identity </a><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch22.html#governing_individual_identity_ecosystem" class="s40" target="_blank">Ecosystem Governing Individual Identity Ecosystems</a></p><p style="padding-left: 68pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch22.html#credential_fidelity_and_confidence" class="s40">Credential Fidelity and Confidence</a></p><p style="padding-top: 3pt;padding-left: 68pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch22.html#domain_specific_trust_frameworks" class="s40" target="_blank">Credential Provenance and Trust Domain-Specific Trust Frameworks</a></p><p style="padding-left: 36pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch22.html#the_legitimacy_of_identity_ecosystems" class="s40">The Legitimacy of Identity Ecosystems</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li><p style="padding-left: 29pt;text-indent: -24pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch23.html#generative_identity" class="s38" target="_blank">Generative Identity</a></p></li></ol><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 36pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch23.html#a_tale_of_two_metasystems" class="s40">A Tale of Two Metasystems</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 68pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch23.html#the_social_login_metasystem" class="s40">The Social Login Metasystem</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 36pt;text-indent: 31pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch23.html#generativity" class="s40" target="_blank">The Self-Sovereign Identity Metasystem Generativity</a></p><p style="padding-left: 36pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch23.html#the_self_sovereign_internet" class="s40">The Self-Sovereign Internet</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 68pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch23.html#properties_of_the_self_sovereign_intern" class="s40">Properties of the Self-Sovereign Internet</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 36pt;text-indent: 31pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch23.html#generative_identit" class="s40" target="_blank">The Generativity of the Self-Sovereign Internet Generative Identity</a></p><p style="padding-left: 68pt;text-indent: 0pt;line-height: 216%;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch23.html#self_sovereign_identity_and_generativit" class="s40" target="_blank">The Generativity of Credential Exchange Self-Sovereign Identity and Generativity</a></p><p style="padding-left: 36pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ch23.html#our_digital_future" class="s40">Our Digital Future</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/ix01.html#idm45859345160640" class="s38">Index</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="https://learning.oreilly.com/library/view/learning-digital-identity/9781098117689/colophon01.html#idm45859345124272" class="s38">About the Author</a></p><p class="s30" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark0">Foreword</a></p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Three weeks ago I was sitting in a ring of concentric circles with over 320 people at the opening of one of the most unusual and fascinating conferences you will ever see: the Internet Identity Workshop (IIW). In the front row was Phil Windley, who—along with Kaliya “IdentityWoman” Young and Doc Searls—founded IIW 18 years ago.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">If 18 years sounds like a good run for an annual industry conference, it is. But IIW is not an annual conference. It happens twice every year.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">That’s right—November 2022 was the 35th edition.</p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">What is so urgent and important about the problems of digital identity on the internet that an average of 250 people have flown from all over the world to gather in-person 35 times over 18 years to work on solutions?</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">This book is the answer. Let me explain.</p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">When most people hear the term “digital identity”, they think of two things: the persistent pain of logging in with usernames and passwords and the bane of identity theft.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Is digital identity about those things? Absolutely. Is it limited to those things? Absolutely not.</p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/d9olg" class="s33" target="_blank">In fact, for those experts gathering at IIW every six months, what is at stake is the very future of the internet. Why? The answer can be summarized by this 2021 </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">quote from Thales Group</span>:</p><p class="s35" style="padding-top: 8pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">Trust is the most important currency in the digital world. Digital identities are how this trust is conveyed and embedded, and therefore their importance to our online society cannot be overstated.</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark108" class="s33">In short, digital identities are the key to how we can solve the fundamental trust issues with today’s internet. I doubt most readers need any convincing about the scale or severity of those problems. Some—like misinformation, ransomware, and Elon Musk’s struggle to verify Twitter accounts—are regular front-page headlines. What most readers will not appreciate, however, is the depth or complexity of these challenges. In fact, Phil needed to devote an entire chapter (</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 3</span>) just to explain the eight fundamental problems that need to be solved.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">That’s why I’m glad Phil and O’Reilly have put the emphasis on learning digital identity. Like the proverbial iceberg, the parts that are visible to everyday internet users are only the very tip. A full understanding of the subject requires not just diving below the surface, but also going backward in time to appreciate how and why the internet identity landscape has evolved so rapidly in the last 20 years—and why it will continue until we finally have an “identity layer.”</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">In my talks about this evolutionary progression, I describe it as having three major “eras”: centralized, federated, and decentralized. Phil and I first met at the Digital Identity World conference in 2003, when federated identity was just catching on and everyone was hopeful it would solve username/password hell.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The hot topic at that conference was how these new federated systems could be truly “user- centric”, i.e., serve the interests of individuals, not just companies. Doc Searls introduced Phil</p><p class="s59" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark3" class="s33" name="bookmark1">and I to Kim Cameron, who had recently become Chief Identity Architect at Microsoft (a position he would hold for the next 20 years). The following year, Kim began publishing his Seven Laws of Identity</a><a href="#bookmark3" class="s42">1</a> <a href="#bookmark131" class="s33">to help establish the “ground rules” for a user-centric internet identity system. These seven laws, widely debated in the blogosphere (when that was still a thing), have stood the test of time so well that Phil devotes an entire chapter to them (</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 4</span><span class="p">).</span></p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/o4r3B" class="s33" target="_blank">The following spring, Phil, Kaliya, and Doc hosted the inaugural Internet Identity Workshop. Under the guidance of Kaliya and Heidi Nobantu Saul, IIW used </a><a href="https://oreil.ly/o4r3B" class="a" target="_blank">Open Space</a> <span style=" color: #000;">technology to self- organize sessions about every facet of the relationship life cycle that Phil covers in this book— naming, identifiers, discovery, privacy, integrity, cryptography, authentication, authorization, and access control—as well as every major identity standard of the last two decades, including SAML, OpenID, OAuth, UMA and SCIM.</span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Most of all, IIW was ground zero for the third era of internet identity—decentralized. The topic of how blockchain technology might be leveraged for user-centric identity first arose at the spring 2015 IIW. By fall there were a half-dozen IIW sessions on the topic. The next spring, “self-sovereign identity” (SSI) was in full force. In subsequent years, almost the entire focus of IIW shifted towards the topics Phil covers in the latter half of this book: decentralized identifiers (DIDs), digital wallets and agents, digital credentials, and decentralized digital trust and governance frameworks.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">At long last, there are real signs of traction. In the summer of 2021, the European Union announced the EU Digital Identity Wallets initiative to equip all EU citizens by 2024 with a government certified digital wallet and digital ID credential. The Canadian province of British Columbia issued its own digital wallet app (iOS and Android) based on the Hyperledger Aries open source code (Ontario and Quebec are expected to follow suit). Bhutan (the country best known for measuring Gross National Happiness) is preparing a National Digital Identity Act that will enshrine decentralized digital identity as the law of the land.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark4" class="s33" name="bookmark2">All of which makes this book more timely than ever. As I watched Phil make his traditional announcement of the day’s sponsors in opening circle of IIW three weeks ago, I realized how extraordinary it is for someone who has had that front row seat for two decades to be sharing a comprehensive picture of everything he’s learned over that period. And not just as an observer— over that same period Phil has taught as professor of computer science at BYU, founded a startup in the space, and maintained the most prolific blog on the topic.</a><a href="#bookmark4" class="s42">2</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Bottom line: if you really want to learn about digital identity, you could not have found a better starting point. Dive in!</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s44" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Drummond Reed</p><p class="s44" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Director, Trust Services, Gen Digital</p><p class="s44" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Coauthor, Self-Sovereign Identity (Manning 2021) Coeditor, W3C Decentralized Identifiers (DIDs) 1.0</p><p class="s44" style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;">Steering Committee Member, Trust Over IP (ToIP) Foundation</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="624" height="1" alt="image" src="Image_007.png"/></span></p><ol id="l2"><li><p class="s69" style="padding-top: 5pt;padding-left: 32pt;text-indent: -11pt;text-align: left;"><a href="https://oreil.ly/uGaXQ" class="s68" target="_blank" name="bookmark3">Doc Searls published a wonderful</a><a href="https://oreil.ly/uGaXQ" class="s46" target="_blank"> </a><a href="https://oreil.ly/uGaXQ" class="s47" target="_blank">retrospective</a> <span style=" color: #000;">on these laws after Kim passed away in 2021.</span></p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a href="https://www.windley.com/" class="s47" target="_blank" name="bookmark4">P</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 9pt;">hil Windley’s Technometria</span>; I teased Phil that I’ve run out of space in my browser for all the bookmarks I have to his digital identity articles.</p></li></ol><p class="s21" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark5">Preface</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="624" height="1" alt="image" src="Image_008.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">On December 2, 1942, beneath the viewing stands of the University of Chicago’s Stagg Field, Enrico Fermi and his team initiated the first human-caused, self-sustaining nuclear chain reaction in history. Once humans knew how nuclear chain reactions work and how to initiate them, an atomic bomb was inevitable. Someone would build one.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">What was not inevitable was when, where, and how nuclear weapons would be used. Geopolitical events of the last half of the 20th century dealt with the when, where, and how of that technology, as do many of the international questions of our day.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">A similar, and perhaps just as impactful, discussion is happening now around technologies like artificial intelligence, social media, online surveillance, and digital identity. The choices that developers, architects, product managers, founders, and others make, day to day, change the future. My great hope is that the material in this book will help inform you of the important issues surrounding digital identity, so that you can make better decisions that result in better online experiences for us all.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">But this book is also practical. I published my first identity book, <i>Digital Identity</i>, in 2005. Coincidentally, that year marked the beginning of a sea change in the field. Web 2.0 was all the rage, and organizations were looking for new identity tools and protocols to underlie their fledgling platforms and services.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark6">That same year, Doc Searls, Kaliya Young, and I started the Internet Identity Workshop (IIW). We, and most of the attendees, were working on projects that needed what we called user-centric identity. We thought that using URL-based identifiers for people was the answer to the internet’s identity problems. We imagined that we’d hold a couple of meetings, come up with a solution, and move on to other problems. Now, 18 years and 35 meetings later, IIW is still going strong, with solutions to new digital identity problems still being proposed, debated, and accepted (or not).</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">In this book, I will teach you what digital identity is, why it’s hard to get right, what makes a good identity system, what technologies provide its foundation, how it’s done today, and where it’s going. You’ll learn why digital identity is at the heart of every online service and interaction, and why that position makes it one of the most important technologies you can work on.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 4pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Who Is This Book For?</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark7">The primary audience for this book is product managers, architects, and developers who can use its ideas to lay a firm foundation for their own work, based on the principles of digital identity and an understanding of the architectures and technologies that are available to solve identity problems. This book will give you a good grounding in the base-level technologies and protocols that play important roles in digital identity systems. </a><i>Learning Digital Identity </i>will give you a fresh perspective on the role identity plays in creating usable and compelling digital products.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">A secondary audience for this book is chief information officers (CIOs), chief information security officers (CISOs), chief privacy officers (CPOs), risk managers, security engineers, and privacy professionals, who will read it to understand the terminology, concepts, and architectures. More importantly, I hope they come to see the potential of identity systems to make their business more secure, agile, and appealing. In this book you will learn the specific identity architectures that are possible and determine how those architectures impact the usability, availability, reliability, security, and privacy of your digital services and products.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Conventions Used in This Book</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">The following typographical conventions are used in this book:</p><p class="s35" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Italic</p><p style="padding-top: 7pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">Indicates new terms, URLs, email addresses, filenames, and file extensions.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s49" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Constant width</p><p style="padding-top: 6pt;padding-left: 23pt;text-indent: 0pt;line-height: 109%;text-align: left;">Used for program listings, as well as within paragraphs to refer to program elements such as variable or function names, databases, data types, environment variables, statements, and keywords.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s50" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Constant width bold</p><p style="padding-top: 6pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">Shows commands or other text that should be typed literally by the user.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s49" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Constant width italic</p><p style="padding-top: 6pt;padding-left: 23pt;text-indent: 0pt;line-height: 109%;text-align: left;">Shows text that should be replaced with user-supplied values or by values determined by context.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="576" height="53" alt="image" src="Image_009.png"/></span></p><p class="s51" style="padding-top: 7pt;padding-left: 198pt;text-indent: 0pt;text-align: center;">NOTE</p><p class="s53" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="https://oreilly.com/" class="s68" target="_blank">For more than 40 years, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: italic; font-weight: normal; text-decoration: underline; font-size: 9pt;">O’Reilly Media</span> <span class="s45">has provided technology and business training, knowledge, and insight to</span></p><p style="text-indent: 0pt;text-align: left;"/><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">O’Reilly Online Learning</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 4pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreilly.com/" class="s33" target="_blank">Our unique network of experts and innovators share their knowledge and expertise through books, articles, and our online learning platform. O’Reilly’s online learning platform gives you on-demand access to live training courses, in-depth learning paths, interactive coding environments, and a vast collection of text and video from O’Reilly and 200+ other publishers. For more information, visit </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: italic; font-weight: normal; text-decoration: underline; font-size: 12pt;">https://oreilly.com</span>.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">How to Contact Us</p><p style="padding-top: 6pt;padding-left: 26pt;text-indent: -21pt;line-height: 196%;text-align: left;"><a name="bookmark8">Please address comments and questions concerning this book to the publisher: O’Reilly Media, Inc.</a></p><p style="padding-top: 1pt;padding-left: 26pt;text-indent: 0pt;line-height: 209%;text-align: left;">1005 Gravenstein Highway North Sebastopol, CA 95472</p><p style="padding-left: 26pt;text-indent: 0pt;line-height: 209%;text-align: left;">800-998-9938 (in the United States or Canada) 707-829-0515 (international or local)</p><p style="padding-left: 26pt;text-indent: 0pt;line-height: 14pt;text-align: left;">707-829-0104 (fax)</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/learning-digital-identity" class="s33" target="_blank">We have a web page for this book, where we list errata, examples, and any additional information. You can access this page at </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: italic; font-weight: normal; text-decoration: underline; font-size: 12pt;">https://oreil.ly/learning-digital-identity</span>.</p><p class="s34" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 152%;text-align: left;"><a href="mailto:bookquestions@oreilly.com" class="s33" target="_blank">Email </a><a href="mailto:bookquestions@oreilly.com" class="s31" target="_blank">bookquestions@oreilly.com</a> <a href="https://oreilly.com/" class="s33" target="_blank">to comment or ask technical questions about this book. For news and information about our books and courses, visit </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: italic; font-weight: normal; text-decoration: underline; font-size: 12pt;">https://oreilly.com</span><span class="p">.</span></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="https://linkedin.com/company/oreilly-media" class="s33" target="_blank">Find us on LinkedIn: </a><a href="https://linkedin.com/company/oreilly-media" class="s31" target="_blank">https://linkedin.com/company/oreilly-media</a></p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="https://twitter.com/oreillymedia" class="s33" target="_blank">Follow us on Twitter: </a><a href="https://twitter.com/oreillymedia" class="s31" target="_blank">https://twitter.com/oreillymedia</a></p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="https://youtube.com/oreillymedia" class="s33" target="_blank">Watch us on YouTube: </a><a href="https://youtube.com/oreillymedia" class="s31" target="_blank">https://youtube.com/oreillymedia</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 13pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Acknowledgments</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">I’m indebted to hundreds of people who have helped me learn digital identity over the past 25 years. Here are a few who deserve special thanks.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Kelly Flanagan has been my good friend, mentor, and cheerleader for most of my professional career. Steve Fulling is another great friend who was my business partner for many years in several adventures. They have both provided unflagging technical, financial, and emotional support for my identity explorations. Troy Martin and I had many profitable discussions about</p><p style="text-indent: 0pt;text-align: left;"><span><img width="576" height="31" alt="image" src="Image_010.png"/></span></p><p class="s45" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">help companies succeed.</p><p style="text-indent: 0pt;text-align: left;"/><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">personal learning systems, which led to my interest in self-sovereign identity.</p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Kaliya Young and Doc Searls are my cofounders at Internet Identity Workshop. They and the participants at IIW have made working on digital identity fun, informative, and fulfilling. Heidi Saul, IIW’s producer, makes the semiannual Internet Identity Workshop event possible.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">In addition to being my IIW cofounder, Doc is also a great friend and trusted advisor. Many of the ideas in this book have their roots in discussions with him. I’m grateful for his wisdom.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Drummond Reed and I have never worked for the same company, but we have worked closely together for almost two decades on the problems of identity, personal data, and privacy. I’m grateful for his cheerful optimism and careful guidance.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Kim Cameron and Craig Burton, who both died this past year, were two of the “OGs” of the identity space who nevertheless continued to influence and guide its development over many years. They both had tremendous influence on my thinking and taught me important lessons (about both identity and life). Kim’s ideas on the identity metasystem and Laws of Identity appear in Chapter 4 and provide a framework for analyzing the concepts, protocols, and architectures I discuss later.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">I’ve had many technical discussions with people about the topics in this book that taught me important concepts and explained difficult ideas. Here are a few that stand out. Daniel Hardman and I had helpful discussions on zero-knowledge proofs, correlation, the time-value of privacy, and minimal disclosure. Sam Curren helped me understand the nuances of verifiable credential presentations and has been a trusted colleague for 15 years. Sam Smith is a source of insight on many digital identity topics, but I am most grateful for his ideas about privacy, self-certifying identifiers, and reputation. Nathan George is my go-to person for almost any question on details of cryptographic protocols and artifacts based on them. Jason Law’s clear explanations of cryptography, privacy, and credentials were critical to the development of my understanding of self-sovereign identity. Lastly, I am grateful to Joe Andrieu for the best definition of digital identity I’ve ever heard (you’ll have to wait until Chapter 2 for it!).</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">My wife, Lynne, and my children, Bradford, Alexandra, Jacob, Joseph, and Samantha, have put up with much travel, near-constant writing, and many meetings in my quest to understand and help solve the problems of digital identity. They’ve also all had a hand in running IIW and making it work. Their love and support have been indispensable.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The people at O’Reilly have made writing this book not only possible, but fun. A special shout- out to my editor, Sarah Grey, for making me look good. Her edits greatly increased the understandability of the book, and her advice got me through some of the rough spots.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Credits</p><p class="s55" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 9-11</span> <span style=" color: #000;">is adapted with permission from a graphic produced by the DHS Science and Technology Directorate.</span></p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 10-5</span> <span style=" color: #000;">is from DIF and used with permission.</span></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Table 16-2</span> is adapted from a table in Chapter 10 of <i>Self-Sovereign Identity </i>by Drummond Reed and Alex Preukschat (Manning).</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">In Memoriam</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">In memory of Kim Cameron and Craig Burton, two identity pioneers who taught me much and influenced the world for good through their work, professionalism, and kindness.</p><p class="s21" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark9">Chapter 1. The Nature of Identity</a><a name="bookmark10">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="624" height="1" alt="image" src="Image_011.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s35" style="padding-top: 4pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">Cogito, ergo sum.</p><p style="padding-top: 3pt;padding-left: 307pt;text-indent: 0pt;text-align: left;">—René Descartes</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/1UMsp" class="s33" target="_blank" name="bookmark11">The Peace of Westphalia, which ended the Thirty Years’ War in 1648, created the concept of </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Westphalian sovereignty</span><a href="#bookmark28" class="s33">: the principle of international law that “each state has sovereignty over its territory and domestic affairs, to the exclusion of all external powers, on the principle of non- interference in another country’s domestic affairs, and that each state (no matter how large or small) is equal in international law.”</a><a href="#bookmark28" class="s42">1</a><a name="bookmark12">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The ensuing century saw many of these states begin civil registration for their citizens, in an effort to turn their sovereignty over territory into governance over the people living in those lands. These registrations, from which our modern system of birth certificates springs, became the basis for personal identity and legal identity in a way that conflated these two concepts.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Birth certificates are a source of legal identity and a proof of citizenship, and thus the basis for individual identity in most countries. Civil registration has become the foundation for how states relate to their citizens. As modern nation-states have become more and more influential (and often controlling) in the lives of their citizens, civil registration and its attendant legal identity have come to play a larger and larger role in their lives. People present proof of civil registration for many purposes: to prove who they are and, springing from that, their citizenship.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Even so, Descartes did not say, “I have a birth certificate, therefore I am.” When most people hear the word <i>identity</i>, they think about birth certificates, passports, driver’s licenses, logins, passwords, and other sorts of credentials. But clearly, we are more than our legal identity. For most purposes and interactions, our identity is defined through our relationships. Even more deeply, we each experience these independently as an autonomous being with an individual perspective.</p><p class="s35" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">This dichotomy reflects identity’s dual nature. <span class="p">While identity is something others assign to us, it is also something deep inside of us, reflecting what Descartes actually said: “I </span>think<span class="p">, therefore I am.”</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">A Bundle of Sticks?</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark13"><span class="p">Another way to think about the dual nature of identity is to ask, </span></a><span class="s56" style=" background-color: #FDFDBE;">“Am I more than a set of</span><span class="p"> </span><span class="s56" style=" background-color: #FDFDBE;">attributes?” Property rights are often thought of as a </span><span class="s57" style=" background-color: #FDFDBE;">bundle of sticks</span><span class="s56" style=" background-color: #FDFDBE;">: each right is separable from</span><span class="p"> </span><span class="s56" style=" background-color: #FDFDBE;">the rest and has value independent of the rest. Similarly, identity is often considered a bundle of</span><span class="p"> </span><a href="https://oreil.ly/ZiUVH" style=" color: black; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt;" target="_blank">attributes, each with independent value. This is known in philosophy as </a><span style=" background-color: #FDFDBE;">bundle theory</span><span class="s56" style=" background-color: #FDFDBE;">, originated</span><span class="p"> </span><span class="s56" style=" background-color: #FDFDBE;">by David Hume.</span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><span class="p">Bundle theory puts attributes into a collection </span><span class="s56" style=" background-color: #FDFDBE;">without worrying about </span><span class="s57" style=" background-color: #FDFDBE;">what </span><span class="s56" style=" background-color: #FDFDBE;">ties them together.</span><span class="p"> As an example, you might identify a plum as purple, spherical, 5 centimeters in diameter, and</span></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><span class="p">juicy. </span><span class="s56" style=" background-color: #FDFDBE;">Critics of bundle theory question how these attributes can be known to be related without</span><span class="p"> </span><span class="s56" style=" background-color: #FDFDBE;">knowing the underlying substance—the thing itself.</span></p><p class="s35" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark14">Substance theory</a><span class="p">, on the other hand, holds that attributes are borne by “an entity which exists in such a way that it </span>needs no other entity to exist<a href="#bookmark29" class="s33">,” according to our friend Descartes.</a><a href="#bookmark29" class="s42">2</a><span class="s59"> </span><a href="https://oreil.ly/7iueB" class="s33" target="_blank">Substance theory gives rise to the idea of </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">persistence in the philosophy of personal identity</span><span class="p">. People, organizations, and things persist through time. In one sense, you are the same person you were when you were 16. But in another, you are not. The thing that makes you the same person over your lifetime is substance. The thing that makes you different is the collection of ever-changing attributes you present to the outside world over time.</span><a name="bookmark15">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><span class="p">I’m no philosopher, but I believe both viewpoints are useful for understanding digital identity. </span><span class="s56" style=" background-color: #FDFDBE;">For many practical purposes, viewing people, organizations, and things as bundles of attributes is</span><span class="p"> </span><span class="s56" style=" background-color: #FDFDBE;">good enough. This view is the assumption upon which the modern web is built. You log into</span><span class="p"> </span><span class="s56" style=" background-color: #FDFDBE;">different services and present a different bundle of attributes to each. There is no substance, at</span><span class="p"> </span><span class="s56" style=" background-color: #FDFDBE;">least in the digital sense, since the only thing tying them together is you—a decidedly nondigital</span><span class="p"> </span><span class="s56" style=" background-color: #FDFDBE;">entity.</span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark16"><span class="s56" style=" background-color: #FDFDBE;">This lack of a digital representation of you, that you alone control, is one of the themes I’ll return</span></a><span class="p"> </span><span class="s56" style=" background-color: #FDFDBE;">to several times in this book.</span><span class="p"> At present, you are not digitally embodied—your digital existence depends on other entities. You have no digital substance to connect the various attributes you present online. I believe that digital identity systems must embody us and give us substance if we are to build a digital future where people can operationalize their online existence and maintain their dignity as autonomous human beings.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Identity Is Bigger Than You Think</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark17">At first blush, digital identity seems pretty simple: the service you’re building needs to know who the person at the other end of the connection is. Set up an account, give them a username and password, and let them log in. Collect any necessary attributes into a nice, tidy bundle and store them in the account. Job done.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">I’ve seen plenty of examples of this kind of thinking over the 25 years I’ve been working on digital identity. I’ve succumbed to it myself. Years ago, every company offering an online service would start from this premise, build a simple identity system, and move on. Then they’d shake their heads as more and more of their development resources got sucked into solving the new problems that always seemed to crop up when the identity system couldn’t support some new feature.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark18">Today, most companies buy their identity systems. Identity and access management (IAM) barely existed as a market category in 2005 but is now a multibillion-dollar industry. Yet digital identity is still growing, with new concepts, products, and services appearing seemingly daily.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The lesson? <i>Identity is bigger and more complicated than you think. </i>Throughout this book you will see examples of identity that go well beyond the traditional notions of login and access control. Privacy, trust, authenticity, confidentiality, federation, authentic data, identity for things,</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">and identity ecosystems are a few of the areas this book discusses.</p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Identity is the foundation for all but the most trivial online services. Suppose a workflow that you’re building needs a signed attestation that certain work has been performed and includes the details about the work. The result is a secure, digital, machine-readable, auditable record of what’s occurred. The workflow requires that this attestation is authentic. How do you ensure that?</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark19">The document might be considered authentic if it’s signed by someone or something that’s been </a><i>authenticated</i>, if the cryptographic processes have the fidelity necessary to <i>inspire confidence in the result</i>, and if there’s some process that <i>establishes the provenance of the document</i><a href="#bookmark30" class="s33">.</a><span style=" color: #8E0011; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; vertical-align: 4pt;">3</span><span class="s59"> </span>Authentication, confidence, and provenance are all based on identity.<a name="bookmark20">&zwnj;</a><a name="bookmark21">&zwnj;</a><a name="bookmark22">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark23">Beyond services, many documents we use every day have identity-related purposes. A movie ticket (an example I’ll use several times in this book) is an identity document that identifies the holder as someone entitled to a seat in a specific theater at a given time. Furthermore, it’s designed so that the ticket taker recognizes that it’s authentic.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">What about an invoice? An invoice identifies a payment that’s being requested by a specific party for a specific service. It has an identifier and can be recognized as authentic because of the workflow it’s part of. An invoice identifies a transaction taking place inside a larger relationship.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">These examples, and millions more, are all part of digital identity—yet they aren’t about logging into an account to retrieve some attributes. As you’ll learn in this book, however, they have much in common.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">No Universal Identity Systems</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark24">Some people combine the mistaken assumption that identity is simple with the myopic view that identity is just about the process for tying legal identifiers to people. The result is a search for a universal identity solution. Universal identity systems are attractive because digital identity is hard and inconvenient. The siren song of a universal identity system calls developers and users alike with its promise to simplify online interactions, only to dash them upon the rocks of very real complexity.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark25">Over the years, I’ve had many people pitch me that their product is a universal solution for digital identity because it provides the means to concretely tie a body (literally, through biometrics) to a legal identifier. While this can reduce fraud, identity systems that do this are almost always privacy disasters because they must collect lots of personal information to be universal. The result is a honeypot of personal information that hackers find too attractive to ignore. More worrisome, a single universal identifier provides the means for computers to correlate the activities of people across a large variety and type of systems, creating a universal dossier that allows governments and companies to surveil and even control them. Universal identifiers are a 20th-century technology that has no business being used in the digital age.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">I hope that the examples from the last section have at least got you thinking about all the places that identity plays a role in your organization and, more importantly, your life. Because identity,</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark26">in one form or another, is foundational to nearly every transaction, relationship, and interaction, identity systems are </a><i>polymorphic </i>(they have many forms). Consequently, universal systems, which, by definition, have a single form, always end up solving only some of the problems.</p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;">Universal identity systems do not exist.</p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">But all is not lost for those hoping for a better online identity experience, reduced fraud, and increased functionality. The internet provides a useful analogy. Think of all the ways messages are exchanged online: email, instant messaging, web pages, and video are just the more familiar ways that the internet facilitates the flow of messages between computers. But the internet is not a universal messaging system. Each of these message types has a different form and purpose.</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Rather, the internet is a system for building messaging systems on a common infrastructure. Similarly, protocols and standards can provide us with a <i>system for building identity systems</i>.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">The Road Ahead</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark27">Learning digital identity requires that you understand important concepts and context, so you begin to think about identity holistically. Accordingly, the first part of this book deals with definitions of, problems concerning, and laws governing digital identity. Next you will learn about relationships, trust, privacy, and cryptography—concepts necessary for the discussions that follow.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;">The second part of this book describes the technologies, methodologies, and protocols necessary for digital identity. These include staples like naming, discovery, authentication, federation, and access control.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The third part of the book presents cryptographic identifiers, verifiable credentials, architectural patterns for digital identity systems, identity wallets and agents, and identity on the Internet of Things. We’ll compare solutions, using concepts we developed early on, and see how different architectures are used to build identity systems that support authentic data and trustworthy online relationships.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Finally, I’ll discuss policies and governance, two crucial concepts for building identity systems</p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">—and ecosystems—that work. I’ll conclude with a look at how the concepts, protocols, technologies, and architectures discussed in the book can provide a foundation for digital identity that enables lifelike online interactions in preparation for a digital future we can live with.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="624" height="1" alt="image" src="Image_012.png"/></span></p><ol id="l3"><li><p class="s45" style="padding-top: 5pt;padding-left: 32pt;text-indent: -11pt;text-align: left;"><a href="https://oreil.ly/rzjfM" class="s47" target="_blank" name="bookmark28">“</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 9pt;">Nation-States and Sovereignty”</span>, History Guild, accessed October 5, 2022.</p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark29">Substance theory has many more proponents than Descartes, but his definition is helpful in thinking through identity’s dual nature.</a></p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark30">Provenance takes into account where the document came from, who wrote it, the source of the data used to generate it, and how it’s been transmitted.</a></p></li></ol><p class="s21" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark31">Chapter 2. Defining Digital Identity</a><a name="bookmark32">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="624" height="1" alt="image" src="Image_013.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s59" style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark101" class="s33" name="bookmark33">The family therapist Salvador Minuchin declared, “The human experience of identity has two elements: a sense of belonging and a sense of being separate.”</a><a href="#bookmark101" class="s42">1</a> <span class="p">This is as good a description of digital identity as it is of our psychological identity. A digital identity contains data that uniquely describes a person or thing but also contains information about the subject’s relationships to other entities.</span><a name="bookmark34">&zwnj;</a></p><p class="s59" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark102" class="s33" name="bookmark35">To see an example of this, consider the data record that represents your car, stored somewhere in your state or country’s computers. This record, commonly called a title, contains a vehicle identification number (VIN) that uniquely identifies the car. In addition, it contains other attributes of the car such as year, make, model, and color. The title also contains relationships: most notably, the title relates the vehicle to a person who owns it.</a><a href="#bookmark102" class="s42">2</a> <span class="p">In many places, the title is also a historical document, because it identifies every owner of the car from the time it was made, as well as whether it’s been in a flood or otherwise salvaged.</span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">While fields as diverse as philosophy, commerce, and technology define identity, most are not helpful in building, managing, and using digital identity systems. Instead, we need to define identity functionally, in a way that provides hooks for us to use in making decisions and thinking about problems that arise in digital identity.</p><p class="s59" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark103" class="s33" name="bookmark36">Joe Andrieu, principal at Legendary Requirements, writes that “identity is how we recognize, remember, and respond to specific people and things. Identity systems acquire, correlate, apply, reason over, and govern information assets of subjects, identifiers, attributes, raw data, and context.”</a><a href="#bookmark103" class="s42">3</a> <span class="p">This definition is my favorite because it has proven useful over the years in thinking through thorny identity issues. I’ll use it throughout the book.</span><a name="bookmark37">&zwnj;</a><a name="bookmark38">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The identity record for a car includes attributes that the system needs to recognize it: in this case, the VIN. The title also includes attributes that are useful to people and organizations who care about (that is, need to <i>respond </i>to) the car, including the owner, the state, and potential buyers.</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The government runs a system for managing titles that is used to create, manage, transfer, and govern vehicles (or, in Andrieu’s formulation, <i>remember </i>them). The system is designed to achieve its primary goal (to record valuable property that the state has an interest in taxing and regulating) and secondary goals (protecting potential buyers and creating a way to prove ownership).</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Digital identity management consists of processes for creating, managing, using, and eventually destroying digital records, like the one that contains your car title. These records might identify a person, a car, a computer, a piece of land, or almost anything else. Sometimes they are created simply for inventory purposes, but the more interesting ones are created with other purposes in mind: allowing or denying access to a building, the creation of a file, the transfer of funds, and so on. These relationships and the authorized actions associated with them make digital identities useful, valuable, and sometimes difficult to manage.</p><p class="s48" style="padding-top: 4pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">The Language of Digital Identity</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark39">The world of digital identity has its own nomenclature. Most of the terms are familiar but are used in specific ways. This section introduces some of that terminology.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark40">A </a><i>subject </i>is a person, organization, software program, machine, or other thing in some record. One of the key purposes of an identity system is to <i>authenticate </i>that the subject is who they claim to be and <i>authorize </i>requests to access a resource. A <i>resource </i>might be a web page, a piece of data in a database, or even a credit card transaction. To gain access to the resource, the subject lays claim to an <i>identity record</i>. For people, this is usually called an <i>account</i>. Throughout this book, I’ll use the word <i>entity </i>to generically refer to the subject of an identity record, such as people, places, things, and organizations.<a name="bookmark41">&zwnj;</a><a name="bookmark42">&zwnj;</a><a name="bookmark43">&zwnj;</a><a name="bookmark44">&zwnj;</a><a name="bookmark45">&zwnj;</a><a name="bookmark46">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark47">I dislike using words like </a><i>subject </i>or <i>user </i>when speaking about people if it can be avoided. I think many of the problems we have with online privacy and surveillance are in part the result of technologists dehumanizing the people for whom they’re building systems. Similarly, I dislike when people use the word <i>identity </i>when what they really mean is an account, identity record, or identifier. The problem is that <i>identity </i>means many things. We’re better off being accurate in what we’re talking about. Your account at Amazon isn’t your identity. Your identity is much more complex and nuanced than what can be recorded in a single database record, or even a collection of them. So, while there are identity systems, records, accounts, and so on, there’s really nothing that is “an identity.”</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">In this context, an identity record is a collection of data about a subject that represents attributes, preferences, and traits:</p><p class="s35" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Attributes</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a name="bookmark48">Attributes describe information about a subject, specifically of characteristics that are acquired. For a person this might include a drug allergy, purchase, bank balance, credit rating, dress size, age, and so on.</a></p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Preferences</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a name="bookmark49">Preferences represent desires and defaults such as preferred seating on an airline, favorite brand of hot dog, encryption standard used, default currency, and so on.</a></p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Traits</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a name="bookmark50">Like attributes, traits are features of the subject, but they are inherent rather than acquired. Attributes may change at any time, but traits change slowly, if at all. Examples of traits include a person’s eye color or how and where a company was incorporated.</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Since the distinction between attributes, preferences, and traits rarely makes a difference in the design of an identity system, I’ll typically use the term <i>attributes </i>to mean all three unless there’s</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">a specific need to distinguish among them.</p><p class="s55" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark66" class="s33" name="bookmark51">One of the primary purposes of an identity system is to authorize specific actions. This process is shown in </a><a href="#bookmark66" class="a">Figure 2-1</a> <span style=" color: #000;">and is broken down as follows:</span></p><ol id="l4"><li><p style="padding-top: 8pt;padding-left: 29pt;text-indent: -15pt;line-height: 109%;text-align: left;"><a name="bookmark52">To use an identity record to justify accessing a resource, a requester must present an </a><i>identifier </i>and authentication factors along with the request. <i>Authentication factors </i>are proof that a subject has the right to assert that they control a particular identifier. Authentication factors can take many forms, including a simple username and password, an X.509 certificate, cryptographic artifacts, or biometrics.<a name="bookmark53">&zwnj;</a></p></li><li><p style="padding-top: 7pt;padding-left: 29pt;text-indent: -15pt;line-height: 109%;text-align: left;"><a name="bookmark54">A </a><i>policy enforcement point </i>(PEP) receives the request and authentication factors. The PEP is whatever system is responsible for receiving and processing the request. The PEP authenticates the factors, perhaps using a separate authentication server. <i>Authentication</i>, as the name suggests, establishes the authenticity of the factors. Identity architects will choose the appropriate level of authentication based on the risk that attends accessing the resource and the confidence needed about the authenticity of the request. If the authentication server is run by another organization, it is typically called an <i>identity provider </i>and the PEP is called the <i>relying party</i>.<a name="bookmark55">&zwnj;</a><a name="bookmark56">&zwnj;</a></p></li><li><p style="padding-top: 7pt;padding-left: 29pt;text-indent: -15pt;line-height: 109%;text-align: left;"><a name="bookmark57">Once the identifier and factors are authenticated, the PEP makes an </a><i>access request </i>to an access control system called the <i>policy decision point </i>(PDP). The request includes an identifier for the requested resource and for the requester.<a name="bookmark58">&zwnj;</a></p></li><li><p style="padding-top: 7pt;padding-left: 29pt;text-indent: -15pt;line-height: 109%;text-align: left;"><a name="bookmark59">The PDP retrieves the </a><i>security policy </i>for the resource, which could be a machine-readable document of some kind or just a chunk of code that encodes the policy.</p></li><li><p style="padding-top: 7pt;padding-left: 29pt;text-indent: -15pt;line-height: 109%;text-align: left;"><a name="bookmark60">The PDP uses the policy and information from the identity record associated with the asserted identifier to access an </a><i>account store. </i>The account store associates identifiers with attributes. The sets of attributes for a given identifier are sometimes called <i>claims </i>since they are statements about the entity to whom the identifier refers. The PDP uses the attributes and security policy to determine the entitlements and permissions for this request. <i>Entitlements </i>are the services and resources to which an identity is allowed <i>access</i>, such as a credit limit, disk space, or bandwidth allocations. <i>Permissions </i>are the actions that the requester is allowed to perform with respect to the resource, such as withdrawing funds, completing a purchase, or updating a record. Again, the specifics of how this is done vary from system to system; the entitlements and permissions might be hardcoded or dynamically determined.<a name="bookmark61">&zwnj;</a><a name="bookmark62">&zwnj;</a><a name="bookmark63">&zwnj;</a><a name="bookmark64">&zwnj;</a></p></li><li><p style="padding-top: 7pt;padding-left: 29pt;text-indent: -15pt;line-height: 109%;text-align: left;"><a name="bookmark65">When the PDP transfers this information back to the PEP, it does so in an </a><i>authorization decision assertion </i>(ADA). Depending on the systems architecture, the ADA might range from a simple Boolean value returned from a function call to a structured JavaScript Object Notation (JSON) or XML document containing not only the decision (“yes” or “no”) but also justifications for the decision.</p></li><li><p style="padding-top: 7pt;padding-left: 29pt;text-indent: -15pt;text-align: left;">The PEP allows or denies the access, depending on the contents of the ADA.</p></li></ol><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="593" height="589" alt="image" src="Image_014.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark66">Figure 2-1. The interaction between policy enforcement points and policy decision points</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark67">The PEP, authentication server, and PDP may be separate systems or just functions in a single system, depending on how complex the digital identity infrastructure is, but it generally will perform all these functions.</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Identity Scenarios in the Physical World</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark68">The concepts and words I used in the last section can seem intimidating, but most are perfectly understandable given our everyday experience in the physical world. To see how, consider a common transaction: buying beer at a US convenience store.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">When a customer (the subject or entity) wants to buy beer (perform an action on a resource), they are required to submit proof that they are of legal drinking age, usually by presenting a driver’s</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;"><a name="bookmark69">license. A driver’s license is a </a><i>credential </i>containing claims asserting that the subject has certain attributes and traits and permissions that authorize the holder to drive a car (perform an action). The clerk (PEP) examines the license to see if it looks real (determines the authenticity and validity of the credential) and uses the picture (embedded biometric authentication factor) to see if the person presenting the license is the same person who owns it (authenticates the license).</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Once certain that the license is authentic and is being presented by the person to whom it was issued, the clerk reads the birth date (an attribute) from the license and determines whether the person is over 21 (consults a security policy determined by the state and makes a policy decision about permissions associated with the identity for a particular resource).</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Now, suppose the person pays with a credit card (a separate identity credential). The clerk has just seen the driver’s license and thus can establish the validity of this credential by matching the name on it to the name on the driver’s license (attribute matching). The clerk runs the card through the point-of-sale terminal, which transmits to the bank the cardholder’s name, credit card number, and expiration date (identity attributes) and requests credit (authorization request) in the amount necessary to buy the beer (the resource to be accessed). The bank (PDP) determines whether the customer is entitled to credit in the necessary amount and sends a credit authorization (ADA). Upon receiving this, the clerk completes the transaction.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">In later chapters, I’ll discuss these terms and processes in detail and see how they apply in less familiar scenarios.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Identity, Security, and Privacy</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark70">Digital identity is sometimes thought of as a subtopic of computer or information security. Certainly, digital identity is an important foundation for security, but it has greater utility than just protecting information. I’ve already discussed how digital identity enables important relationships. At the same time, information security is about more than authorization and authentication. The goal of information </a><i>security </i>is to protect information from unauthorized access, destruction, or alteration. Firewalls, for example, provide security but are not necessarily about identity.<a name="bookmark71">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark72">The concept of </a><i>privacy </i><a href="#bookmark73" class="s33">commonly holds that a subject (usually a person more often than an organization) should have the freedom to determine how information about them is collected and used. The relationship is circular: privacy is built upon a foundation of good information security, which depends on a good digital identity infrastructure. This relationship is shown in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 2-2</span>.</p><p style="padding-left: 67pt;text-indent: 0pt;text-align: left;"><span><img width="458" height="272" alt="image" src="Image_015.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark73">Figure 2-2. The identity–security–privacy triangle</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 8</span> <span style=" color: #000;">provides a more detailed and nuanced discussion of privacy than the one given above. Information security, beyond the concepts that it has in common with identity, is beyond the scope of this book.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Digital Identity Perspectives</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark74">We usually speak of identity in the singular, but subjects, especially people, have multiple identities. From an internal point of view, these seem like different facets of our singular identity, but other entities have a specific view that corresponds to only a subset of our internal view. For example, my bank sees a certain set of attributes for me: my credit card numbers, account numbers, credit score, and so on. My employer sees a different subset that overlaps only in a few points, such as name, Social Security number, and the bank account I give my employer for depositing my paycheck.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark75">My multiple identities represent different perspectives on who Phil Windley is and what attributes I possess. Most of these attributes are stored in various formats in myriad databases. When I was chief information officer (CIO) for the State of Utah, I learned that the state government had over 250 different databases in which portions of my digital identity might be stored, depending on the specific relationship that database was meant to support. These multiple identities, or </a><i>personas</i>, as they are sometimes called, are tied together by a few common data elements (called <i>correlating attributes</i>). These systems use correlating attributes—my name, address, Social Security number, and birthday—as keys for accessing them, however imperfectly.<a name="bookmark76">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Tiers of Identity</p><p class="s55" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;"><a href="#bookmark104" class="s33" name="bookmark77">Andre Durand, the founder and CEO of Ping Identity, introduced the concept of “tiers of identity” back in 2002.</a><a href="#bookmark104" class="s42">4</a><a href="#bookmark79" class="s43"> </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 2-3</span> <span style=" color: #000;">shows a schematic of three tiers. At the bottom is Tier 1,</span><a name="bookmark78">&zwnj;</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;">labeled “My Identity.” Tier 1 consists of traits associated with the subject that are both timeless and unconditional: my name is Phillip John Windley, I have blue eyes, and so on.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="594" height="298" alt="image" src="Image_016.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark79">Figure 2-3. Identity tiers and their relationship</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Tier 2, labeled “Shared Identity,” consists of attributes assigned to us by others. These attributes are shared because they are used to identify the individual but are issued temporarily based on some kind of relationship. Your wallet is filled with Tier 2 identities: your driver’s license, your employee badge, your credit card, your health insurance card, and your library card are all examples of identity information that is assigned to you. Once the relationship that defines the identity is terminated, the attributes associated with it are no longer useful.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The topmost layer, Tier 3, “Abstracted Identity,” establishes group identity. For example, I could be identified as “Utahn,” “white male over 60,” or a member of any number of other demographic groups. Companies may classify me as a “frequent flier” or a “first-time customer.” All these groupings identify me in some way, but only abstractly. Tier 3 is largely about marketing.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark291" class="s33">Tier 2 identity relationships may happen with your consent or not, but most are welcome because they are based on a relationship that probably has value to you. Tier 3 relationships, on the other hand, are usually forced on us. For example, email spam is a Tier 3 identity issue, as are telephone solicitations and even TV advertisements. Online surveillance (a topic I’ll return to in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 8</span>) is one of the defining realities of the modern Web 2.0 experience. Tier 3 identities are inaccurate, imprecise, and nonspecific, so they rarely meet a real need for their subjects, for whom the benefit is so small as to be inconsequential. Most people perceive Tier 3-based relationships as bothersome and resent them. However, companies realize significant benefit from such relationships and invest large amounts of money collecting and managing them.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Locus of Control</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark80">Another way to view digital identity is in terms of its </a><i>locus of control</i>—who or what controls the relationship. Control has several factors, including:</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_017.png"/></span></p><p style="padding-top: 8pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">Who initiates the relationship?</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_018.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_019.png"/></span></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 165%;text-align: left;">Who owns the identifier (in other words, who can take it away)? Who sets the rules governing interactions?</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_020.png"/></span></p><p style="padding-left: 29pt;text-indent: 0pt;text-align: left;">Who determines how attributes are shared?</p><p class="s55" style="padding-top: 10pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark81"><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 2-4</span></a> <span style=" color: #000;">shows this dimension, arraying three broad categories along the axis of the degree of</span></p><p class="s35" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">autonomy <span class="p">that the identity system provides participants.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="592" height="298" alt="image" src="Image_021.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark82">Figure 2-4. Sovereignty and autonomy</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">At the bottom of the diagram, with the lowest level of autonomy, is a category I call <i>administrative</i>. The vast majority of identity systems in use today are administrative, built and operated for the purpose of an organization. The organization determines its system’s rules of operation, what attributes are allowed, how they are used, and whether and where they can be shared. Often the sharing is opaque, with the person who is the subject having little insight into how the identity system is being used or by whom.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark83">In 2004, with the rise of Web 2.0 and its seemingly insatiable appetite for accounts, identity professionals began talking about identity systems, called </a><i>user-centered</i><a href="#bookmark82" class="s33">, that would give people a higher degree of autonomy (the middle category of </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 2-4</span>). From those discussions, protocols such as OpenID and OAuth were born. These gave rise to <i>social login</i>, the ability to federate an account from one service, often a social media account, to another. Using your Twitter account to login to Medium is an example of this. Social logins are <i>user-centric </i>because the person chooses what account to use (from a small list) and is redirected from the <i>relying party </i>(such as Medium) to the <i>identity provider </i>(in this case Twitter) to approve the account sharing. Autonomy is limited in this model because the acceptable identity providers are chosen<a name="bookmark84">&zwnj;</a><a name="bookmark85">&zwnj;</a><a name="bookmark86">&zwnj;</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;">by the relying party, and the account being used as the foundation (Twitter) is still administrative, with all the limits that implies.</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark87">Since 2015, many people have been building a new model called </a><i>self-sovereign identity </i>(SSI). In contrast to administrative and user-centered identity systems—with the basis for the relationship being identifiers and interactions dictated by one side—parties in an SSI-based relationship exchange identifiers that can be mutually authenticated using cryptographic means. This relationship provides a trustworthy channel for exchanging protocol-mediated messages that can be tailored to the needs of the interaction.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark88"><span class="s62" style=" background-color: #FDFDDF;">The word </span></a><span class="s63" style=" background-color: #FDFDDF;">sovereign </span><span class="s62" style=" background-color: #FDFDDF;">can cause confusion, since most people either associate it with foreign</span><span class="p"> </span><span class="s62" style=" background-color: #FDFDDF;">affairs and nation-states or assume it means “the individual has complete control.” Neither</span><span class="p"> </span><span class="s62" style=" background-color: #FDFDDF;">meaning is correct in this context.</span><a href="#bookmark192" class="s33"> Sovereignty is about relationships and boundaries (discussed more in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 5</span><span class="p">). When we say a nation is sovereign, we mean that it can act as a peer to other sovereign states, not that it can do whatever it wants. Sovereignty defines a boundary, within which the sovereign has complete control and outside of which the sovereign relates to others within established rules and norms (what we call </span><span class="s35">protocol </span><span class="p">in technology).</span><a name="bookmark89">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><span class="s62" style=" background-color: #FDFDDF;">SSI describes the same situation. An SSI system defines what the entity (person or organization)</span><span class="p"> </span><span class="s62" style=" background-color: #FDFDDF;">can control, along with rules of engagement for its relations with other entities.</span><span class="p"> For example, an SSI system might give entities complete control over what attributes they share in response to queries about them. But sovereignty doesn’t mean that a party relying on an attribute has to accept it. The relying party’s sovereignty allows it to determine what attributes satisfy its demands and which don’t</span><span class="s62" style=" background-color: #FDFDDF;">. But sovereignty means that all powers are reciprocal: anyone can</span><span class="p"> </span><span class="s62" style=" background-color: #FDFDDF;">reject the claims others choose to present to them.</span><span class="p"> </span><span class="s62" style=" background-color: #FDFDDF;">The key to sovereignty is that all entities are</span><span class="p"> </span><span class="s62" style=" background-color: #FDFDDF;">peers. All parties to a relationship have the same powers and rights. The beauty of sovereignty</span><span class="p"> </span><span class="s62" style=" background-color: #FDFDDF;">isn’t complete and total control but rather a situation where both parties have autonomy about</span><span class="p"> </span><span class="s62" style=" background-color: #FDFDDF;">what they request, share, and consent to.</span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark90">Throughout this book, I’ll come back to autonomy and discuss how different architectures support differing degrees of sovereignty.</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Reimagining Decentralized and Distributed</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark91">Identity systems have specific topologies that affect their properties. I teach a course at Brigham Young University every year called “Large-Scale Distributed Systems.” As I discuss distributed- system topologies with the class, there are always questions about </a><i>distributed </i>systems versus <i>decentralized </i><a href="#bookmark93" class="s33">systems. The diagram shown in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 2-5</span> <a href="#bookmark105" class="s33">was used by Paul Baran of RAND Corp. in 1962 to explain centralized, decentralized, and distributed systems.</a><a href="#bookmark105" class="s42">5</a><span class="s59"> </span>The diagram is frequently reproduced in articles and presentations on decentralization, and it always strikes me as an attempt to place the ideas of centralized, decentralized, and distributed computing on some kind of continuum.<a name="bookmark92">&zwnj;</a></p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="593" height="237" alt="image" src="Image_022.jpg"/></span></p><p class="s60" style="padding-top: 6pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark93">Figure 2-5. Centralized, decentralized, and distributed systems on a continuum</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: justify;"><a name="bookmark94">I prefer to use the term </a><i>decentralized </i><a href="#bookmark106" class="s33">as the researcher Rohit Khare does: to describe systems that are under the control of different entities and thus can’t be coordinated by fiat.</a><a href="#bookmark106" class="s42">6</a></p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">Plenty of systems are distributed <i>and </i>under the control of a single entity. Almost any large Web</p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;">2.0 service will be hosted from different data centers, for example. What distinguishes the internet, email, and other distributed systems is that they are also designed to work across organizational boundaries. There’s no central point that controls everything.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;"><a href="#bookmark96" class="s33">Consequently, I propose a new way of thinking about this, shown in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 2-6</span><a href="#bookmark93" class="s33">, that substitutes a two-dimensional graph for the linear one in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 2-5</span>.</p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;"><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 2-6</span> <span style=" color: #000;">classifies systems along two axes:</span></p><p class="s35" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Location</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a name="bookmark95">The location axis determines whether the components are </a><i>colocated </i>or <i>distributed</i>. This could be either physical or logical depending on the context and level of abstraction.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Control</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">The control axis determines whether the components are under the control of a single entity or multiple entities. A central control point could be logical or abstract, so long as it can effectively coordinate nodes in the system.</p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="590" height="550" alt="image" src="Image_023.jpg"/></span></p><p class="s60" style="padding-top: 6pt;padding-left: 25pt;text-indent: 0pt;text-align: left;"><a name="bookmark96">Figure 2-6. A two-dimensional conceptualization of the relationship between location and control in computer systems</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark99" class="s33">We could extend this with a third axis that classifies systems by topology, as shown in </a><a href="#bookmark99">Figure 2-</a></p><ol id="l5"><li><p style="padding-top: 1pt;padding-left: 17pt;text-indent: -12pt;text-align: left;"><a href="#bookmark99" class="s33" name="bookmark97">In a </a><a href="#bookmark99" class="s32">hierarchical </a><a href="#bookmark99" class="s33">system, nodes are distinguished by superior-inferior relationships; in a</a><a name="bookmark98">&zwnj;</a></p><p class="s35" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">heterarchical <span class="p">system, nodes have peer relationships.</span></p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="592" height="550" alt="image" src="Image_024.jpg"/></span></p><p class="s60" style="padding-top: 6pt;padding-left: 225pt;text-indent: -207pt;text-align: left;"><a name="bookmark99">Figure 2-7. A three-dimensional conceptualization of the relationship between location, control, and topology in computer systems</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">To help you understand this distinction, here are a few examples of well-known systems and which octant of the graph they fall into:</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_025.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_026.png"/></span></p><p style="padding-top: 8pt;padding-left: 29pt;text-indent: 0pt;line-height: 165%;text-align: left;"><a href="#bookmark524" class="s33">A supercomputer is usually centralized, colocated (due to latency issues), and hierarchical. DNS is a decentralized, distributed, hierarchical system (see </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 10</span>).</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_027.png"/></span></p><p style="padding-left: 29pt;text-indent: 0pt;text-align: left;">Facebook’s Open Graph is a centralized, distributed, heterarchical system.</p><p style="padding-top: 10pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark100">I will use these terms often as I discuss digital identity system architectures.</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 10pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">A Common Language</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">The language of digital identity helps us talk about the goals, operations, and outcomes of</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;">identity systems in ways that ensure accurate communication. Throughout the rest of this book, I’ll use this language to discuss various identity architectures.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="624" height="1" alt="image" src="Image_028.png"/></span></p><ol id="l6"><li><p class="s45" style="padding-top: 5pt;padding-left: 32pt;text-indent: -11pt;text-align: left;"><a name="bookmark101">Salvador Minuchin, </a><i>Families and Family Therapy </i>(Cambridge, MA: Harvard University Press, 2009), 47.</p></li><li><p class="s67" style="padding-top: 6pt;padding-left: 32pt;text-indent: -11pt;text-align: left;"><a href="#bookmark192" class="s68" name="bookmark102">We’ll discuss how digital relationships are supported by digital identity in detail in </a><a href="#bookmark192" class="s64">Chapter </a>5<span style=" color: #000;">.</span></p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 32pt;text-indent: -11pt;text-align: left;"><a href="https://oreil.ly/eAmS8" class="s68" target="_blank" name="bookmark103">Joe Andrieu,</a><a href="https://oreil.ly/eAmS8" class="s46" target="_blank"> </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 9pt;">“Five Mental Models of Identity”</span>, Rebooting the Web of Trust 7, accessed January 27, 2022.</p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 32pt;text-indent: -11pt;text-align: left;"><a href="https://oreil.ly/xreyT" class="s68" target="_blank" name="bookmark104">Andre Durand,</a><a href="https://oreil.ly/xreyT" class="s46" target="_blank"> </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 9pt;">“Three Tiers of Identity”</span>, <i>Digital ID World</i>, March 16, 2002.</p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 32pt;text-indent: -11pt;text-align: left;"><a name="bookmark105">Paul Baran, </a><i>On Distributed Communications Networks</i>, RAND Corp. Report P-2626, September 1962.</p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a href="https://oreil.ly/Ec5-v" class="s68" target="_blank" name="bookmark106">Rohit Khare,</a><a href="https://oreil.ly/Ec5-v" class="s46" target="_blank"> </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 9pt;">“Extending the REpresentational State Transfer (REST) Architectural Style for Decentralized Systems”</span> (PhD diss., University of California, Irvine, 2003), accessed April 11, 2022.</p></li></ol></li></ol><p class="s21" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark107">Chapter 3. The Problems of Digital Identity</a><a name="bookmark108">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="624" height="1" alt="image" src="Image_029.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark109">Fixing the internet’s identity problem is hard. Because the internet is missing an identity layer, every website, service provider, and application has solved the problem in a unique way. As a result, people are subject to cognitive overload, friction, increased costs, loss of privacy, and even outright fraud. Innovators have proposed numerous systems, protocols, and standards over the past 20 years. While most of them fixed specific issues, none has offered a holistic solution.</a></p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/59RxN" class="s33" target="_blank">Several years ago, I attended a presentation by Andy Tobin of Evernym (now Gen Digital) in which he enumerated </a><a href="https://oreil.ly/59RxN" class="a" target="_blank">five problems</a> <a href="#bookmark131" class="s33">that make digital identity more difficult than identity in the physical world. I’ve since added a few to Andy’s list. In this chapter we’ll consider the differences between identity online and in the physical world to understand why digital identity is so difficult. In </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 4</span><span style=" color: #000;">, we’ll consider laws (in the sense of “laws of physics”) that can help us design systems to overcome these problems.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Tacit Knowledge and the Physical World</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark127" class="s33" name="bookmark110">Perhaps the most significant difference between the physical and the digital world is that our knowledge of the natural world is mostly tacit, while all our knowledge in the digital world is explicit.</a><a href="#bookmark127" class="s42">1</a><span class="s59"> </span>In <i>The Tacit Dimension </i>(University of Chicago Press), Michael Polanyi describes the idea of tacit knowledge with a simple statement: “We can know more than we can tell.” For example, we know how we walk, talk, ride a bike, and drive a car, but we cannot really explain the exact mechanisms we use to do any of these—at least, not in the detail necessary to transfer those capabilities to someone else. They must learn them for themselves.<a name="bookmark111">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">In the digital world, however, all the detail necessary to complete any task needs to be laid out and subjected to the logic of programming. This difference is profound and hard to explain, because we call the physical world “real” and the digital world “virtual.” Consequently, we understand and operate in the physical world tacitly, but in the digital world we must make everything explicit.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">When we walk down a street or go into a store, we have a clear tacit understanding that everyone we encounter is both real and named in some way, but anonymous—literally, nameless—to us (unless we happen to already know them). But this anonymity doesn’t prevent us from recognizing, remembering, and reacting to others because we tacitly form an identifier for them of some sort (we can’t explain it of course).</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Staying anonymous until another party needs to know more about us is a grace of civilization. Being able to “recognize, remember, and react” is also an exercise of tacit knowing for which the explicit remains optional until it’s required. That region of optionality—a tacit one—is why it would be absurd and creepy for everyone to walk around with a name badge, or to constantly</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">present others with everything about us: our driver’s license, birth certificate, tax records, habits, recent locations, or other facts that have become objects of extreme curiosity for online systems. Online surveillance has become controversial as well because that level of curiosity is at extreme variance from our experience of the physical world. In the physical world, we use long-standing assumptions, traditions, and other norms to maintain civil society, all of them based on tacit knowledge of how things are: knowledge that mostly goes unexplained but is well understood.</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;">Again, we know more than we can tell.</p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;">But <i>telling is required in the virtual world</i>, which needs explicit statements of what is so and what is not. Digital identity systems attempt to do that, but it is not easy, as we will see. Let’s explore some problems that we need to solve.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">The Proximity Problem</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark112">Proximity is the primary problem digital identity systems must contend with. The proximity problem is as old as the familiar </a><i>New Yorker </i>cartoon by Peter Steiner that says, “On the Internet, nobody knows you’re a dog.”</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Recall that our functional definition of <i>identity </i>is the ability to recognize, remember, and respond to (or interact with) some entity. As embodied beings we are equipped to recognize people, things, and places using our senses. We naturally, and tacitly, remember them for later use and can react to or interact with them using our bodies or devices under our control.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark113">Online, we possess none of the familiar sensory signals for knowing others because we are interacting with them virtually and at a distance. To cope, organizations have built </a><i>administrative identity systems </i>that serve their own narrow needs for identifying and recalling data about their customers, employees, or citizens. But the reverse is not true. People lack capabilities for knowing others online except in the fragmented ways allowed by organizations and their platforms.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">The Autonomy Problem</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark114">As a result of our dependence on administrative identity systems, we lack the autonomy we possess in physical interactions as embodied beings. This isn’t to say we act without limits, but that we largely interact with other entities independently, without having to be inside some administrative system. One way to think about autonomy is to imagine boundaries. Autonomy implies that there is some realm within which you can act independently—without another’s permission.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">People have limited autonomy, very few natural rights, and little leverage in current online identity solutions because each organization builds its administrative identity system for its own convenience, making design choices to maximize the legibility of people for its purposes and skewing the balance of power in its favor. The result is that people have nowhere to stand online. We are not <i>digitally embodied</i>. Almost every interaction we have online is intermediated by</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">some organization’s identity system and controlled by its rules—we are always within someone else’s realm, never our own. We exist online through their grace.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">This lack of autonomy means that people often cannot solve problems on their own in the ad hoc ways people solve problems in the physical world. Consequently, we cannot operationalize our digital existence and become full-fledged participants in the digital realm like we do in the physical.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">The Flexibility Problem</p><p class="s55" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/Rd1PU" class="s33" target="_blank" name="bookmark115">Closely related to the autonomy problem is one of flexibility. The creators of current digital identity systems usually have very narrow purposes in mind. Many of the identity solutions in use today are limited by fixed schema or attribute sets. For example, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">GOV.UK Verify</span> <a href="http://GOV.UK/" class="s33" target="_blank">is a universal identity assurance system for UK citizens, but it has a limited data set. And it’s impossible for </a><a href="http://GOV.UK/" class="a" target="_blank">GOV.UK</a> <span style=" color: #000;">to reasonably expand the schema to cover all use cases (relationship types), even if it were inclined to do so. There are simply too many.</span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Our real lives are messy. Billions of people have trillions of separate relationships. This requires extreme flexibility. We are infinitely diverse, as are our circumstances. None of us presents the same picture of ourselves to everyone or every organization because each of our relationships is unique and our identities are fluid. The methods that we use to recognize, remember, and respond to others depend highly on context.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">The Consent Problem</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark116">Also related to autonomy is the problem of consent. Not only do the operators of the various identity silos we are compelled to use collect our data, they also share it with others without our consent. Sometimes this is done in service of the </a><i>subject</i>, but often it’s done to further the bottom line of the organization that controls the identity system.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">We can have consent problems in the physical world as well, but two things limit their extent. First, data collection and surveillance are harder to do. Second, robust legal frameworks have been developed over centuries about how information collected in the physical world can be used. Consent is another area where the physical world’s reliance on largely tacit measures must give way to explicit measures in the digital one. The Internet of Things (IoT) further blurs the lines on consent and privacy issues as digital devices (such as cameras, microphones, doorbells, thermostats, and so on) intrude into physical spaces. Consent is an area where getting it right in the digital space could afford increased privacy in the physical space.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">The Privacy Problem</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark117">Computers are very good at pattern matching. Consequently, identity has very different implications for online privacy than for interactions in the physical world. When you hand your driver’s license or identity card to a bartender to establish your legal age, you would be surprised</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">and perhaps disturbed if they could remember all the details on it such as your address and birth date. And imagine if they could remember not just your data but also that of every customer they ever encounter. Computers, on the other hand, can be programmed to retain a perfect record of all the information they encounter until their operators delete it. They can also be programmed to correlate information from multiple sources to assemble personal profiles that go well beyond data collected from any single encounter or any single correspondent.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark291" class="s33">Current digital identity systems rely on vast collections of data, often collected without a subject’s knowledge (and thus consent). The data is replicated repeatedly in different systems, creating a global data ecosystem. Third parties use universal identifiers like Social Security numbers, national ID numbers, and phone numbers to correlate identity information, again without the person’s knowledge. Universal identifiers are at the root of many privacy problems. We will return to privacy and discuss it in depth in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 8</span>.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">The (Lack of) Anonymity Problem</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark118">Anonymity relates closely to privacy. In real life, we often interact with others—people, institutions, and things—with relative anonymity. Our relationships with them are </a><i>ephemeral</i>, lasting only for the life of the encounter. If I go to the store and buy a Coke with cash, no exchange of identity information is necessary. Even if I use a credit card, it’s rarely the case that the entire transaction happens under the administrative authority of the identity system that the credit card represents. Only the financial part of the transaction takes place in that identity system. This is true of most interactions in real life.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">In the physical world, as this chapter has discussed, we act as embodied, independent agents. Our physical presence and the laws of physics have a lot to do with our ability to tacitly function with workable anonymity across many domains. In contrast, in the digital world, very few meaningful transactions are done outside the reach of some administrative identity system. There are several reasons for this:</p><p class="s35" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Continuity</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a name="bookmark119">While web sessions can be pseudonymous, they are often correlated across multiple independent sessions and devices when we log in. This supports, for example, online shopping carts that persist not only across time but also on different devices.</a></p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Convenience</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a name="bookmark120">So long as the customer is authenticating, the system might as well store additional information like addresses and credit card numbers so it can complete transactions without requiring that the customer enter the same information over and over.</a></p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Trust</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;text-align: left;"><a name="bookmark121">There are some actions that should be taken only by certain people, or by people in certain</a></p><p style="padding-top: 3pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">roles or with specific attributes. Once a shopping site has stored my credit card, for example, I ought to be the only one who can use it. Identity systems provide authentication mechanisms as the means of knowing who is at the other end of the wire so that the system knows what actions they’re allowed to take. This places identifiers in context so they can be trusted.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Surveillance</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a name="bookmark122">Unfortunately, identity systems also provide the means of tracking individuals across transactions for purposes of gathering data about them. This data gathering may be innocuous or nefarious, but there is no doubt that it is enabled by identity systems in use on the internet.</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">In real life, we do without identity systems for most things. You don’t have to identify yourself to go to the theater to watch a movie, or log into some system to sit in a restaurant and have a private conversation with friends. Many of our in-person interactions are effectively anonymous because they are transient: the theater ticket-taker cares only that we have a ticket for the movie we want to see. Given the right design, many more online interactions could use such transient, ephemeral relationships than they do today.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">The Interoperability Problem</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark123">Most human beings have a similar set of capabilities for recognizing, remembering, and interacting with other people, organizations, places, and things in the physical world.</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Consequently, I don’t have to wonder if I’ll be able to talk to my friend at lunch or place my order with the server.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Online, the situation is more complex. While some things—email is an excellent example—are functionally interoperable thanks to standards, protocols, and common code, others are not.</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">There is no widely accepted messaging protocol, for example. Instead, the modern messaging experience is fragmented into dozens of different apps. Most of us have several of them.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Moreover, every app on your phone presents a different user experience and is largely independent of every other app. My wife, Lynne, recently called me and asked a seemingly innocuous question: “How do I share this video?” Ten years ago, the answer would have been easy: copy the URL and send it. But this question is much harder to answer now. To answer it, I first had to determine which app she was using and then, since I wasn’t that familiar with it, open it and search through the user interface to find the share button.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Interoperability is important for more than identity, but the foundational nature of identity means that the lack of interoperability is acutely felt. With myriad identity silos, people are faced with inconsistent user experiences. More importantly, people can’t carry context from system to system. A friend or colleague in one system might have a different identifier in another, making</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">it hard to consistently recognize and remember our friends or colleagues from system to system.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 10pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">The Scale Problem</p><p class="s59" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark129" class="s33" name="bookmark124">There are 4.88 billion people online,</a><a href="#bookmark129" class="s42">2</a> <span class="p">each with dozens, even hundreds, of relationships. There are also an estimated 12.3 billion devices on the IoT, each an active endpoint with its own connections. Experts expect that figure to increase by several orders of magnitude.</span><a name="bookmark125">&zwnj;</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Consequently, a general-purpose identity system needs to account for many trillions of relationships between the many billions of people, organizations, and things that make up the online world. No single, centralized system can do this.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark126">Digital identity currently relies on hubs of identity information. We log in using Facebook or Google—huge </a><i>identity providers</i>. But for every place that uses one of these big identity providers, there are dozens that will never use social login systems. Many businesses are leery of giving up control of their customer information to another business that might decide next week to change things up. I don’t think it’s any accident that this is the same concern that was holding back online services in the days of CompuServe and Prodigy.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Scale is easier to manage when the architecture is decentralized and is mediated by protocol. The internet scales because it uses an encapsulating protocol that allows anyone, anywhere to connect their local network to it and exchange packets with anyone else. Long-term answers to the scale problem of digital identity will require similar architectures.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Solving the Problems</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Taken together, the problems of digital identity present the colossal design challenge that makes digital identity hard. They are at the root of many of the frustrations and harms people experience online. But they are not intractable. This book will present patterns, protocols, and systems for tackling these problems and creating digital identity systems that work. The next chapter describes a conceptual architecture and set of laws to guide our work.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="624" height="1" alt="image" src="Image_030.png"/></span></p><ol id="l7"><li><p class="s65" style="padding-top: 5pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark127">	</a><span class="s45">I’m grateful to Doc Searls for a detailed conversation about this topic and his deep thinking about why it matters in understanding the problems of digital identity.</span><a name="bookmark128">&zwnj;</a></p></li><li><p class="s69" style="padding-top: 6pt;padding-left: 32pt;text-indent: -11pt;text-align: left;"><a href="https://oreil.ly/Vn5ph" class="s68" target="_blank" name="bookmark129">See</a><a href="https://oreil.ly/Vn5ph" class="s46" target="_blank"> </a><a href="https://oreil.ly/Vn5ph" class="s47" target="_blank">“Digital Around the World”</a> <span style=" color: #000;">from DataReportal, accessed November 15, 2021.</span></p></li></ol><p class="s21" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark130">Chapter 4. The Laws of Digital Identity</a><a name="bookmark131">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="624" height="1" alt="image" src="Image_031.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark132">Solving the problems of digital identity discussed in the last chapter requires building something more abstract and general than the one-off, context-specific identity systems (the ones that give you an “ID”) that we find on the internet today. Almost every identity system you use is </a><i>administrative</i>, meaning it was created for the operator’s own administrative purposes. Being administrative, every one of these is different from every other one—giving you as many “IDs” as there are administrative systems to deal with. The world had a similar situation with networks in the 1980s, and we solved it with a <i>metasystem</i>, a system of other systems<i>, </i>that unified and transcended all the world’s separate, independent, and exclusive networks. This metasystem is called the internet.<a name="bookmark133">&zwnj;</a><a name="bookmark134">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark135">The internet is a monument to abstraction and generality. Rather than being a communications system, like the telephone, the internet is a communications metasystem: that is, a system for building communications systems. Using encapsulating protocols—TCP and IP—that give everybody and everything a single and simple way to communicate across all those separate networks, the internet provides a unifying structure. This allows anyone to create whatever system they need by defining protocols. These new protocols, riding on top of TCP/IP, may be proprietary or open, special- or general-purpose. Every new protocol adds a new kind of message that the internet can communicate, changing and enriching its nature. Yet because they are built on a common protocol, they can serve a specific niche without sacrificing the underlying interoperability or modularity.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark136">Similarly, an identity layer for the internet must also be a metasystem. An </a><i>identity metasystem </i>is a collection of interoperable identity systems. The identity metasystem provides the necessary building blocks and protocols for anyone to build an identity system meeting their specific needs that is interoperable with other identity systems similarly built. An identity metasystem is a prerequisite for an online world where identity is as natural as it is in the physical world. As we’ll see in later chapters, an identity metasystem removes friction, decreases cognitive overload, and makes online interactions more private and secure.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">An Identity Metasystem</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/cjdgN" class="s33" target="_blank">In 2005, Kim Cameron, Microsoft’s chief identity architect, published </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">“The Laws of Identity”</span>, a landmark paper laying out seven important principles for how digital identity should work.</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;">Cameron describes an identity metasystem that can provide the missing identity layer:</p><p class="s35" style="padding-top: 10pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">Different identity systems must exist in a metasystem. It implies we need a simple encapsulating protocol (a way of agreeing on and transporting things). We also need a way to surface information through a unified user experience that allows individuals and organizations to select appropriate identity providers and features as they go about their daily activities. The universal identity metasystem must not be another monolith. It must be</p><p class="s35" style="padding-top: 3pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">polycentric (federation implies this) and also polymorphic (existing in different forms). This will allow the identity ecology to emerge, evolve and self-organize.</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">From Cameron’s description, we can identify six important features:</p><p class="s35" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Encapsulating protocol</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a name="bookmark137">Protocols describe the rules for a set of interactions. Protocols are the foundation of interoperability and allow for scale. By defining how interactions happen, they mitigate the proximity problem. An encapsulating protocol allows other protocols to be defined on top of it. For example, the Internet Protocol (IP) is a protocol that encapsulates the User Datagram Protocol (UDP) and the Transmission Control Protocol (TCP). Thus, the encapsulating protocol enables a flexible set of interactions that can be adapted for specific contexts and needs and take place at a distance.</a></p><p class="s35" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Unified user experience</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a name="bookmark138">Part of the beauty of the tacit nature of identity in the physical world is that we don’t have to switch apps or learn an entirely new way of interacting for each context. Traditionally, digital identity systems have not offered this kind of consistency. A unified user experience doesn’t mean a single user interface. Rather the focus is on the experience. Unified user experiences let people know what to expect. As a result, they can intuitively understand how to interact in any given context. Unified user experiences increase user autonomy, increase privacy, and support consent since users better understand the interaction.</a></p><p class="s35" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">User choice</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a name="bookmark139">By allowing people to select appropriate service providers and features, a metasystem allows for autonomy, anonymity, and flexibility. No single system can anticipate all the scenarios that come up as people live their lives. A metasystem allows context-specific scenarios to be built and can even support ad hoc interactions that no one anticipated.</a></p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Modular</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a name="bookmark140">An identity metasystem can’t be a single, centralized system with limited pieces and parts. Rather, the metasystem will have interchangeable components that are built and operated by various parties. Protocols and standards enable this. Modularity is a prerequisite for substitutability and choice, as is interoperability.</a></p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Polycentric (decentralized)</p><p style="padding-top: 3pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a name="bookmark141">An identity metasystem is decentralized to enable autonomy and flexibility and to support better privacy. No single system can anticipate all the various relationships. And no single actor should be allowed to determine who uses the system or for what purposes. Furthermore, decentralization gives the metasystem the ability to scale as needed.</a></p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Polymorphic (different data schema)</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a name="bookmark142">The information human beings and systems need to recognize, remember, and react to various people, organizations, places, and things is context-dependent and varies widely from one situation to the next. The content carried by an identity metasystem must be flexible to support these varied interactions and support user autonomy.</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark143">The internet is full of identity systems for specific contexts, designed to administer identity for a specific service or application. Over the past two decades, developers, security researchers, and identity experts have made numerous attempts to share identity information between different contexts. The success of these efforts has been limited to federating identity data between close partners or simple authentication efforts (such as Google Sign-in). None has developed into a unifying metasystem with these properties, because they can’t. Cameron’s Laws of Identity help us explore why that is so and give us important design principles to follow in building an identity metasystem.</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">The Laws of Identity</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1316" class="s33" name="bookmark144">The Laws of Identity describe seven objectives that an identity system must meet to function as a metasystem. A system meeting these seven laws can be widely accepted and used in many contexts. Each law gives rise to architectural principles that guide the construction of the metasystem. Understanding the laws can help eliminate a lot of bad designs before architects and engineers waste too much time on them. They can also be used to evaluate real-world identity systems. </a><a href="#bookmark1316" class="a">Chapter 22</a> will discuss the concept of <i>legitimacy </i>and how the Laws of Identity, along with governance and policy for an identity system, provide a basis for how broadly the system is adopted.<a name="bookmark145">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark146">In writing about these, Cameron uses the word </a><i>law </i><a href="#bookmark189" class="s33">in the scientific sense of a hypothesis about the world resulting from observation that can be tested.</a><a href="#bookmark189" class="s42">1</a><span class="s59"> </span>Testing the laws involves using them to evaluate the successes and failures of identity systems. They are not <i>propositions </i>(proven from first principles) or <i>axioms </i>(self-evident truths). They are not legal or moral laws. Neither are they philosophical.<a name="bookmark147">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The sections that follow discuss the seven laws individually. Each starts with a statement of the law in italics, as defined in Cameron’s paper.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">User Control and Consent</p><p class="s35" style="padding-top: 3pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">Technical identity systems must only reveal information identifying a user with the user’s consent.</p><p class="s35" style="padding-top: 9pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">—Kim Cameron, “The Laws of Identity”</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark148">In recent years, the idea of giving people more control over their digital identity has come to be known as </a><i>self-sovereign identity </i><a href="#bookmark32" class="s33">(SSI), as I discussed in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 2</span>. Recall that SSI implies autonomy. Moreover, sovereignty is <i>inalienable</i>, meaning that it can’t be transferred to another, taken away, or denied. To be inalienable is to be sovereign: to exercise supreme authority over one’s personal sphere. Administrative identifiers—what others choose to call us—are alienable. Relationships are alienable. Many attributes are alienable. Who we are (our <i>substance</i><a href="#bookmark10" class="s33">, as I called it in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 1</span>), and our right to choose how we present ourselves to the world, is inalienable.<a name="bookmark149">&zwnj;</a><a name="bookmark150">&zwnj;</a><a name="bookmark151">&zwnj;</a><a name="bookmark152">&zwnj;</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The distinction between the inalienable and the alienable, the self-sovereign and the administrative, is essential. Without this distinction, we are constantly at the mercy of the various administrative regimes we interact with.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark153">Other labels, like </a><i>decentralized, user-centric</i>, and <i>self-managed</i>, have been used to describe systems that give users control, but one can imagine decentralized, user-centric, or self-managed systems that do not provide autonomy, privacy, or other desired features. None of these terms necessarily implies autonomy—the person acting for themselves. <i>Self-sovereign </i>does not suffer from those limitations.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">An identity metasystem creates boundaries of control, assigns control over various activities to different roles, and distinguishes between the alienable and inalienable. <i>User control </i>creates the digital boundary between an entity and all those who observe that entity, as well as a center where all attributes, relationships, and information about an entity can be housed.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Minimal Disclosure for a Constrained Use</p><p class="s35" style="padding-top: 9pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">The solution which discloses the least amount of identifying information and best limits its use is the most stable long-term solution.</p><p class="s35" style="padding-top: 9pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">—Kim Cameron, “The Laws of Identity”</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark154">Hardly a week goes by without news of a data loss at a major organization that threatens the identity information of hundreds of thousands, even millions, of people. The bad news is that data breaches are a fact of life. We’ll likely never get rid of them completely. The good news is that the amount and sensitivity of the data lost is something we can control.</a><a name="bookmark155">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark156">Organizations often overcollect data about people and store it on the premise that it might be needed at some point. Even the data they do need could be reduced with an identity metasystem that makes the “just in time” transfer of data less onerous.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">An identity metasystem can’t stop organizations from overcollecting data or storing it beyond when it’s needed. That’s an organizational policy and, increasingly, a regulatory issue. But the metasystem can support minimal disclosure and make it simple to get data when it’s needed, making it easier to argue for collecting less data.</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Different types of information can be more identifying or less identifying. For example, a Social Security number (SSN) is more identifying than a one-off, unique identifier. Less identifying information is the least likely to identify an individual across several contexts. This information need not be just a single, highly correlatable identifier like an SSN but could be a collection of information that, taken together, can be used to identify an individual.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">A good example is a system that needs to know a person’s age. Traditionally such systems ask the person for their birthday, but they really only need to know the age. A birthday, when combined with information like zip code and gender, is more likely to be uniquely identifying than an age. The identity metasystem can make answering questions even less identifying by supporting the ability to answer questions like “Is this person over 21?” instead of “What is this person’s age?” Asking questions in the form of predicates on attributes can significantly reduce the amount of information that is disclosed and how identifying that information is. There are orders of magnitude more people who are over 21 than there are who were born on any specific day.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Justifiable Parties</p><p class="s35" style="padding-top: 9pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">Digital identity systems must be designed so the disclosure of identifying information is limited to parties having a necessary and justifiable place in a given identity relationship.</p><p class="s35" style="padding-top: 9pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">—Kim Cameron, “The Laws of Identity”</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark157">Digital identity matters because people, organizations, and things need to have digital relationships with other people, organizations, and things. Clearly, everyone who is party to the relationship has a justifiable reason to know some things about others in the relationship. But not everything.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The law of minimal disclosure says that any information shared should be just what is needed and nothing more. The law of <i>justifiable parties </i>says these disclosures should be made only to entities who have a need to know. For example, suppose a dozen people are planning a party for Bob. If Alice needs to know Bob’s age, minimal disclosure says she shouldn’t ask him for his birthday. <i>Justifiable parties </i>says she should ask on a direct message channel, not in the group chat. Similarly, identity systems should be built so that only the parties who are involved in the transaction and have a need to know see the data that the system transmits.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark158">With this law in mind, consider </a><i>social login</i><a href="#bookmark32" class="s33">. When Alice logs into Bravo Corp’s site using Google, Facebook, Apple, or some other service, she visits the website for Bravo Corp, the relying party (RP), and is redirected to, say, Google, the identity provider (IdP), where she logs in. (For a refresher on these terms, see </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 2</span><a href="#bookmark765" class="s33">. For more on social login, see </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 13</span>.) The IdP sends a cryptographic token back to the RP, indicating Alice has provided the right credentials; it might also send back other identity data they have about Alice.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Do social logins break the law of justifiable parties? You could argue that the IdP is a justifiable party, since its authentication service is needed to complete the transaction. Clearly, Alice and the RP have consented to this arrangement, so we might consider that evidence that they see the</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">IdP as a justifiable party.</p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Remember that one of the purposes of these laws is to inform identity system architectures and help us analyze where they might be effective and where they might be exploited, cause harm, or fail. In the social login scenario, the IdP doesn’t just see that Alice is logging into Bravo Corp: it also knows about <i>everyone </i>who logs into Bravo Corp using its login service. They see many other places Alice logs into. Bravo Corp also learns something about Alice they don’t necessarily need to know: that she has an account at Google. As a result, many people avoid social login and continue to use usernames and passwords where they can. They don’t want the social login companies surveilling them.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Still, given its popularity, it would seem that social login has succeeded. But its use is far from universal. Regulated financial services companies, for example, do not use social login. I don’t know all the reasons they might not want or be able to use it, but the foundational reason is that they don’t consider the social login companies to be justifiable parties to the relationship they want to have with their customers.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">An important implication of justifiable parties is that identity systems should make participants aware of the parties in any identity exchange. Social login does that—clearly—by redirecting the subject to the IdP. Some federated identity systems do not. Instead, they transfer information about the subject behind the scenes. This is sometimes called the “phone home” problem because the RP connects to the IdP directly. Meaningful user control requires the transparency implicit in the law of justifiable parties.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark159">You also can’t talk about justifiable parties without discussing ad networks—which, like almost everything online, are based on identity systems. At the heart of the ad network identity system is the </a><i>cookie</i>, a simple correlation identifier built into the HTTP protocol. A <i>correlation identifier </i><a href="#bookmark608" class="s33">is a unique string that can be used to link requests. HTTP cookies are generated by the server and stored on the browser. Whenever the browser makes a request to the server, it sends back the cookie, allowing the server to correlate all requests from that browser. (</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 11</span> discusses cookies and correlation in greater depth.)<a name="bookmark160">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark161">Consider how (simple) ad tracking works. When you see an ad on Acme Corp’s website, it’s being served from a server owned by an ad company that Acme Corp has an agreement with. The ad server plants a cookie in your browser. Now you visit Bravo Corp’s website, which includes ads from the same ad server. Your browser dutifully reports the ad server cookie back to the ad server along with the information that the ad was on Bravo’s website. The company running the ad server now knows you were on both sites (along with lots of other metadata).</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Rather than correlating requests on a single site, they are using cookies to correlate your activity across the web.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/mVfSc" class="s33" target="_blank">To get a feel for how pervasive ad tracking is, I recommend spending a few minutes with the Fou Analytics </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Page X-Ray</span><a href="https://oreil.ly/zBX1y" class="s33" target="_blank">. Page X-Ray follows the cookies and trackers in a page to tell you more about how you’re being tracked. If you </a><a href="https://oreil.ly/zBX1y" class="a" target="_blank">x-ray </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: italic; font-weight: normal; text-decoration: underline; font-size: 12pt;">wired.com</span>, for example, you’ll see a massive amount of data sharing by trackers, cascading and fanning out across at least five layers consisting of hundreds of other parties—nearly all of which are involved in showing ads to that</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">visitor. All these parties likely believe that their involvement is justifiable and involves minimal disclosure for a constrained use, but many people would disagree and are increasingly concerned with the impact ad networks have on online privacy.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Directed Identity</p><p class="s35" style="padding-top: 9pt;padding-left: 11pt;text-indent: 0pt;text-align: justify;"><a name="bookmark162">A universal identity system must support both “omni-directional” identifiers for use by public entities and “unidirectional” identifiers for use by private entities, thus facilitating discovery while preventing unnecessary release of correlation handles.</a></p><p class="s35" style="padding-top: 9pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">—Kim Cameron, “The Laws of Identity”</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark524" class="s33" name="bookmark163">Identity systems depend on identifiers (discussed further in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 10</span>). Identifiers take many different forms, but the law of <i>directed identity </i>categorizes them into two types: omnidirectional and unidirectional. More commonly, we call these <i>public identifiers </i>and <i>peer or private identifiers</i>, respectively.<a name="bookmark164">&zwnj;</a><a name="bookmark165">&zwnj;</a></p><p class="s59" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark190" class="s33" name="bookmark166">The value of a public identifier is that it is easily resolvable by anyone.</a><a href="#bookmark190" class="s42">2</a> <span class="p">Public identifiers should be invariant and well known. In fact, their permanence is a feature. Public identifiers are designed to make it easy to discover information about the entity to which the identifier is bound.</span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">URLs are the most common form of public identifier. They are based on DNS domain names, another common type of public identifier. Phone numbers and email addresses, alas, are also public identifiers. They too are relatively permanent, and most people like that they’re invariant because of the huge hassle of informing all your contacts when they change.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">On the other hand, the value of a peer identifier is that it is not public. Like any identifier, it still must be resolved to be used, but that resolution happens using some nonpublic system or method. Peer identifiers should not be reassignable, to avoid the confusion that can occur if they are reused, but they needn’t be permanent. Many will be ephemeral.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">A username (if it’s not an email address) is an example of a peer identifier. You use it with a single site. Nothing requires that you use the same one everywhere; with a good password manager you could have a different username everywhere you go online. Of course, many sites will only let you use an email for a username.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Peer identifiers have significantly better privacy protection than public identifiers, since they don’t leak correlatable information in every transaction. Many of the biggest privacy problems the world faces are rooted in universal identifiers like SSNs, phone numbers, national ID numbers, and so on.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark393" class="s33" name="bookmark167">Using public-key infrastructure (PKI) certificates to secure web connections is another example of an identity system with public identifiers (further discussed in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 9</span>). PKI certificates link an identifier to a public key. In this case, the identifier is the domain name in the certificate. Used in this way, certificates have proven to be a very successful identity system for organizations and websites.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">On the other hand, PKI-based certificates for <i>people </i>have been a miserable failure. The person</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">possessing the private key can use the PKI certificate to authenticate at websites or log into remote machines. Early web standards envisioned using certificates for authenticating at websites. The Netscape browser and web server supported this functionality. The expense of getting PKI certificates, which was quite high at the time, likely contributed significantly to the failure of this effort. But there was also significant concern over the privacy implications of people having one permanent identifier that they used all over the web.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark168">Browser cookies are an interesting case. As we saw above, ad networks exploit cookies to surveil people as they use the web. An unintended consequence of the way HTTP cross-domain references and cookies work is that while they were intended to be peer identifiers, they ended up serving as public identifiers.</a></p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark393" class="s33">Cryptographic identifiers, like public keys, can function as peer identifiers if a new key pair is created for every relationship. This might seem daunting, but software can manage the keys, and recent developments in decentralized identifiers make management of large numbers of peer cryptographic identifiers easier. This makes directed identity much more feasible. </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 9</span> <a href="#bookmark945" class="s33">discusses public-private keys in detail and </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 15</span> <span style=" color: #000;">discusses cryptographic identifiers.</span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark169">Identifiers seem simple at first, but implementing them correctly can be difficult, as the case of cookies shows. Identity design can have a big impact on the usability, privacy, and flexibility of an identity system. An identity metasystem must support both public (omnidirectional) and peer (unidirectional) identifiers. In short, the law of directed identity tells us that the identity metasystem can’t use a single, universal identifier.</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Pluralism of Operators and Technologies</p><p class="s35" style="padding-top: 9pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">A universal identity system must channel and enable the inter-working of multiple identity technologies run by multiple identity providers.</p><p class="s35" style="padding-top: 9pt;padding-left: 11pt;text-indent: 0pt;text-align: justify;">—Kim Cameron, “The Laws of Identity”</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;"><a name="bookmark170">The law of </a><i>pluralism of operators and technologies </i>tells us we need more than one identity system. The world is full of identity systems, each built for a specific context and purpose: Cameron refers to this as the “identity ecology.”</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">At first this law might seem inconsistent with other laws, especially the law of <i>consistent experience across contexts</i>, which will be introduced later in this chapter. If users must have control and a consistent experience, irrespective of the identity context, doesn’t that imply a ubiquitous and pervasive system? Resolving this dilemma requires that you understand the relationship between the identity metasystem and the identity systems built on it.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Recall that a metasystem has an encapsulating protocol upon which other protocols can be built. Further, the metasystem is decentralized and polymorphic, meaning it can carry different kinds of data. The identity metasystem provides a stable, universal base for building identity systems. Because it satisfies the Laws of Identity, the systems built on top of it satisfy them as well.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark171">Passports, driver’s licenses, national ID cards, employee badges, business licenses, credit cards, and professional licenses are all unique identity systems designed for a specific context to</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">achieve a specific purpose. Thinking you could design just one system to replace all of these with some universal identity system would be ridiculous. But they all achieve user control and a consistent user experience because they use an underlying metasystem of sorts—the way credentials work in the physical world.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">But we can go further than that. A movie ticket is an identity system. No, it doesn’t identify <i>who </i>you are, but it does identify <i>what </i>you are: one of <i>N </i>people allowed to occupy a seat in a specific theater at a specific time. In this view, any venue ticketing system is an identity system. So are prescriptions, invoices, receipts, and systems for titling cars and land. Each is designed to identify someone or something and convey some right or record some transaction. And all of them use a common, underlying pattern to provide a consistent experience and user control.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Most organizations, even small businesses, design and deploy identity systems—even if they don’t recognize that’s what they’re doing. Most of them are not digital. But as the internet comes to mediate more and more of our lives, many of them will be. An identity metasystem must support them all.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Human Integration</p><p class="s35" style="padding-top: 9pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">The universal identity metasystem must define the human user to be a component of the distributed system integrated through unambiguous human-machine communication mechanisms offering protection against identity attacks.</p><p class="s35" style="padding-top: 9pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">—Kim Cameron, “The Laws of Identity”</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark172">When I started the Internet Identity Workshop with Kaliya Hamlin and Doc Searls in 2005, the theme we chose was “user-centric identity.” This was a shift; in the preceding years, identity discourse had primarily focused on enterprises and their internal needs, as organizations of all stripes felt the need to build identity solutions for their specific contexts. The term </a><i>user-centric </i>indicated a design philosophy that would swing the pendulum back in the other direction, integrating people and their needs with the identity systems they used.<a name="bookmark173">&zwnj;</a><a name="bookmark174">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark608" class="s33">Phishing attacks, fraud, complexity, and friction are the results of not considering how humans participate in an identity solution. Take phishing, for example. In a phishing attack, the intruder poses as a legitimate organization, application, or website to steal authentication factors such as usernames and passwords (see </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 11</span>). Phishing doesn’t attack the technical infrastructure of the identity system; it attacks the people using it. Phishing can happen over email, voice, Short Message Service (SMS), page hijacking, and even calendars. Quick response (QR) codes are sometimes used in phishing attacks where a legitimate QR code was simply stickered over with a fraudulent one.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">QR code phishing is a good example of a common phishing technique: link manipulation. The manipulated links might be in web pages, emails, or SMS messages, but the idea is to make it look legitimate to fool the target into clicking on it. The new link usually leads to a page designed to look like the real thing but with some nefarious intent, like stealing a password, credit card numbers, or other personal information. Another kind of attack is social engineering,</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">where phishers trick targets into thinking they need to take some action like revealing a password, passing on an access code, or even transferring funds.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Bad links, fake web pages, and con artists may not seem like the stuff of identity, but they happen because designs for identity systems often end at the computer screen and ignore the human component. The law of <i>human integration </i>says that designers need to extend their designs to consider how, when, and where people use identity.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">As an example of where human-integrated design can mitigate this problem, consider web authentication. The usernames and passwords used for authentication are a primary attack vector in phishing. Web authentication reestablishes a session between the user’s browser and the site over and over again. This constant need to reestablish sessions is confusing; most people view it as a complex process standing between them and what they want to do. That makes it a weak point that phishers can exploit. Identity systems could be designed to counter this by creating a mutually authenticated connection that is difficult for attackers to intercept. This takes a tricky and error-prone task away from human users and replaces it with a task that is easier to understand.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Human integration requires profoundly changing how people experience identity systems, making those systems predictable and unambiguous enough to support informed decisions. In short, the design of identity systems must take people into account to provide <i>good </i>experiences.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Consistent Experience Across Contexts</p><p class="s35" style="padding-top: 9pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">The unifying identity metasystem must guarantee its users a simple, consistent</p><p class="s35" style="padding-left: 11pt;text-indent: 0pt;text-align: left;">experience while enabling separation of contexts through multiple operators and technologies.</p><p class="s35" style="padding-top: 9pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">—Kim Cameron, “The Laws of Identity”</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark175">The law of </a><i>consistent experience across contexts </i>says that people’s experiences should be <i>consistent </i>from context to context. Providing a consistent user experience makes up for the digital world’s lack of tacit knowledge by allowing people to build up routines and muscle memory in its place. Designing a great user experience for one identity context is insufficient if you’re then using a good but completely different one for a different identity context.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">One of the most familiar examples of consistent user experience is the automobile. My grandfather, who died in 1955, could get in a 2022-model car and safely drive it with only a little instruction. The user experience (not just the interface) for a car is largely the same as it was 70 years ago. There are other examples, including email, the windowed user interface, and even the venerable QWERTY keyboard.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">One of the underappreciated features of web browsers is the consistent user experience that they provide. Tabs, address bars, the back button, reloading, and other features are largely the same regardless of which browser you use. There’s a reason why “Don’t break the back button!” has been common advice for web designers over the years. People depend on the web’s consistent user experience.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Alas, apps have changed all that by freeing developers from the strictures of the web. No doubt</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">there have been some excellent uses of this freedom, but what we’ve lost is consistency in core user experiences. That’s unfortunate. Moreover, the web—and the internet, for that matter—has never had a consistent user experience for authentication. (At least not one that has caught on.) Consequently, the user experience is very fragmented.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Anyone familiar with the modern world of websites and applications knows the subtle frustration of performing a slightly different authentication ceremony for each site or application you use.</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The username and password input boxes are in different places, perhaps behind a “Log In” button. The password box might not appear until the username is input. The rules around acceptable password length and characters can be maddeningly complex. The site might use multifactor authentication (MFA), but there’s no consistency there: my phone has five MFA apps installed that I use regularly, in addition to sites that use SMS or email for MFA. And this is just for authentication.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">You may not have thought about it as an identity-system design issue before, but anytime a website or application asks for information like your personal profile information, addresses, or even credit card information, you are transferring attributes—identity data. Each of these interactions is different for every website and application. Even different applications from the same company often do it differently. Password managers have taken some of the sting out of these problems, but they are still frustrating. Worse, inconsistent user experience is the source of much of the fraud that is rife online.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The law of <i>consistent experience across contexts </i>is closely tied to the other laws and the metasystem, which must provide a single way for people to establish safe channels with other people, organizations, and things. The metasystem’s encapsulating protocol provides a consistent method for requesting, selecting, and proffering identity information. Even though millions of individual identity systems might be built on top of the identity metasystem, the user experience in each is consistent because the metasystem is responsible for establishing safe channels where any kind of identity information can be exchanged.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">There’s a saying in security: “Don’t roll your own crypto.” I think we need a corollary in identity: “Don’t roll your own interface.” A consistent user experience helps ensure that consent is unambiguous and that the user knows which parties are participating in the exchange.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Fixing the Problems of Identity</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark176">An identity metasystem provides three primary capabilities that allow it to be used as the basis for building context-specific identity systems:</a><a name="bookmark177">&zwnj;</a></p><p class="s35" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Relationships</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a name="bookmark178">The metasystem provides a means for people, organizations, and things to have relationships with each other. These relationships are mutually authenticated, secure, and as private as possible for the use case.</a></p><p class="s35" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Secure messaging</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a name="bookmark179">The metasystem supports secure messaging between the parties to support relationships and allow them to confidently conduct identity transactions.</a></p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Trustworthy claim exchange</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a name="bookmark180">The metasystem provides the means for parties that have relationships in the metasystem to use messaging to exchange polymorphic claims (messages about attributes) reliably, confidently, and securely.</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark108" class="s33">Appropriately designed, a metasystem with these properties can conform to the seven laws and ensure that any identity system built on it does as well. An identity metasystem with the properties described above and designed to be consistent with the Laws of Identity provides the means to fix the problems of identity described in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 3</span>.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Let’s look at how:</p><p class="s35" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Proximity</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a name="bookmark181">Secure </a><i>claim exchange over a mutually authenticated channel </i>provides digital relationships that mitigate the problems caused when connections are distant.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Autonomy</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a name="bookmark182">A metasystem that conforms to the laws of </a><i>user control</i>, <i>minimal disclosure</i>, and <i>justifiable parties </i>gives participants autonomy by establishing boundaries and allowing each participant to create and manage secure relationships with other participants in the metasystem and ensures that the data is shared by choice.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Flexibility</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a name="bookmark183">A metasystem that is </a><i>decentralized</i>, <i>polymorphic</i>, and <i>modular </i>ensures that people and organizations can use the metasystem to build whatever context-specific identity system they need.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Consent</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a name="bookmark184">A metasystem that conforms to the laws of </a><i>user control and consent</i>, <i>justifiable parties</i>, <i>human integration</i>, and <i>consistent experience </i>ensures that people unambiguously know what they are sharing and with whom.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Privacy</p><p style="padding-top: 3pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a name="bookmark185">A metasystem that provides </a><i>secure, mutually authenticated relationships </i>and conforms to the laws of <i>minimal disclosure </i>and <i>directed identity </i>provides the means for reducing correlation across contexts and minimizing the amount of data that is shared.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Anonymity</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a name="bookmark186">A metasystem that supports </a><i>trustworthy claim exchange </i>and conforms to the law of <i>minimal disclosure </i>and <i>directed identity </i>can create ephemeral relationships and share and needed data without revealing who is participating in a permanent way.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Interoperability</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a name="bookmark187">A metasystem with an </a><i>encapsulating protocol </i>and conforming to the laws of <i>pluralism of operators and technologies </i>and <i>consistent experience across contexts </i>allows people to share claims outside of a specific use case. Identity systems built on the metasystem interoperate through consistent technology and user experience.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Scale</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a name="bookmark188">A metasystem that is </a><i>decentralized </i>and built on an <i>encapsulating protocol </i>scales by supporting millions of identity systems for different contexts and allowing anyone to build the identity system they need without sacrificing security, privacy, or user experience.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The coming chapters will explore concepts that lie at the core of digital identity, technologies that underpin the implementation of identity systems, and architectures that conform to the laws of identity. Along the way, I’ll also discuss existing identity protocols, standards, and systems and evaluate them with respect to the laws.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="624" height="1" alt="image" src="Image_032.png"/></span></p><ol id="l8"><li><p class="s65" style="padding-top: 5pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark189">	</a><span class="s45">He also sometimes joked that by calling them “laws” he could outmaneuver lawyers and risk managers, who had an inherent respect for something called a law.</span></p></li><li><p class="s65" style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark190">	</a><span class="s60">Resolve </span><span class="s45">may seem like a funny word to use with identifiers. I’m using it as a general term because what you do with any given identifier depends a great deal on the context in which it is used.</span></p></li></ol><p class="s21" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark191">Chapter 5. Relationships and Identity</a><a name="bookmark192">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="624" height="1" alt="image" src="Image_033.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark193">We typically don’t think of it this way, but every interaction we have in the physical world, no matter for what purpose or how short, sets up a relationship. So too in the digital world, although our tools for creating and managing them have been sorely lacking.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">One of my favorite scenarios for thinking about identity is meeting a friend for lunch:</p><p class="s35" style="padding-top: 10pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">You arrive at the restaurant on time and your friend is nowhere to be found. You go to the host to inquire about the reservation. She tells you that your reservation is correct, and your friend is already there. She escorts you to the table, where you greet your friend. The host seats you and leaves you with a menu. Within a few moments, the server arrives to take your order. You ask a few questions about different dishes. You both settle on your order and the server leaves to communicate with the kitchen. You happily settle in to chat with your friend while your food is being prepared. Later you might get a refill on a drink or order dessert. Eventually you pay with a credit card.</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">While you, your friend, the host, and the server recognized, remembered, and interacted with other people, places, and things countless times during this scenario, at no time were you required to identify yourself as a particular person. Even paying with a credit card doesn’t require that. Credit cards say something about you: <i>what </i>you are rather than <i>who </i>you are. And while it does show your name and that you have an account with a bank, the brilliance of the credit card is that you don’t need to have accounts with every place where you want credit. You simply present a token that gives the merchant confidence that they will be paid.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_034.png"/></span></p><p style="padding-top: 5pt;padding-left: 29pt;text-indent: -24pt;line-height: 174%;text-align: left;">Here are a few of the “whats” identified in this scenario: The host</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_035.png"/></span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 13pt;text-align: left;">Your friend</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_036.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_037.png"/></span></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 165%;text-align: left;">The table where your friend is sitting Your server</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_038.png"/></span></p><p style="padding-left: 29pt;text-indent: 0pt;text-align: left;">An adult over 21</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_039.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_040.png"/></span></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 165%;text-align: left;">Guest who ordered the medium-rare steak Someone who needs a refill</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_041.png"/></span></p><p style="padding-left: 29pt;text-indent: 0pt;text-align: left;">Excellent tipper</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_042.png"/></span></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">Person who owes $79.35</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_043.png"/></span></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">Person in possession of a Mastercard</p><p style="padding-top: 10pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">You don’t need an account at the restaurant for any of this to work. But you do need</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">relationships. Some, like your relationships with your friend and with your bank, are long-lived and identified (they know <i>who </i>you are). Most are ephemeral and pseudonymous. While the server certainly “identifies” patrons, they usually forget them as soon as the transaction is complete. And any identification the server does make is usually pseudonymous (“the couple at table three” rather than “Phil and Lynne Windley”).</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">As I’ve discussed, in the digital realm we suffer from the problem of not being in proximity to those with whom we’re interacting. As a result, we need a technical means to establish a relationship.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The reason we build identity systems isn’t to manage identities but to support digital relationships. Identities are important, but they are not the end goal. Understanding the nature of digital relationships can help you understand the kinds of identity systems that will meet their members’ goals.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Identity Niches</p><p class="s59" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark231" class="s33" name="bookmark194">Depending on who you ask, the average person has between 100 and 300 online accounts. My own password manager has more than a thousand entries. Identity expert Steve Wilson states that using federation schemes to create a few identities that serve all purposes is deeply flawed.</a><a href="#bookmark231" class="s42">1</a> <span class="p">His point is that we have so many identities because we have lots of relationships.</span><a name="bookmark195">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark196">All of our online relationships have a common root, but they are highly contextualized. Some are long-lived; some are ephemeral. Some are personal, some are commercial or civic. Some are important, some are trivial. Still, we have them. We adapt the information we share about ourselves, what many refer to as </a><i>identity data</i><a href="https://oreil.ly/Jy9Ho" class="s33" target="_blank">, to the specific niche of a relationship, just as </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Galápagos finches have famously adapted</span> to their niches in response to evolutionary pressure.</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Once you realize this, the idea of creating a few online identities to serve all needs seems preposterous.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Not only has each relationship evolved for a particular niche, but it is also still constantly changing. Often those changes are just more of what’s already there: for example, my Netflix account represents a relationship between me and Netflix. It’s constantly being updated with my viewing data, but its structure doesn’t usually change dramatically. However, some changes are larger. Netflix also allows me to create additional profiles so I can specialize the relationship for different members of my household. And when Netflix moved from DVDs to streaming, the nature of our relationship changed significantly.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark197">Identity systems like Google Sign-in, Apple Login, or Facebook Login—called </a><i>federated </i><a href="#bookmark765" class="s33">identity systems and discussed further in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 13</span>—ignore this important fact, attempting to create one account that can be used across multiple contexts. Organizations attempt to outsource their identity systems by using federation. But this doesn’t offer a complete solution, because while you can outsource authentication (is the right person logging in?), you can’t outsource the relationship the account is meant to support. Consequently, even if they use federation to outsource the authentication, they still maintain accounts to service each relationship.</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Because you’re not physically interacting with people in online transactions, your natural means of knowing who you’re dealing with are useless. Recall our functional definition of identity as being how we recognize, remember, and respond to another entity. These activities correspond to three properties digital relationships must have to overcome the problems of digital identity:</p><p class="s35" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Integrity</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">We want to know that, from interaction to interaction, we’re dealing with the same entity as before. In other words, we want the interaction to be secure and authentic.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Life span</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Sometimes we want relationships to be long-lived and identified. At other times, we create ephemeral, pseudonymous relationships for short-lived interactions.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Utility</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">We create online relationships to use them within a specific context for specific purposes.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">I’ll discuss each of these in detail below.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 10pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Relationship Integrity</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark198">Without integrity, you cannot recognize the other party to the relationship. Consequently, all identity systems manage relationship integrity as a foundational capability. Federated identity systems improve on one-off, often custom identity systems by providing integrity in a way that reduces account management overhead for the organization, increases convenience for the person, and increases security.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">A simple relationship has two parties: let’s call them Alice and Bob. Alice is connecting with Bob; as a result, Alice and Bob have a relationship. Alice and Bob could be people, organizations, or things represented by a website, app, or service. (I’ll treat them as people for this example.) Recognizing the other party in an online relationship means you know that you’re dealing with the same entity each time you encounter them (or it).</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">In a typical administrative identity system, when Alice initiates a relationship with Bob, Bob’s system uses usernames and passwords to ensure the integrity of the relationship. By asking for a username to identify Alice and a password to ensure that it’s the same Alice as before, Bob has some assurance that he is interacting with Alice. In this model, Alice and Bob are not peers.</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Rather, Bob controls the system and determines how and for what it is used, the factors it requires for authentication, and what happens to the data it collects.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark32" class="s33" name="bookmark199">In federated identity systems, as you learned in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 2</span>, Alice is usually called the <i>subject </i>or <i>requester </i>and Bob is called the <i>relying party </i>(RP). When a requester visits the RP’s site or opens an app, they are offered the opportunity to establish a relationship through an <i>identity provider </i>(IdP) whom the RP trusts—say, Google, Apple, or Facebook. The requester may or may not<a name="bookmark200">&zwnj;</a><a name="bookmark201">&zwnj;</a><a name="bookmark202">&zwnj;</a><a name="bookmark203">&zwnj;</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">have a relationship with one of those IdPs. RPs pick well-known IdPs with large numbers of users to reduce friction in signing up. The requester chooses which IdP they want to use from the relying party’s menu and is redirected to the IdP’s identity service, where they authenticate to the IdP and are redirected back to the RP. As part of this flow, the RP gets some kind of token from the IdP that signifies that the IdP will vouch for this person. They may also get attributes that the IdP has stored for the consumer.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark204">In the federated model, the IdP is identifying the person and attesting to the integrity of the relationship to the RP. The IdP is a third party acting as an </a><i>intervening administrative authority </i><a href="#bookmark232" class="s33">because they are in the middle of the relationship, playing an administrative role. Without their service, the RP may not have an alternative means of assuring themselves that the relationship has integrity over time. On the other hand, in this model the person gets no assurance from the identity system about relationship integrity. For that they usually rely on Transport Layer Security (TLS),</a><a href="#bookmark232" class="s42">2</a><span class="s59"> </span>which is visible in a web interaction but largely hidden inside a mobile app.<a name="bookmark205">&zwnj;</a><a name="bookmark206">&zwnj;</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Alice and Bob are not peers in the federated model. Instead, Alice is subject to the administrative control of both the IdP and the RP. Further, the RP (Bob) is subject to the administrative control of the IdP.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark207">As you’ve seen, an alternative to the federated model is self-sovereign identity (SSI). In SSI, a relationship is initiated when Alice and Bob exchange </a><i>decentralized identifiers </i>(DIDs). For example, when Alice visits Bob’s website, app, or service, she is presented with a connection invitation. When she accepts the invitation, she uses a software agent to share a DID that is created for that relationship. In turn, she receives a DID from Bob. This is called a <i>connection, </i>since DIDs are cryptographic and thus provide a means for both parties to mutually authenticate. Alice likely doesn’t see all this activity; rather, it’s carried out behind the scenes by software she uses.<a name="bookmark208">&zwnj;</a><a name="bookmark209">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Because the participants in SSI mutually authenticate, their identifiers are self-certifying. This means that, in contrast to the federated model, the SSI relationship has inherent integrity without the intervention of a third party. By exchanging DIDs, both parties also exchange public keys.</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">They can consequently use cryptographic means to ensure they are interacting with the party who controls the DID they received when the relationship was initiated. In SSI, Alice and Bob act as peers, since they both have equal control over the relationship.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark210">In addition to removing the need for intermediaries to vouch for the integrity of the relationship, the peer nature of relationships in SSI also means that neither party has access to the other’s authentication credentials. </a><i>Mutual authentication </i><a href="#bookmark608" class="s33">means that each party can authenticate the other, each managing their own keys. Neither ever needs to share their private key with another party. This architecture significantly reduces the risk from security attacks that steal credentials, since no administrator has access to the credentials of everyone using the system. I’ll discuss this more in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 11</span>.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark211">Relationship Life Span</a></p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark212">Whether in the physical world or digital, relationships have life spans. One of the biggest failings</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">of modern digital identity systems is our failure to recognize that people often want, even need, short-lived relationships.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Think about your typical day for a minute. How many people and organizations do you interact with in the physical world with which you establish a permanent relationship? Imagine if whenever you stopped in at the convenience store for a cup of coffee, you had to create a permanent relationship with the coffee machine, the cashier, the point-of-sale terminal, and the customers in line ahead of and behind you. Sounds ridiculous. But that’s what most digital interactions require. At every turn we’re asked to establish permanent accounts to transact and interact online.</p><p class="s59" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark233" class="s33" name="bookmark213">There are several reasons for this. The biggest one is that many websites, apps, and services want to send you ads (at best) or track you on other sites (even worse). Unneeded, long-lived relationships are the foundation of the surveillance economy that has come to define the modern online experience.</a><a href="#bookmark233" class="s42">3</a> <span class="p">A more pedestrian reason is simply that systems for quickly creating, then forgetting, short-lived digital relationships are scarce.</span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">There are some services with which I <i>want </i>a long-lived relationship. I value my relationships with Amazon and Netflix, for example. But there are many things I just need to remember for the length of the interaction. I recently ordered some bolts for a car-top carrier from a specialty web store. I don’t order these bolts all the time, so I just wanted to place my order and be done. I wanted an ephemeral relationship.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;"><a name="bookmark214">The Internet of Things will increase the need for ephemeral relationships. When I use a digital credential to open a door in a building I rarely visit, I don’t want the hassle of creating a long- term relationship with it; I just want to open the door and then forget about it.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Digital relationships should be easy to set up and tear down. They should allow for the relationship to grow over time if both parties desire. While they exist, they should be easily managed, providing all the tools for the needed utility. Unless there’s a long-term benefit to me, I shouldn’t need to create a long-term relationship. And when a digital relationship ends, it should really be over.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: justify;">Anonymity and Pseudonymity</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark215">Ephemeral and short-term relationships lead us to anonymity and pseudonymity. When people use the word </a><i>anonymous </i>to describe physical-world interactions, they almost always are talking about what is, technically speaking, <i>pseudonymity</i>. When you interact with the barista at the coffee shop, it’s anonymous in the sense that they don’t know your name. But they do recognize and remember you over the span of the interaction and may even know you’re a regular customer<a name="bookmark216">&zwnj;</a><a name="bookmark217">&zwnj;</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">—that’s technical pseudonymity. True anonymity is unrealistic for most online services since they must use some kind of identifier for at least the length of the session. The user is not anonymous, because the service can distinguish between different users. Thus, in the identity field, we’re almost always dealing with pseudonymity.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">In a pseudonymous system, users are uniquely identified, but other identifying information is not shared. Pseudonymous systems give subjects a unique identifier with which attributes, rights,</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">and privileges can be associated. <i>Pseudonymity </i>is a term usually reserved for people, since the unique identifier and its associated attributes, rights, and privileges constitute an identity record as we’ve defined it. Pseudonymity implies that no one besides the subject can tie this record to others that the subject might have.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Businesses should ask, “What identifying information do we absolutely need?” early in the design process for an online service. I say “businesses” because this is almost always a business decision, not a technology decision. Ideally, each attribute you request should also be linked to a documented need for the data as well as the benefit that the customer will receive by giving the data.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">This rule is not followed as often as it should be. You’ve probably filled out web forms that ask you for more data than you think the company needs to provide the service. You probably resented it. Adding insult to injury, it’s likely that the company never made any use of that data, for your benefit or not. Collecting unnecessary data alienates customers and clutters forms, so don’t do it.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Fluid Multi-Pseudonymity</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark218">As we’ve discussed, in the physical world, we often interact with others—both people and institutions—with relative anonymity. Most relationships in the physical world are ephemeral. In real life, we do without identity systems for most things. You don’t have to identify yourself to the movie theater to watch a movie. In real life, we act as embodied, independent agents. Our physical presence and the laws of physics have a lot to do with our ability to operate with functional anonymity across many domains. In contrast, most digital relationships are created under the purview of an administrative identity system.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Online, we’ve accepted long-lived relationships with full legibility of patrons as the default. Some of that is driven by convenience. I like storing my credit cards and shipping info at Amazon because it’s convenient. I like that they know what books I’ve bought so I don’t buy the same book more than once (yeah, I’m that guy). But what if I could get that convenience without any kind of account at Amazon at all?</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">There’s no technical reason we need long-lived relationships for most of our web interactions. That doesn’t mean we won’t want some for convenience, but they ought to be optional, like the loyalty program at the supermarket, rather than required for service. Our digital lives can be as private as our physical lives if identity system architects build identity systems that allow it. We don’t have to allow companies to surveil us. And the excuse that they surveil us to provide better service is just that—an excuse. The real reason they surveil us is because it’s profitable.</p><p class="s59" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark234" class="s33" name="bookmark219">I like what philosophy professor Kathleen Wallace says: “Selves are not only ‘networked,’ that is, in social networks, but are themselves networks.”</a><a href="#bookmark234" class="s42">4</a> <span class="p">While I’ve defined functional identity as how we recognize, remember, and respond to specific people and things, Wallace’s insight looks at identity from the perspective of the person, organization, or thing. We are multiple selves, changing over time—even in the course of a single day. Identity system architects must remember this as they design identity systems. Emil Sotirov calls this idea </span><span class="s35">fluid multi-</span></p><p class="s35" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark220">pseudonymity</a><a href="#bookmark235" class="s33">.</a><a href="#bookmark235" class="s42">5</a><span class="s59"> </span><span class="p">I like that term because I think it accurately describes how identity works.</span></p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The architectures of traditional, administrative identity systems do not reflect the fluid multi- pseudonymity of real life, so they are mismatched with how people actually live. I frequently see calls for someone, usually a government, to solve the online identity problem by issuing everyone a permanent “identity.” You’ve seen that the varied nature of our relationships exposes the folly of this idea. Linking every body (literally) to some government-issued identifier and a small number of attributes will not make the problems of identity disappear—in fact, it will exacerbate them.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">These calls don’t often come from within the identity community. Identity professionals understand how hard this problem is and that there’s no single identity for anyone. But even identity professionals use the word <i>identity </i>when they mean “account.” All of us, in the physical world and online, have multiple relationships. Many of those are pseudonymous. Many are ephemeral. But even a relationship that starts out as pseudonymous and ephemeral can develop into something permanent and better defined over time. Any relationship we have, even one with an online service, changes over time. In short, our relationships are fluid, and each is different.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Relationship Utility</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark221">Obviously, we don’t create digital relationships just so we can authenticate the other party. Integrity is a necessary, but insufficient, condition for an identity system. This is where most identity models fall short. You can understand why this is so given the evolution of the modern web. User-centric identity systems were needed once the web gave people reasons to visit places that they didn’t have a physical relationship with, like an ecommerce site. Once the identity system had established the integrity of the relationship, at least from the website’s perspective, we expected HTTP would provide the rest.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark222">Most traditional identity and access management (IAM) systems don’t provide much beyond integrity and access control. Once a service has established who or what you are, it knows just what resources to let you see or change. But as more and more of our lives are intermediated by digital services, we need more utility from the identity system than simple access control. The most that an IdP can provide in the federated model is integrity and, perhaps, a handful of attributes in a static, uncustomizable schema. Making matters worse, these attributes are usually self-asserted, significantly reducing the confidence the RP can place in them. Rich relationships require much more than that.</a><a name="bookmark223">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Relationships are established to provide utility. An ecommerce site wants to sell you things. A social media site wants to show you ads. Thus, their identity systems, built around the IAM system, are designed to do far more than just establish the integrity of the relationship: they want to store data about you and your activities. For the most part, this is welcome. I love that Amazon shows me my past orders, Netflix remembers where I was in a series, and Twitter keeps track of my followers and past tweets.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark224">The actual identity system is much larger and more specialized than the IAM portion. All the</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark32" class="s33">account or profile data these companies use is properly thought of as part of the identity system that they build and run. As I discussed in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 2</span>, identity systems acquire, correlate, apply, reason over, and govern the information assets of subjects, identifiers, attributes, raw data, and context. That’s a big scope.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Regardless of whether they outsource the integrity of their relationships using a federated authentication system (and notice that none of the companies I list above do), companies still have to keep track of their relationships with customers in order to provide services. They can’t outsource this to a third party because the data in their identity system has evolved to suit the needs of the specific relationship. Rip out the identity system from a Netflix or an Amazon and it won’t be the same company anymore.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">This leads to a simple but important conclusion: <i>You can’t outsource a relationship</i>. Online apps and services decorate the relationship with information they observe and use that information to provide utility to the relationships they administer. Doing this, and doing it well, is the foundation of the modern web.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">That’s why companies will always need to build, manage, and use identity systems. Their identity systems are what make them what they are—there is no “one size fits all” model. Over the course of this book, we will explore in detail the concepts, processes, architectures, and features of identity systems in support of online relationships that are fit for purpose and evolve to meet the changing contexts of their participants.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Transactional and Interactional Relationships</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark225">If we start with the premise that we build identity systems to manage relationships, you might rightly ask what kind of relationships are supported by the identity systems that we use. Put another way, what kinds of online relationships do you have? If you’re like me, the vast majority are transactional. </a><i>Transactional relationships </i>focus on commercial interactions: usually buying and selling, but not always that explicit. Transactional relationships look like business deals.</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;">They are based on reciprocity.</p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">My relationships with Amazon and Netflix are transactional. That’s appropriate and what I expect. But what about my relationships on Twitter? You might argue that they are between friends, colleagues, or even family members. But I also classify them as transactional.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">My relationships on Twitter exist within Twitter’s administrative control; Twitter facilitates those relationships in order to monetize them. Even though you’re not directly participating in the monetization and may even be unaware of it, it nevertheless colors the kind, frequency, and intimacy of your interactions. Twitter’s platform and product decisions facilitate and even promote the kinds of interactions that provide the most profit to them. Your attention and activity are the product in the transaction. What I can do in those relationships depends wholly on what Twitter allows. All the relationships you have on a social media platform are subordinate to the relationship you have with the platform itself.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark226">If you accept this argument, you will agree that the bulk of our online relationships are</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">transactional or at least commercial. Very few are what we might call <i>interactional relationships</i></p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">—except for email. Email is one of the bright exceptions to this landscape of transactional, administrated online relationships. If Alice and Bob exchange emails, they both have administrative, transactional relationships with their respective email providers, but their interaction does not necessarily take place within the administrative realm of a single email provider. Let’s explore what makes email different.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;"><a name="bookmark227">The most obvious difference between email and many other systems built to support online relationships is that email is based on protocols. Recall the importance of protocol from our discussion of the Laws of Identity. As a result of being based on a protocol:</a></p><p class="s35" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">The user chooses (and might even control) the email server.</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: justify;">With an email client, you have a choice of multiple email providers. You can even run your own email server if you like.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">Data is stored on a server “in the cloud.”</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: justify;">The mail client needn’t store any user data beyond account information. While many email clients store email data locally for performance reasons, the real data is in the cloud.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">Email client behavior is the same regardless of what server it connects to.</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: justify;">As long as the mail client is talking to a mail server that speaks the right protocol, it can provide the same functionality.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">The client is fungible.</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: justify;">I can pick my email client based on the features it provides without changing where I receive email or with whom I can exchange email.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">I can use multiple clients at the same time.</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">I can use one email client at home and a different email client at work and still see a single, consistent view of my email. I can even access my mail from a web client if I don’t have my computer handy.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">I can send you email without knowing anything but your email address.</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">None of the details about how you receive and process email are relevant to me. I simply send email to your address.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Mail servers can talk to each other across ownership boundaries.</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">I can use Gmail, you can use Yahoo! Mail, and the email still gets delivered.</p><p class="s35" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">I can change email providers easily or run my own server.</p><p class="s34" style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: justify;"><a href="http://windley.org/" class="s33" target="_blank">I receive email at </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: italic; font-weight: normal; text-decoration: underline; font-size: 12pt;">windley.org</span> <span class="p">even though I use Gmail. I used to run my own server. If Gmail went away, I could start running my own server again. And no one else needs to know.</span></p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">The parties exchanging email interact as peers.</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;text-align: justify;">Neither exists within the other’s system or is subject to its control.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;text-align: justify;">Email supports almost any kind of relationship imaginable.</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: justify;">Email’s flexibility is its hallmark and the reason it refuses to die, despite many pundits’ predictions.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark131" class="s33" name="bookmark228">In short, email was designed to follow the architecture of the internet and functions according to the metasystem properties I outlined in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 4</span>. Email is decentralized and <i>protocological </i>(that is, it uses protocols). Email is open—not necessarily open source, but open in that anyone can build clients and servers that speak its core protocols, Internet Mail Access Protocol (IMAP) and Simple Mail Transfer Protocol (SMTP). As a result, email maximizes freedom of choice and minimizes the chances of disruption.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Why discuss email in a book about digital identity? Because the features and benefits that email provides are the same ones every online relationship needs. These properties allow us to use email to create interactional relationships. The important insight is that systems that support interactional relationships can easily support transactional ones as well, where necessary. But the converse is not true. Systems for building transactional relationships don’t readily support interactional ones.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark229">Email has obvious weaknesses: most prominently, it doesn’t support mutual authentication of the parties to a relationship, so it suffers from problems like spam and phishing attacks. But email’s support for rich relationships is a primary reason it is still used, despite the rise of social media and work platforms like Slack and Teams.</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark230">Promoting Rich Relationships</a></p><p class="s55" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark131" class="s33">Relationships are the heart of digital identity. The architecture of an identity system must provide integrity, an appropriate life span, and the needed utility for the specific relationships it’s meant to support. At the same time, systems should conform to the Laws of Identity. Protocol-based architectures can provide the properties discussed in </a><a href="#bookmark131" class="a">Chapter 4</a> <span style=" color: #000;">while allowing the flexibility to build rich online relationships that feel more lifelike and authentic, provide better safety, and allow people to live effective online lives.</span></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="624" height="1" alt="image" src="Image_044.png"/></span></p><ol id="l9"><li><p class="s65" style="padding-top: 5pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark231">	</a><a href="https://oreil.ly/QM3ZB" class="s68" target="_blank">Stephen Wilson,</a><a href="https://oreil.ly/QM3ZB" class="s46" target="_blank"> </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 9pt;">“Identities Evolve: Why Federated Identity Is Easier Said Than Done”</span><span class="s45">, (May 18, 2011). Available at SSRN.</span></p></li><li><p class="s67" style="padding-top: 6pt;padding-left: 32pt;text-indent: -11pt;text-align: left;"><a href="#bookmark393" class="s68" name="bookmark232">TLS is the protocol used to secure interactions on the web. We’ll discuss it in detail in </a><a href="#bookmark393" class="s64">Chapter </a>9<span style=" color: #000;">.</span></p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark233"><span class="s65">	</span></a>“Surveillance economy” was coined by Shoshana Zuboff in her book <i>The Age of Surveillance Capitalism</i><a href="#bookmark291" class="s68">. </a><span style=" color: #8E0011;">Chapter 8</span> discusses this in more detail.</p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 32pt;text-indent: -11pt;text-align: left;"><a href="https://oreil.ly/GAkP2" class="s68" target="_blank" name="bookmark234">Kathleen Wallace,</a><a href="https://oreil.ly/GAkP2" class="s46" target="_blank"> </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 9pt;">“You Are a Network”</span>, <i>Aeon</i>, May 2021, accessed February 2, 2022.</p></li><li><p class="s69" style="padding-top: 6pt;padding-left: 32pt;text-indent: -11pt;text-align: left;"><a href="https://oreil.ly/w6X3s" class="s47" target="_blank" name="bookmark235">Tweet</a> <span style=" color: #000;">from August 28, 2021, accessed February 2, 2022.</span></p></li></ol><p class="s21" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark236">Chapter 6. The Digital Relationship Lifecycle</a><a name="bookmark237">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="624" height="1" alt="image" src="Image_045.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark238">When I was in grade school, our class captured a caterpillar and placed it in a jar with some leaves to see what would happen. You have probably done this too. Of course, in time, the caterpillar spun a cocoon, and the little jar became pretty boring. But our teacher encouraged us to keep watching, and one morning, we were thrilled to see a large moth in the bottle. This simple experiment clearly illustrated to me that the moth and the caterpillar were the same creature at different stages of its life.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Scientists use lifecycles to connect the seemingly unconnected. I’m a big fan of using lifecycles to analyze information technology problems for the same reason. Lifecycles help define all the phases of a problem or project so that they can be dealt with holistically rather than piecemeal. They’re also useful for categorizing activities associated with the process.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark240" class="s33" name="bookmark239">Digital relationships have lifecycles, as shown in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 6-1</span>, regardless of whether those relationships are long-term, short-lived, or ephemeral. Understanding how the digital relationship lifecycle plays out on every system, and in the enterprise as a whole, is crucial when creating a strategy for managing relationships.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="594" height="294" alt="image" src="Image_046.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark240">Figure 6-1. Digital relationship management lifecycle</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Briefly, a digital relationship starts out with one entity <i>discovering </i>another. If they desire a relationship, it is <i>created</i>. The relationship is <i>propagated </i>to any relevant systems and then it is <i>used</i>. As we discussed in the last chapter, relationships <i>change </i>or are <i>updated </i>over time, and these changes must be repropagated for use. At some point, when the relationship has served its purpose and is no longer needed, it is <i>terminated</i>. Next, I will discuss each phase in more detail.</p><p class="s48" style="padding-top: 4pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Discovering</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark241">Discovery is the initial phase of the lifecycle. You might think of this as a marketing function if you’re just concerned with how customers find a service or digital product. But it becomes more interesting—and complicated—once you expand your thinking to include things like the following:</a></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_047.png"/></span></p><p style="padding-top: 8pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">How do friends find each other online?</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_048.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_049.png"/></span></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 165%;text-align: left;">How does your phone find the digital door lock it has to connect with? How can you find the <i>right </i>identifier for a particular company?</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_050.png"/></span></p><p style="padding-left: 29pt;text-indent: 0pt;text-align: left;">How can you find out what a given identifier refers to?</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_051.png"/></span></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">How do you find the right place to interact with a specific entity (such as a website, an API, or a Bluetooth connection)?</p><p class="s55" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 10</span> <span style=" color: #000;">will discuss discovery in detail.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 10pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Co-Creating</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark242">After we discover the entity that we wish to establish a relationship with, we need to create the relationship. I call it “co-creating” because a relationship always involves at least two parties, and all the parties to the relationship have to take part in its creation. Creating a relationship is a ceremony where each party has a role and follows a script. The nature of the ceremony depends a great deal on the type of relationship.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark192" class="s33">Returning to our restaurant example from </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 5</span>: a number of short-lived or ephemeral relationships are created in the course of a meal. The reason it feels so natural is because we are all familiar with the many ceremonies that happen over the course of a restaurant meal.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">When you are creating an account on a website or in an app, the ceremony requires the person creating the account to enter information in a form of some kind and possibly set up multifactor authentication, but the bulk of the effort is borne by software on the business side.</p><p class="s35" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark243">Provisioning </a><span class="p">is the process of preparing an IT system to provide service to a client, customer, or other user. In a digital relationship, provisioning means creating the account record and populating it with attributes. Many of these attributes are provided by the person creating the account. They include standard information such as name, location, email, and phone, as well as things more specific to the system. For example, the account system in Twitter includes a “profile” that records a banner, profile picture, bio, and so on.</span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Provisioning can result from an administrator’s actions or a user’s (called self-service). When a new employee joins a company, for example, accounts are provisioned on several systems so that they can be assigned an office, get on the payroll, get a computer, get a badge, become part of the health plan, and so on. This may require separate actions by different administrators or be linked so that one request causes them all to happen.</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark244">We’re all familiar with self-service provisioning—we see it every day on the web and in smartphone apps. It’s perfect for services that are delivered over a network, and it works well when there is little need to verify physical credentials (other than perhaps a credit card).</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The explosion of social media has given rise to platform-mediated relationships where people create an account on a platform—say, Twitter, Facebook, or LinkedIn—and then follow or connect with one another inside the platform’s system. Some of these relationships (like Twitter follows) are asymmetrical because they don’t require both parties to participate at the same level. Others (like Facebook friendships) are symmetrical: the relationship features are shared by both parties. These relationships are subordinate to the relationship with the platform itself and are generally easy to create.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Sometimes relationship creation is much less formal. When two people exchange email or Bitcoin addresses, they are forming a relationship that is then supported by tools like contact managers and digital wallets.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Propagating</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark245">When I was chief technology officer (CTO) of iMall, we built a large ecommerce system that allowed small merchants to sign up for an account and then create a full-service online store. The system had a self-service account management system that allowed merchants to provision an account. The identity information was then propagated so that the system could create directories and files on numerous systems, add records to databases on other systems, and even establish a merchant banking account through an outside partner. This propagation of identity information was critical to the overall functioning of the system.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark246">Human resources systems have similar features to support </a><i>zero-day start </i>functionality, in which the enterprise links its systems for assigning offices, setting up payroll, and so on, so that on their very first day the employee has access to all the resources, physical and virtual, that they need to be productive.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark524" class="s33">For simple systems, the propagation is as easy as writing the account information to a directory. More complex systems may share an identity directory for use by multiple systems (see </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 10</span>). IT architecture has moved beyond the idea of a single <i>system </i>or <i>record </i>that served as the single repository of data (account or otherwise). In today’s distributed IT systems, such a single source of truth would result in tightly coupled systems that are prone to failure and performance problems. Instead, modern systems keep data in multiple repositories that must be kept in sync.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Propagation must occur after each change to the identity records, and it must happen reliably. Because modern distributed systems often can’t use transactions (atomicity across multiple independent actions) to ensure data consistency, this can be a challenge. Distributed systems limit strong consistency (usually via transactions) to the smallest part of the system possible and use eventual consistency and recovery everywhere else.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">To see why, consider the example I gave in the opening paragraph of this section. Suppose you</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">create an account. The system creates directory records, files, and database records on multiple systems, only to discover that your payment has been declined. The system is in a state of partial completion and backing out to a clean state is often nontrivial. The more actions involved in a single propagation, the more difficult this problem becomes. So, the payment and an initial provisioning message may be protected inside a transaction; that way, if the payment fails, the provisioning message is never sent.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">There may be numerous systems involved in provisioning the account. If one of them fails because it’s offline or the message is lost, the system must have the means to note the inconsistency and recover through compensating actions. The design and implementation of distributed systems is beyond the scope of this book, but modern identity systems are usually distributed and must be architected as such.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Using</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark247">The use phase is probably the most obvious of all the phases in the lifecycle. Once the relationship has been created and propagated, its creators can use it to support the relationship’s utility. This might be as simple as consulting an account to authenticate and authorize user actions against resources, or it could include more complicated actions such as billing, payroll, updating timelines, or even feeding AI agents that service the relationship.</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Updating or Changing</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark248">Regardless of the nature of the relationship between entities, the attributes it uses will be updated from time to time, either because one party’s base attributes change (for instance, a new home address) or because roles and assignments change. These updates don’t change the structure or schema of the underlying systems supporting the relationship; these attributes are designed to be updated.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">At other times, the nature of the relationship might change to support new business opportunities, add new features, or change the kind of relationship (such as moving from a free service to paid). Sometimes relationships that start out as short-term become long-term. When the relationship changes, new fields might be added to the record schema, or the account may need to be propagated to entirely new systems.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Relationships might include things, not just people and organizations. In these cases, it’s possible that the entire entity referred to by the account is changed. As an example, consider upgrading the departmental laser printer. When the new printer is installed, its name and IP number may be the only attributes that remain the same. And yet, its role is still “department laser printer.” This action would also result in changes that, after completion, must be repropagated to the affected systems.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Maintaining identity-related information is one of the costliest activities that IT help desks deal with from day to day. People frequently lose or forget passwords. They change roles or move.</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The more things users can do on their own, the less onerous this is for all parties to a relationship.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Terminating</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark249">Just as important as creating a relationship is terminating it at the end of its lifecycle. One employee of a company whose identity systems have won some acclaim told me that the company’s sophisticated identity management system had ensured he was ready to begin work the same day he started. Ironically, two years after he quit, his voicemail still functioned. This company was doing a good job creating relationships but had fallen down on terminating them.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Leaving a voicemail account active may not be a big deal, but leaving a departing employee with access to a sensitive system could be catastrophic. Failing to terminate a relationship properly can lead to confusion, access to critical data by outsiders, and even fraud or theft. Leaving old accounts active is a dangerous security hole for two reasons. First, the employee may continue to use company resources after they’ve quit. More worrisome, these accounts are prime places for hackers to crack into corporate systems because they are unmonitored and strange activity won’t raise any eyebrows.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Lifecycle Planning</p><p class="s55" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1024" class="s33" name="bookmark250">You’ve learned in this chapter that the digital relationship lifecycle applies to relationships regardless of their length. Even an ephemeral relationship must be discovered, created, propagated, used, and terminated. Planning for each phase is critical to designing a digital identity infrastructure that meets the needs of everyone in the relationship. This planning can’t simply be done at the abstract level but must extend to each subsystem that participates in delivering service. For example, a company’s customer relationship management and the enterprise resource planning systems have different accounts as well as unique needs in each stage of the lifecycle. But they also need to cooperate in creating, propagating, and terminating relationships. </a><a href="#bookmark1024" class="a">Chapter 16</a> <a href="#bookmark1059" class="s33">and </a><a href="#bookmark1059" class="a">Chapter 17</a> <span style=" color: #000;">will discuss different architectures for identity systems and the nature of the relationships they support.</span></p><p class="s21" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark251">Chapter 7. Trust, Confidence, and Risk</a><a name="bookmark252">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="624" height="1" alt="image" src="Image_052.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 6pt;padding-left: 11pt;text-indent: 0pt;text-align: left;"><a href="#bookmark281" class="s32" name="bookmark253">Доверяй, но проверяй.</a><a href="#bookmark281" class="s66">1</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 8pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">—Russian proverb</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;"><a name="bookmark254">Trust </a><span class="p">is at the heart of all relationships. Trust is the basis for society. We trust our spouse to lock the door when they leave the house. We trust our coworker to email a document for us. We trust the bank to not lose our money. We trust the airline pilot to fly us safely to our destination.</span></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: justify;">Without trust in people and institutions, life is difficult to navigate.</p><p class="s59" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark282" class="s33" name="bookmark255">In their excellent paper “Risk and Trust,”</a><a href="#bookmark282" class="s42">2</a> <span class="p">Nickel and Vaesen define trust as the “disposition to willingly rely on another person or entity to perform actions that benefit or protect oneself or one’s interests in a given domain.” Unstated in this definition is that trust necessarily entails the trustor being vulnerable to the trustee. Trust entails an inherent risk.</span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">By building relationships in the digital realm, we are creating a digital society, one where trust is necessary. Relationships imply a shared domain, context, and set of activities. We often rely on third parties to tell us things relevant to a relationship. Our vulnerability, and therefore our risk, depends on the degree of reliance we have on another party’s performance. Relationships can never be “no trust” because we create them expecting to rely on the other parties in them. Bitcoin and other cryptocurrencies can be described as low- or no-trust precisely because the point of the system is to reduce reliance on any relationship at all—not relying on the other party to the transaction and certainly not on any third party. In contrast, most online interactions do rely on a relationship and, therefore, trust to some degree.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark283" class="s33" name="bookmark256">Because of the proximity problem, digital relationships are potentially risky. In “Blockchain as a Confidence Machine: The Problem of Trust &amp; Challenges of Governance,”</a><a href="#bookmark283" class="s42">3</a><span class="s59"> </span>the authors argue that “trust and confidence are distinct phenomena: trust depends on personal vulnerability and risk-taking, whereas confidence depends on internalised expectations deriving from knowledge or past experiences.” The <i>risk </i>is that the trustee is an independent agent who may not perform to the trustor’s expectations. <i>Confidence</i>, on the other hand, focuses on assurance, not risk.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark257" class="s33">As </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 7-1</span> illustrates, to the extent our confidence in another person, institution, or system increases, our trust can decrease because our risk and vulnerability have decreased. In contrast to trust, <i>confidence does not require that the trustor be in a vulnerable position </i>because some aspects of the relationship are predictable, reducing uncertainty. We can gain predictability, and thus confidence, in relationships from past experience, from evaluating the degrees of freedom the other party has, or from evaluating statistical and other evidence.</p><p style="padding-left: 35pt;text-indent: 0pt;text-align: left;"><span><img width="543" height="538" alt="image" src="Image_053.jpg"/></span></p><p class="s60" style="padding-top: 4pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark257">Figure 7-1. Trust and confidence have an inverse relationship</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Confidence doesn’t necessarily involve complete mastery of the systems or institutions you interact with. For example, you can have confidence that the airplane you’re flying in is safe without understanding the technical systems involved or knowing how to fly yourself. Even if you’ve never flown, you have a general knowledge that planes don’t usually crash and thus can gauge the risk as being very low.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">But the plane example also points out the nuanced relationship between trust and confidence. Our confidence that the plane won’t crash is undergirded by our trust in the various participants in the airline ecosystem. You cannot personally know about or verify them all, so you must trust that others are doing the right thing and ensuring air travel is safe. In other words, our confidence in one thing may depend on our trust in other things.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark192" class="s33">As I discussed in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 5</span>, the primary reason people need identity systems is to support relationships. A good identity system gives you confidence that the person at the other end of the relationship is the same one you initiated the relationship with. As you interact in a digital</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;">relationship, you gain experience and gather evidence. This reduces our need to trust the relationship because our vulnerability and risk decrease commensurately. An identity system can help parties to the relationship gather, manage, and analyze that evidence.</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark258">In the influential book </a><a href="#bookmark284" class="s32">Trust: The Social Virtues and the Creation of Prosperity,</a><a href="#bookmark284" class="s42">4</a><span class="s59"> </span>Francis Fukuyama argues that public values, especially trust and confidence, shape the direction of national economies. Among other things, Fukuyama shows how trust and confidence reduce transaction costs and, ultimately, economic friction. Similarly, a digital society based on digital relationships requires a digital identity infrastructure to establish confidence and trust.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Risk and Vulnerability</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark259">In digital relationships supported by an identity infrastructure, the problems of digital identity present many risks, including:</a><a name="bookmark260">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_054.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_055.png"/></span></p><p style="padding-top: 8pt;padding-left: 29pt;text-indent: 0pt;line-height: 165%;text-align: left;">Are the identity credentials being presented held by the correct entity? Is the system Alice is talking to the one she wants to talk to?</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_056.png"/></span></p><p style="padding-left: 29pt;text-indent: 0pt;text-align: left;">Will Alice’s communication be unaltered and private?</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_057.png"/></span></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">Is the access-control policy sufficiently and consistently protecting valuable assets?</p><p style="padding-top: 10pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">I could go on.</p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Risk can be managed actively or passively. Some organizations and people are very risk averse. Others are more tolerant of risk, especially when the cost of reducing risk is high. Even so, most people and organizations want to reduce the risk attendant to digital relationships and increase their confidence in the outcomes. Risk management is a well-established practice in most businesses. Businesses don’t try to measure trust in a system or approach; instead, they quantify the risk of a particular business process and balance that risk with the expected rewards or returns.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Risk and vulnerability depend on the domain and life span of the relationship. Short-lived and ephemeral relationships within a specific domain often have quantifiable risks that can be mitigated by creating policy, increasing our confidence, and reducing the trust you need to have. Consider an electronic door lock, with which you might establish an ephemeral relationship each time you need to use the door. If the lock can establish the authenticity of the identifier accessing it and know through policy that the identifier is allowed to unlock the door, then there is little risk.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">But is the identifier being wielded by the person it is assigned to? Here you may need to trust a policy that tells employees not to let others use their employee ID card. Or you may be using a verifiable credential that gives you confidence through cryptography that the identifier is being used by the person it was issued to. Whether you can tolerate the risk of someone loaning out their card (and thus access to the door) depends a great deal on what the door protects. This again speaks to the domain of the transaction.</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Relationships that are intimate, long-lived, and have broad responsibility are often very vulnerable to actions taken by one or more of the parties to the relationship. For example, the executive assistant to a company CEO often needs very broad access to company systems and considerable discretion about how resources are used in order to do their job. The risks are large and difficult to mitigate. Consequently, the CEO is left to trust that this person won’t abuse their position through maliciousness, ineptitude, or negligence. While identity systems can reduce some of the risk inherent in this scenario, the breadth of the domain makes it impossible to significantly reduce the level of trust invested in this person.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">When you create a policy for digital identity systems that control the actions available to holders of specific identity credentials, you’re setting out objectives based on several factors, including:</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_058.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_059.png"/></span></p><p style="padding-top: 8pt;padding-left: 29pt;text-indent: 0pt;line-height: 165%;text-align: left;">The circumstances of the transactions involved The business requirements</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_060.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_061.png"/></span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 165%;text-align: left;">The degree of risk that the business is willing to bear in those circumstances The cost the business is willing to pay to reduce the risk to an acceptable level</p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">These objectives drive the level of trust required, the confidence our risk-reducing measures can buy, and the amount of evidence you need to collect to attain sufficient confidence.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Looking at risk in a particular domain for specific relationship types provides a strategy. For each domain, you must be able to measure the risk that the digital identity infrastructure will fail to perform as required. Answering these questions requires a detailed understanding of the systems and processes that make up the digital identity infrastructure, including detailed assessments of interactions with partners and their ability to perform as required. You must know where in the process you can establish confidence and where you remain vulnerable.</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;">Furthermore, you must quantify the potential losses and their probabilities.</p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Often, for domains that have been in place for some time, you can use historical measurements to determine the expected level of risk. This assumes that the processes used to manage the digital identity infrastructure include monitoring and tracking the system and its outcomes. The level of detail available for these analyses will depend on the system’s architecture and the maturity of the policies that govern it, topics I will discuss in detail in later chapters.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Fidelity and Provenance</p><p class="s55" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark263" class="s33" name="bookmark261">The interconnected relationship of trust and confidence may feel hard to grasp without some additional structure. </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 7-2</span> <span style=" color: #000;">shows a mutually supportive relationship, with trust on the top and confidence on the bottom.</span><a name="bookmark262">&zwnj;</a></p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="593" height="397" alt="image" src="Image_062.jpg"/></span></p><p class="s60" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark263">Figure 7-2. The relationship of fidelity and provenance to confidence and trust in identity systems</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Trust depends on something I call <i>provenance</i>. Provenance includes various considerations that trust depends on, including:</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_063.png"/></span></p><p style="padding-top: 8pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">The trustee’s reputation or moral standing</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_064.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_065.png"/></span></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 165%;text-align: left;">The trustee’s desire to maintain their reputation or brand The institutional context of the trust relationship</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_066.png"/></span></p><p style="padding-left: 29pt;text-indent: 0pt;text-align: left;">The trustor’s level of optimism</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_067.png"/></span></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">How and from where data is collected</p><p style="padding-top: 10pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark264">Provenance depends on </a><i>governance</i><a href="#bookmark285" class="s33">,</a><a href="#bookmark285" class="s42">5</a><span class="s59"> </span>which might include the following:<a name="bookmark265">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_068.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_069.png"/></span></p><p class="s59" style="padding-top: 10pt;padding-left: 29pt;text-indent: 0pt;line-height: 165%;text-align: left;"><a href="#bookmark286" class="s33" name="bookmark266">Technical, financial, human resource, and other policies set by the trustee or trustor</a><span style=" color: #8E0011; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; vertical-align: 4pt;">6</span> <span class="p">The operating rules, roles and responsibilities, and legal validity of a policy</span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_070.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_071.png"/></span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 165%;text-align: left;">The regulatory and legal structures within which the trust relationship exists The trustee’s and trustor’s personal rules and standards</p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark263" class="s33">The bottom layer of </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 7-2</span> shows that confidence depends on what I broadly call <i>fidelity</i>. Fidelity includes the kinds of things that can give us confidence in digital relationships, including:</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_072.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_073.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_074.png"/></span></p><p style="padding-top: 3pt;padding-left: 29pt;text-indent: 0pt;line-height: 165%;text-align: left;">How authentication factors are generated and stored The presence (or absence) of multifactor authentication Whether data is transmitted on a protected channel</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_075.png"/></span></p><p style="padding-left: 29pt;text-indent: 0pt;text-align: left;">The protocols used for the authentication ceremony</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_076.png"/></span></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">The cryptographic strength of verifiable credentials or other mechanisms used to transmit attributes</p><p style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Fidelity is largely a matter of the specific digital identity architecture, technologies, and algorithms used to create, maintain, and service the digital relationship. Examples include OAuth, FIDO (Fast Identity Online), TLS (Transport Layer Security), digital certificates and public-key infrastructure (PKI), zero-knowledge proofs, and digital signatures. These will all be discussed in greater detail in later chapters.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Note that the diagram also includes a dotted arrow from <i>governance </i>to <i>technology</i>. How effective a given technology is in providing fidelity (and thus establishing confidence) usually depends on how it is deployed, maintained, and used. For example, while using TLS to secure a web connection can give confidence in its confidentiality, its effectiveness depends on what kind of digital certificate is being used, who issued it, what their policies are, and the strength of their security—all issues of governance.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Trust Frameworks</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark267">Governance needs a sustainable ecosystem. If the governance is entirely contained within an organization, the long-term viability of that organization determines the sustainability of the governance that creates provenance to provide the needed trust. Other ecosystems extend beyond a single organization and require other means to be viable. This may take the form of a nonprofit or other organization supported by interested parties. For example, whether or not schools, employers, and others trust the transcripts provided by US universities depends on a provenance process called </a><i>accreditation </i>that is administered by third-party agencies. We can observe the processes these third parties use and judge the competencies of graduates of the universities they accredit.<a name="bookmark268">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">This arrangement, where a third party provides governance (and sometimes technology) to transfer trust between two parties in a relationship, is called a <i>trust framework</i>. Credit card companies are perhaps the best-known and most widely used trust frameworks in the world. Platform companies like Uber and Grubhub are other examples.</p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 7-3</span> <span style=" color: #000;">shows the relationships in the Visa trust framework. When I present my Visa card to a merchant, they have no relationship with me and likely no relationship with my bank. Even so, they fully expect to be paid. The trust framework provides this result using a mix of governance and technology.</span></p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><a name="bookmark272"><span><img width="590" height="492" alt="image" src="Image_077.jpg"/></span></a></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark269">Figure 7-3. The relationships in a credit card trust framework</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark287" class="s33" name="bookmark270">The relationship I create with the merchant is probably short-lived. But it provides the trust and confidence needed to conduct the transaction because of the long-term relationships represented in the trust framework. The merchant and I both have legal relationships with our respective banks. These banks both have legal relationships with Visa. Visa creates policies and rules to govern the transaction. At the same time, Visa depends on and mandates the use of technologies within the credit card network (much of which is provided by other parties) to create as much confidence as possible that the transaction is not fraudulent and to transfer funds from my account at my bank to the merchant’s account at their bank.</a><a href="#bookmark287" class="s42">7</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The Visa network is sustainable because Visa, the banks, and third-party processors each get a cut of any transaction on the network. This is a nice arrangement when it’s possible, but often trust frameworks must do something else to remain viable, like charging a direct fee for service.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">The Nature of Trust</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark271">Recall that trust is the “disposition to willingly rely on another person or entity to perform actions that benefit or protect oneself or one’s interests in a given domain.” For example, when</a></p><p class="s59" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;"><a href="#bookmark288" class="s33" name="bookmark273">you give your credit card to the waiter at a restaurant, you are expressing trust that the waiter will use the credit card to process a transaction that will pay for your meal. You expect that that transaction will be the only one processed and that the waiter won’t steal the credit card number. You have confidence in the credit card system itself, but you must trust the waiter.</a><a href="#bookmark288" class="s42">8</a> <span class="p">The only time I’ve ever had my credit card number stolen was in a restaurant, and yet I still blithely hand my credit card over to any waiter who comes along. There is clearly risk, but I take it because I’m convinced that the risk is small, largely due to credit card company policies that limit my liability.</span></p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Trust is something an entity grants to or withholds from others—it is a disposition, sometimes a conscious decision. Most of us don’t consciously think about the risk of using a credit card to pay for a meal; we evaluate it intuitively based on a variety of factors: our previous experience, the way the restaurant looks, and, perhaps most importantly, our trust in the governance of the credit card companies. There’s no doubt that trust is linked to risk when you consider who you’re willing to trust with what.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Trust is based not just on the entities involved in the transaction but also on their roles and the context of the transaction. Alice might trust Bob to fix her car but not to babysit her children. She can adjust trust or revoke it completely at any time. This leads to some important properties of trust:</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_078.png"/></span></p><p style="padding-top: 8pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Trust is transitive only in very specific circumstances. For example, if Alice trusts Bob’s taste in music and Bob trusted Carol to select songs for the last party, Alice may be willing to trust Carol to pick the songs for her party.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_079.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Trust cannot be shared. If Alice trusts Bob and Alice trusts Carol, it doesn’t necessarily follow that Bob trusts Carol.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_080.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">Trust is not symmetric. Just because you trust me doesn’t mean that I trust you.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_081.png"/></span></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Trustworthiness cannot be self-declared. This is so self-evident that the phrase “trust me” has become a cliché sure to get a laugh.</p><p style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">In digital relationships, trust is generally linked to a specific identifier and the attributes associated with it. I may have several email addresses, for example, and even though they all belong to me, people may see them in different contexts and trust a request sent from my work address more than they do one from my personal account.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Coherence and Social Systems</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark274">A collection of digital relationships forms a social system for accomplishing some goal. Some are small, others are global. Social systems that are enduring, scalable, and generative require coherence among participants. Coherence allows us to manage complexity. Coherence is necessary for any group of people to cooperate. The coherence necessary to create the internet came in part from standards, but more from the actions of people who created organizations, established those standards, ran services, and set up exchange points.</a></p><p class="s35" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark275">Coherence </a><a href="#bookmark289" class="s33">enables a group of people to operate with one mind about some set of ideas, processes, and outcomes. Trust and confidence play important roles in establishing coherent social systems. Identity systems have different architectures depending on their purpose, but all must establish coherence among participants. People have four ways of creating coherence in social systems: tribes, institutions, markets, and networks.</a><a href="#bookmark289" class="s42">9</a><span class="s59"> </span><span class="p">Consequently, all identity systems will fall into one of these four patterns. Let’s look more closely at them:</span></p><p class="s35" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">“Tribes”</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a name="bookmark276">Startups and families, for example, both work as “tribes” or communities. When there’s only a small set of people, collective action and leadership make rules and put incentives—and disincentives—in place. The relationships in communities are usually interactional rather than transactional. Through interactions that follow the rules and norms of the community, our initial trust turns into confidence in other members of the community. Coherence is the result.</a></p><p class="s35" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Institutions</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a name="bookmark277">As a company grows, it becomes an institution that relies on rules and bureaucracy to establish confidence and create coherence. Families rarely grow into institutions (except among the very rich), but startups sometimes do. The relationships in institutions are both transactional and interactional, depending on the institution’s purpose and organization.</a></p><p style="padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: justify;">While good leadership is important, institutions are more about the organization than the personalities involved. Tribes and institutions are usually centralized—someone or some organization is making it all happen. In addition, institutions rely on hierarchy to govern interactions, reduce risk, increase confidence, and achieve coherence.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Markets</p><p style="padding-top: 7pt;padding-left: 23pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark278">Markets are decentralized—and they are heterarchical rather than hierarchical. Rules and ad hoc ceremonies, perhaps evolved over time through countless interactions, govern interactions and establish confidence. Market relationships are almost exclusively transactional, regardless of how friendly they might be. Market forces driven by economic opportunity give participants incentives to abide by the rules. Market participants are also bound by institutions (such as the rule of law) to behave in certain ways. Competition among private interests (hopefully behaving fairly and freely) allows multiple players with different agendas to process complex transactions around a diverse set of interests. Nevertheless, most market relationships begin with trust and proceed to confidence over time.</a></p><p style="padding-top: 5pt;padding-left: 23pt;text-indent: 0pt;line-height: 109%;text-align: left;">Markets don’t displace institutions but sit alongside them in a symbiotic relationship that mirrors the interplay between trust and confidence, establishing coherence in complex ecosystems. Although markets coexist with and depend on trust in laws, regulations, and</p><p style="padding-top: 3pt;padding-left: 23pt;text-indent: 0pt;line-height: 109%;text-align: left;">institutions like banks and regulatory bodies, they also depend on the confidence that a functioning market instills in the economy at large.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Networks</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a name="bookmark279">Networks are also decentralized but based on peer relationships. Moreover, the rules of interaction are set in </a><i>protocol</i>—formalized ceremonies. Protocol provides a template for interactions that reduces market risk and increases network effects. Network relationships might be interactional or transactional, depending on the protocol. But protocol alone is not enough. The internet is probably the best and biggest example of a networked organization. Defining a protocol doesn’t string cable or set up routers. There’s something more to it. As with tribes, institutions, and markets, one form of organization doesn’t supplant another but augments it. So too with networks. The internet is the result of a mix of institutional, market- driven, and network-enabled forces. These set up a complex web of trust and confidence in other actors in the network. The internet has endured and functions because these forces, whether by design or luck, are sufficient to create the coherence necessary to turn the idea of a global, public, decentralized communications system into a real network that routes packets from place to place.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Most identity systems rely on institutional control, patterns, and methods to create coherence, from employee portals based on company-run identity and access management systems to social login systems like Google Sign-in. Decentralized, networked identity systems, in contrast, use protocol to create coherence and enable autonomous interactions.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Trust, Confidence, and Coherence</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark280">A digital relationship is worthless if its participants cannot establish the trust and confidence needed for it to fulfill its purpose. Relying on confidence is better than relying on trust, but very few systems that need digital relationships will be able to get by on the fidelity of their architectures alone. Most will also need some level of trust—and the governance that trust requires. When building digital identity infrastructures, remember that you’re attempting to enable a social system of digital relationships, simple or complex, that will succeed or fail based on the coherence that the design engenders and the degree of trust and confidence the relationships inspire.</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="624" height="1" alt="image" src="Image_082.png"/></span></p><ol id="l10"><li><p class="s45" style="padding-top: 5pt;padding-left: 32pt;text-indent: -11pt;text-align: left;"><a name="bookmark281">Trust but verify.</a></p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark282">Philip J. Nickel and Krist Vaesen, “Risk and Trust,” in </a><i>Handbook of Risk Theory</i>, ed. Sabine Roeser et al. (New York: Springer, 2012).</p></li><li><p class="s45" style="padding-top: 3pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark283">Primavera De Filippi, Morshed Mannan, and Wessel Reijers, “Blockchain as a Confidence Machine: The Problem of Trust &amp; Challenges of Governance,” in </a><i>Technology in Society </i>(2020), 62.</p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 32pt;text-indent: -11pt;text-align: left;"><a name="bookmark284">Francis Fukayama, </a><i>Trust: The Social Virtues and the Creation of Prosperity </i>(New York: Free Press, 1996).</p></li><li><p class="s67" style="padding-top: 6pt;padding-left: 32pt;text-indent: -11pt;text-align: left;"><a href="#bookmark1316" class="s64" name="bookmark285">C</a>hapter 22 <span style=" color: #000;">discusses the details of governance.</span></p></li><li><p class="s67" style="padding-top: 6pt;padding-left: 32pt;text-indent: -11pt;text-align: left;"><a href="#bookmark1285" class="s68" name="bookmark286">Policy is the topic of </a><a href="#bookmark1285" class="s64">Chapter </a>21<span style=" color: #000;">.</span></p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark287">To learn more about the founding of Visa and the ideas that helped it succeed, see Visa founder Dee Hock’s </a><i>One from Many: VISA and the Rise of Chaordic Organization </i>(San Francisco: Berrett-Koehler, 2005).</p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark288">If you’re reading this in Europe, you’re probably shaking your head at a process that allows the waiter to take the card to the machine rather than bringing the machine to the card. That’s a good example of how technology, policy, and practice can impact trust by reducing risk and increasing confidence.</a></p></li><li><p style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a href="https://oreil.ly/6R6hx" class="s68" target="_blank" name="bookmark289">For more about these four societal organizational models, see David Ronfeldt’s RAND Corporation 1996 paper</a><a href="https://oreil.ly/6R6hx" class="s46" target="_blank"> </a><a href="https://oreil.ly/6R6hx" class="s47" target="_blank">“Tribes</a><a href="https://oreil.ly/6R6hx" class="s46" target="_blank">,</a><a href="https://oreil.ly/6R6hx" class="s47" target="_blank"> Institutions, Markets, Networks”</a><a href="https://oreil.ly/6R6hx" class="s46" target="_blank"> </a><a href="https://oreil.ly/5T-ZB" class="s68" target="_blank">and John Robb’s</a><a href="https://oreil.ly/5T-ZB" class="s46" target="_blank"> </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 9pt;">commentary</span><a href="https://oreil.ly/6R6hx" class="s46" target="_blank"> </a><a href="https://oreil.ly/6R6hx" class="s68" target="_blank">on it.</a></p></li></ol><p class="s21" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark290">Chapter 8. Privacy</a><a name="bookmark291">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="624" height="1" alt="image" src="Image_083.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">“You have zero privacy anyway. Get over it.”</p><p class="s59" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark382" class="s33" name="bookmark292">These famous words were uttered by Scott McNealy, then CEO of Sun Microsystems, in 1999.</a><span style=" color: #8E0011; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; vertical-align: 4pt;">1</span> <span class="p">Despite McNealy’s brutal pronouncement, privacy is still very much something identity professionals, product managers, architects, developers, company officers, and many others need to worry about.</span><a name="bookmark293">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Privacy is the place in identity where technology, policy, and the law meet. For example, in the early 2000s, General Motors set out to create a company-wide telephone directory, something companies have been doing for a hundred years, and put it online. It took <i>two years</i>. GM’s hang- up was not technical but legal: GM has employees in many countries, each with its own privacy laws, some much stricter than those of the United States. Privacy turned a seemingly simple project into a two-year ordeal.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">More and more organizations are appointing chief privacy officers, high-level officers who ensure that data about people is protected or (to take the cynical view) at least reduce the risk of being fined or sued over it. Privacy is a big deal. People believe that <i>their </i>identity data should be private. They don’t necessarily believe that everyone else’s data should be private, but they want to protect their own information.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">What Is Privacy?</p><p class="s55" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/b8c1Z" class="s33" target="_blank" name="bookmark294">Ask 10 people what privacy is and you’ll likely get 12 different answers. People’s feelings about privacy depend on their context and experience. Long before computers existed, people cared about privacy and debated it in terms of government intrusion: in 1890, future US Supreme Court justice Louis Brandeis </a><a href="https://oreil.ly/b8c1Z" class="a" target="_blank">defined it</a> <span style=" color: #000;">as “the right to be left alone.”</span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The march of technological progress has made people more aware of privacy and presented new challenges. Today, private companies probably have much more data about you than your government does. Platforms are valued based on how well they display ads to their users, leading to widespread surveillance—usually without users knowing the extent or consequences.</p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/ED69B" class="s33" target="_blank">This discussion requires a clear definition of privacy. The International Association of Privacy Professionals (IAPP) </a><a href="https://oreil.ly/ED69B" class="a" target="_blank">defines</a> <span style=" color: #000;">four classes of privacy:</span></p><p class="s35" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Bodily privacy</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a name="bookmark295">The protection of a person’s physical being and any invasion thereof. This includes practices like genetic testing, drug testing, or body cavity searches.</a></p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Communications privacy</p><p style="padding-top: 3pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">The protection of the means of correspondence, including postal mail, telephone conversations, electronic mail, and other forms of communication.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Information privacy</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a name="bookmark296">The claim of individuals, groups, or organizations to determine when, how, and to what extent information about them is communicated to others.</a></p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Territorial privacy</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a name="bookmark297">Placing limitations on the ability of others to intrude into an individual’s environment...including workplaces, vehicles, and public spaces. Intrusions of territorial privacy can include video surveillance or ID checks.</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">While bodily and territorial privacy can be issues online, communications and information privacy are the ones most likely to have a digital identity component. To begin a discussion of online privacy, I first need to be specific about what I mean by “online conversations.”</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark298">Each online interaction consists of packets of data flowing between parties. For our purposes, consider this exchange of packets a </a><i>conversation</i>. Even a simple Internet Control Message Protocol (ICMP) <span class="s70">echo </span>request packet and response constitutes a conversation as I’m defining it<a name="bookmark299">&zwnj;</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 13pt;text-align: left;">—the message needn’t be meaningful to humans.</p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: justify;"><a name="bookmark300">Conversations have content and </a><i>metadata</i>—or information about the conversation. In an ICMP <span class="s70">echo</span>, there’s <i>only </i><a href="#bookmark383" class="s33">metadata—the TCP and ICMP headers,</a><a href="#bookmark383" class="s42">2</a><span class="s59"> </span>which include information like the source and destination IP addresses, TTL (time to live), type of message, checksums, and so on. In a more complex protocol, say SMTP for email, there is content—the message—in addition to metadata.<a name="bookmark301">&zwnj;</a><a name="bookmark302">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: justify;">Communications Privacy and Confidentiality</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark303">Communications privacy </a><span class="p">is concerned with metadata; </span>confidentiality <span class="p">is concerned with content. Put another way: for a conversation to be private, only the parties to the conversation should know who the other participants are or any other metadata about the conversation. This distinction between privacy and confidentiality isn’t often made in casual conversation, where people often say they want privacy when they really mean confidentiality.</span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Defined in this way, online privacy might appear impossible. After all, the internet works by passing packets from router to router, all of which can see the source IP address and must know the destination IP address. Consequently, at the packet level, there’s no online privacy. But the bigger picture is more nuanced.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;"><a href="#bookmark393" class="s33" name="bookmark304">Consider the use of Transport Layer Security (TLS) to create an encrypted web channel between the browser and the server. (I’ll go into detail about encryption in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 9</span>.) At the packet level, the routers <i>will know </i>(and the operators of the routers <i>can know</i>) the IP addresses of the</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">encrypted packets going back and forth. If a third party can correlate those IP addresses with the actual participants, then the conversation isn’t private. That may or may not matter.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://uvu.edu/equityandtitleix" class="s33" target="_blank">Beyond the host name and information needed to set up the TLS connection, all the rest of the headers are encrypted. This means other metadata in the same conversation—the headers—is private, including cookies and the URL path. Someone eavesdropping on the conversation could find out the server name, but not the specific place on the site to which the browser connected. For example, suppose Alice visits Utah Valley University’s Title IX office (where sexual misconduct, discrimination, harassment, and retaliation are reported) by pointing her browser at </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: italic; font-weight: normal; text-decoration: underline; font-size: 12pt;">uvu.edu/equityandtitleix</span><a href="https://uvu.edu/equityandtitleix/" class="s33" target="_blank">. If Alice uses a TLS connection, an eavesdropper could learn that Alice connected to Utah Valley University, but not that she connected to UVU’s Title IX site, because the URL’s path (</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: italic; font-weight: normal; text-decoration: underline; font-size: 12pt;">/equityandtitleix</span>) is encrypted.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="http://uvu.edu/" class="s33" target="_blank">Extending this example, you can easily see the difference between privacy and confidentiality. If the Title IX office were located at a subdomain of </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: italic; font-weight: normal; text-decoration: underline; font-size: 12pt;">uvu.edu</span><a href="http://titleix.uvu.edu/" class="s33" target="_blank">, say </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: italic; font-weight: normal; text-decoration: underline; font-size: 12pt;">titleix.uvu.edu</span>, then an eavesdropper <i>would </i>be able to tell that Alice had connected to the Title IX website, even if the conversation were protected by a TLS connection. The content that was sent to Alice and that she sent back would be <i>confidential</i>, but important metadata showing that Alice connected to the Title IX office would <i>not be private</i>.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark305">This example introduces another important term to this discussion: </a><i>authenticity</i><a href="http://uvu.edu/" class="s33" target="_blank">. If Alice goes to </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: italic; font-weight: normal; text-decoration: underline; font-size: 12pt;">uvu.edu</span><span class="s34"> </span>instead of <i>titleix.uvu.edu</i><a href="http://uvu.edu/" class="s33" target="_blank">, then an eavesdropper cannot easily establish the authenticity of who Alice is speaking to at UVU—there are too many possibilities. Depending on how easy it is to correlate Alice’s IP address with Alice, an eavesdropper might not be able to reliably authenticate Alice either. So, while Alice’s conversation with the Title IX office through </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: italic; font-weight: normal; text-decoration: underline; font-size: 12pt;">uvu.edu</span><span class="s34"> </span>is not <i>absolutely private</i>, it is <i>functionally private </i>because you can’t easily authenticate the parties to the conversation from the metadata alone.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Information Privacy</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark306">When Alice connects with the Title IX office, she might transmit data by filling out forms or even just by authenticating, allowing the site to identify Alice and correlate other information with her. All of this is done inside the confidential channel provided by the TLS connection, but Alice will still be concerned about the privacy of the information she’s communicated.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Information privacy quickly gets out of the technical realm and into policy. How will Alice’s information be handled? Who will see it? Will it be shared? With whom and under what conditions? These are all policy questions that affect the privacy of the information that Alice willingly shared. Information privacy is generally about who controls disclosure.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark307">Communications privacy often involves the involuntary collection of metadata—</a><i>surveillance</i>. Information privacy, by contrast, usually involves policies and practices for handling data that has been voluntarily provided. Of course, there are places where these two overlap. Data created from metadata becomes <i>personally identifying information </i>(PII), subject to privacy concerns that might be addressed by policy or subject to regulatory control. Still, the distinction between communications and information privacy is useful.<a name="bookmark308">&zwnj;</a></p><p class="s61" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Transactional Privacy</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark309">The intersection of communications and information privacy is sometimes called </a><i>transactional </i>or <i>social privacy</i><a href="#bookmark384" class="s33">.</a><a href="#bookmark384" class="s42">3</a><span class="s59"> </span>Transactional privacy is worth exploring as a separate category because it is always evaluated in a specific context—for example, purchasing a book at Amazon. Thus, it speaks to people’s real concerns and their willingness to trade off privacy for a perceived benefit in a specific transaction. Transactional privacy concerns are often more transient than people’s general concerns about privacy.<a name="bookmark310">&zwnj;</a><a name="bookmark311">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The modern web is replete with transactions that involve both metadata and content data. The risks of this data being used in ways that erode individual privacy are great. And because the mechanisms are obscure—even to web professionals—people can’t make good privacy decisions about the transactions they engage in. Transactional privacy is consequently an important lens for evaluating people’s privacy rights and the ways technology, policy, regulation, and the law can protect them.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">With privacy, we rarely deal with absolutes. You could achieve absolute digital privacy by simply never using the internet, but that also means being absolutely cut off from online interaction. Consequently, privacy is a spectrum, and each of us must choose where we should be on that spectrum. I’ll discuss some of the trade-offs later in this chapter.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Correlation</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark312">In the previous section, I observed that privacy is reduced if the IP addresses can be correlated with one or both parties in a conversation. This is not at all far-fetched: my home IP address has been the same for years, even though technically it is dynamically assigned. My internet service provider (ISP) pins it for convenience. As a result, anyone I communicate with on the internet can record my IP address. But what can they do with it?</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">You probably know that you can look up an IP address and find out which ISP controls the block of addresses it falls within. The ISP is unlikely to give out information such as which customer is assigned a specific IP address without a court order. But that doesn’t stop companies from using it to identify you.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">For example, Amazon knows my name, address, and other information when I’m logged in because I gave it to them. They also can see my IP address and connect the two, especially if it rarely changes. As a result, even if I’m not logged in, they could use my IP address to know, with reasonable certainty, who I am. They wouldn’t let me make purchases based on that; IP addresses are not reliable enough identifiers. But they could, for example, use it to continue to show me products they think I might buy.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Amazon might not sell the information that Phil Windley uses a specific IP address to other companies, but many companies will, especially ad networks. As a result, my name, address, and other information are undoubtedly correlated with my IP address in numerous company’s databases. Correlation allows you to enrich data by linking data sets together.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">People frequently share data with one party and other data with another, naively thinking that the</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">two data sets cannot be correlated. But most data we share contains good, reliable correlators like email addresses or phone numbers. If you use the same email address at different sites or routinely disclose your phone number, data brokers can use these correlating identifiers to link other data about you from several otherwise independent records.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Privacy, Authenticity, and Confidentiality</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark313">Earlier in this chapter, I used the words </a><i>authenticity </i>and <i>confidentiality</i>. <i>Authenticity </i>allows parties to a conversation to know to whom they are talking. <i>Confidentiality </i><a href="https://oreil.ly/LLnJb" class="s33" target="_blank">ensures that the content of the conversation is protected from others. Privacy, authenticity, and confidentiality create a </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">tradespace</span><a href="#bookmark385" class="s33">, because you can’t achieve all three at the same time.</a><a href="#bookmark385" class="s42">4</a><span class="s59"> </span>Since confidentiality is easily achieved through encryption, we’re almost always trading off privacy and authenticity.<a name="bookmark314">&zwnj;</a><a name="bookmark315">&zwnj;</a></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 8-1</span> <span style=" color: #000;">illustrates these trade-offs.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 18pt;text-indent: 0pt;text-align: left;"><span><img width="589" height="352" alt="image" src="Image_084.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark316">Figure 8-1. Privacy, authenticity, and confidentiality must be traded against each other</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Authenticity is difficult to achieve in concert with privacy because it affects the metadata of a conversation. Authenticity often requires others besides the parties to a conversation potentially knowing who else is participating—that is, it requires nonrepudiation. Specifically, if Alice and Bob are communicating, not only does Alice need to know she’s talking to Bob, she might also need the ability to prove to others that she and Bob were communicating.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark317">As an example, modern banking laws include provisions known as Know Your Customer (KYC) and Anti-Money Laundering (AML). KYC requires that banks be able to identify the parties to transactions. That’s why, when you open a bank account, they ask for numerous identity documents. The purpose is to enable law enforcement to determine the actors behind transactions</a><a name="bookmark318">&zwnj;</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;"><a href="#bookmark386" class="s33" name="bookmark319">deemed illegal (hopefully with a warrant). So, banking transactions are strong on authenticity but weak on privacy.</a><a href="#bookmark386" class="s42">5</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark192" class="s33">Authenticity is another way of classifying digital relationships. As we discussed in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 5</span>, many relationships are (or could be) ephemeral, relying more on <i>what </i>you are than <i>who </i>you are. Recall the example of a movie ticket that doesn’t identify who you are but does identify what you are: one of <i>N </i>people allowed to occupy a seat in a specific theater at a specific time. You establish an ephemeral relationship with the ticket taker, they determine you have a valid ticket, and you’re admitted to the theater. This relationship, unless the ticket taker happens to know you, is strong on privacy but weak on authenticity, and it doesn’t need much confidentiality either.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark320">A credit card transaction is another interesting case that shows the complicated nature of privacy and authenticity. You have two relationships here: one with the merchant and another with your bank. To the merchant, a credit card says something about </a><i>what </i>you are (someone with sufficient credit to make a purchase) rather than <i>who </i><a href="#bookmark387" class="s33">you are—it’s strong on privacy, relatively weak on authenticity.</a><a href="#bookmark387" class="s42">6</a><span class="s59"> </span>To be sure, the merchant does have a permanent, correlating identifier for you (the card number) but is unlikely to be asked to use it outside the transaction.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Because of KYC, however, you are well known to your bank, and the rules of the credit card network ensure that you could be identified by transaction for things like chargebacks and requests from law enforcement. So, this relationship has strong authenticity but weaker privacy guarantees.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark321">The trade-off between privacy and authenticity is informed by the </a><i>law of justifiable parties </i><a href="#bookmark131" class="s33">(see </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 4</span>), which says disclosures should be made only to entities with a need to know.</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Justifiable parties doesn’t say everything should be maximally private, but it does say that we need to carefully consider our justification for increasing authenticity at the expense of privacy. Too often, digital systems opt for knowing <i>who </i>when they could get by with <i>what</i>. In the language I’m developing here: they create authenticated, permanent relationships at the expense of privacy, when they could use pseudonymous, ephemeral relationships and preserve privacy.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark322">Trust is often given as the reason for trading privacy for authenticity—but as the previous chapter discussed, this is often the result of a mistaken understanding of trust. What many interactions really need is confidence in the data being exchanged. As an example, consider how a bar ensures that a patron is old enough to drink. The bar could create a registry and have everyone who wants to drink register by providing several identifying documents, including birth date. Every time you order, you’d authenticate, proving you’re the person who established the account and allowing the bar to prove who ordered what and when. This system would rely on </a><i>who </i>you are.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">But that isn’t how bars do it. Instead, your relationship with the bar is ephemeral. To prove you’re old enough to drink, you show the bartender or server an ID card that includes your birthday. They don’t record any of the information on the ID card; they just use the birthday to establish <i>what </i>you are: a person old enough to drink. This system favors privacy over authenticity.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">The bar use case doesn’t require trust (which is, remember, the willingness to rely on someone</p><p class="s59" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark388" class="s33" name="bookmark323">else to perform actions on the trustor’s behalf) in the ID card holder.</a><a href="#bookmark388" class="s42">7</a> <span class="p">But it does require confidence in the data. The bar needs to be confident that the person drinking is over the legal age. Both systems provide that confidence, but one protects privacy, and the other does not.</span></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;">Recognizing that we need confidence more than trust allows us to reduce the use of authenticity for better privacy. In contrast, systems that need trust generally need more authenticity and thus have less privacy.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark324">In general, a digital relationship needs authenticity when there is a need for legal recourse and accountability. Different applications will judge the risk inherent in a relationship differently and hence have different trade-offs between privacy and authenticity. I say this with some reticence since I know that, in many organizations, the risk managers are incredibly influential with business leaders and will push for accountability where it might not really be needed, just to be safe. I hope identity professionals can provide cover for privacy and arguments for why confidence is often all that is needed.</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">Functional Privacy</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark325">Pitting privacy against accountability might feel like a Hobson’s choice, where good privacy is impossible if you want to prevent fraud. Fortunately, the outcome is not nearly as bleak as it might appear at first.</a></p><p class="s59" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark389" class="s33" name="bookmark326">I’ve shown that authenticity is often driven by a need for accountability.</a><a href="#bookmark389" class="s42">8</a> <a href="#bookmark390" class="s33">Understanding accountability helps navigate the spectrum of choices between privacy and authenticity. KYC and AML regulations require that banks be able to identify the parties to transactions. This is a bias toward authenticity at the cost of privacy. (There are nuances; the bank collects this data but doesn’t need to use it unless there’s a question of fraud or money laundering.)</a><a href="#bookmark390" class="s42">9</a> <span class="p">In a technical sense, the nonrepudiability of bank transactions makes them less private, but there aren’t a lot of people who are concerned about the privacy of their banking transactions. The authenticity associated with those transactions is provisional or latent. Transactions are revealed to outside parties only when legally required, and most people don’t worry about that. From that perspective, transactions with provisional authenticity are private enough. I call this </span><span class="s35">functional privacy</span><span class="p">.</span><a name="bookmark327">&zwnj;</a><a name="bookmark328">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">I discussed movie tickets as an example of an ephemeral transaction that doesn’t need authenticity to function and thus is private. But consider another example where an ephemeral, nonauthenticated transaction is not good enough. A while back our family went to the ice-skating rink. We bought tickets to get in, just like at the movies. But each of us also signed a liability waiver, which the skating rink required to reduce its risk. That waiver meant that the transaction was much less private. Unlike the bank, where I feel confident my KYC data is not being shared, I don’t know what the skating rink is doing with my data.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">This is a situation where minimal disclosure doesn’t help me. I’ve given away the data needed to hold me accountable in the case of an accident. No promise was made to me about what the rink might do with it. The only way to hold me accountable and protect my privacy is for the authenticity of the transaction to be made <i>provisional through agreement</i>. If the skating rink</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">were to make strong promises that the data would be used only if I had an accident and threatened to sue, then even though I’m identified to the rink, my privacy is protected except in clearly defined circumstances.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark393" class="s33">Online, the rink could make this provisional authenticity even more trustworthy using cryptographic commitments and key escrow (see </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 9</span>). The idea is that any data about me that’s needed to enforce the waiver would be hidden from the rink, unchangeable by me, and revealed only if I threaten to sue. This adds a technical element and allows me to exchange my need to trust the rink for trusting the escrow agent, which might be more manageable than trusting every business I interact with. Escrow services could be regulated as fiduciaries to increase trust.</p><p class="s59" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark391" class="s33" name="bookmark329">Provisional authenticity works when the data is needed only in a low-probability event (such as a personal injury lawsuit). Often, however, companies actively use data to provide utility in the relationship. For example, I provide my address to Amazon so they can ship me things. In these cases, confidentiality agreements (essentially nondisclosure agreements, or NDAs) are the answer to providing functional privacy while also providing the authenticity needed for accountability and utility. These agreements can’t be the traditional contracts of adhesion where, rather than promising to protect confidentiality, companies force people to consent to surveillance.</a><a href="#bookmark391" class="s42">10</a> <span class="p">Rather, agreements should be written to ensure that data is always shared with the same promise of confidentiality that existed in the root agreement.</span><a name="bookmark330">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Provisional authenticity and data NDAs are important tools for protecting functional privacy without giving up accountability and relationship utility. Functional privacy and accountability are both necessary for creating digital systems that respect and protect people.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Privacy by Design</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark331">Privacy by Design </a><a href="https://oreil.ly/9p_pf" class="s33" target="_blank">(PbD) is set of principles intended to guide architects, product managers, and developers. The principles were </a><a href="https://oreil.ly/9p_pf" class="a" target="_blank">published in 2009 as a framework</a><span class="s55"> </span><span class="p">by Ann Cavoukian, who was then the Information and Privacy Commissioner for the Province of Ontario, Canada. Since their publication, the principles have been adopted by organizations like the International Assembly of Privacy Commissioners and Data Protection Authorities and the IAPP. The European Union’s General Data Protection Regulation (GDPR) also incorporates PbD.</span><a name="bookmark332">&zwnj;</a><a name="bookmark333">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Despite some criticism that they are too vague to offer solid design advice, the principles are important high-level guides for identity professionals. They apply to a wide variety of design problems, from individual product features to entire ecosystems. Architects should contextualize them for each use case to develop project-specific guidance.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The sections below discuss each of the seven principles in turn, quoting the text of the PbD framework in italics, followed by a discussion.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Principle 1: Proactive Not Reactive; Preventive Not Remedial</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">The Privacy by Design (PbD) approach is characterized by proactive rather than reactive</p><p class="s35" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">measures. It anticipates and prevents privacy invasive events before they happen. PbD does not wait for privacy risks to materialize, nor does it offer remedies for resolving privacy infractions once they have occurred—it aims to prevent them from occurring. In short, Privacy by Design comes before-the-fact, not after.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;"><a name="bookmark334">The overarching goal of PbD is to make designers think about privacy ahead of time, building it into the technology and workflow of a system or product instead of trying to layer it on after the fact. The </a><i>proactive </i>principle states this clearly: think about privacy up front.<a name="bookmark335">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;">This principle might be applied to incorporate privacy-related user stories in project requirements. For example:</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_085.png"/></span></p><p style="padding-top: 8pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">As a shopper, I want to be able to control data sharing from the app so that I can decide who sees my data.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_086.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">As a site member, I want to limit which other members can view my posts so that I can protect myself from abusive comments.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_087.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">As an author, I want to be able to delete things I’ve written so that I can control my body of work.</p><p style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">These examples show how the general <i>proactive </i>principle can be used to create product requirements that increase the product’s respect for privacy. User stories help identify the various actors and what actions they can take. By analyzing those interactions, the design team can identify risks to privacy, as well as trade-offs where authenticity is being correctly or incorrectly required.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">PbD also implies the need to think through the data being collected; assess the privacy implications and burdens on people, partners, and the organization itself; and create policies and practices that guide architecture and system operations. I’ll discuss these more in the <i>visibility </i>principle below.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: justify;">Principle 2: Privacy as the Default Setting</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">We can all be certain of one thing—the default rules! Privacy by Design seeks to deliver the maximum degree of privacy by ensuring that personal data are automatically protected in any given IT system or business practice. If an individual does nothing, their privacy still remains intact. No action is required on the part of the individual to protect their privacy—it is built into the system, by default.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark336">People say they value privacy, but it’s hard to think about in the middle of an urgent transaction. Every morning my newsfeed has at least one article about how to change the settings in an app or on a device to protect privacy. Even accounting for the clickbait scaremongering of these headlines, it’s nearly impossible to determine how those apps’ and devices’ many settings impact privacy without a detailed understanding of their design.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The <i>default </i>principle flips this idea, telling designers that <i>they </i>are responsible for understanding the privacy implications of settings (alone and in combination) and defaulting to those that best</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">protect privacy.</p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/NRz-d" class="s33" target="_blank">The problem with this principle is that many apps, if they were private by default, couldn’t make money. Apple recently added a feature to iOS that tells users whether an app is tracking them and gives them the option of allowing that to continue or not. As I write this, Facebook had projected in its 2021 fourth-quarter earnings call that this change would cost the company $10 billion in 2022. When the stock markets opened the next morning, its stock dropped 25%, </a><a href="https://oreil.ly/NRz-d" class="a" target="_blank">wiping</a><a href="https://oreil.ly/NRz-d" class="s36" target="_blank"> </a><a href="https://oreil.ly/NRz-d" class="a" target="_blank">out $200 billion of Facebook’s value</a><a href="https://oreil.ly/NRz-d" class="s33" target="_blank">.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;">This illustrates that PbD goes beyond just product design. The <i>default </i>principle applies as much to an app’s business model as it does to the way its settings are configured. If you’re committed to privacy, you may have to forgo some business models or decline to work for companies with business models that don’t respect it.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: justify;">Principle 3: Privacy Embedded into Design</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Privacy by Design is embedded into the design and architecture of IT systems and business practices. It is not bolted on as an add-on, after the fact. The result is that privacy becomes an essential component of the core functionality being delivered. Privacy is integral to the system, without diminishing functionality.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark337">Sometimes an app or device is poorly designed from a privacy perspective and then patched with policy to fix the problem after the fact—for example, building an app that overcollects data, but then making a policy restricting how it can be used. While policy is important, it shouldn’t be a substitute for good design.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Embedding privacy into a system means integrating privacy with other parts and features of the system in a holistic way. This allows designers to consider broader contexts and gives them more choices. For example, an app might use several APIs or authentication partners. By thinking about them at design time, designers can consider which trade-offs better protect privacy. Such designs should be auditable against standards and frameworks, including internal standards and principles.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">After designers assess the trade-off between privacy and authenticity and make choices appropriate to the business model and architecture, the <i>embedded </i>principle ensures that user mistakes or administrator error or misconduct can’t easily degrade those decisions.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: justify;">Principle 4: Full Functionality—Positive-Sum, Not Zero-Sum</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Privacy by Design seeks to accommodate all legitimate interests and objectives in a positive-sum “win-win” manner, not through a dated, zero-sum approach, where unnecessary trade-offs are made. Privacy by Design avoids the pretense of false dichotomies, such as privacy vs. security, demonstrating that it is possible, and far more desirable, to have both.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark338">Good design often requires achieving some goals at the cost of not achieving others. The goal of design is to make the right trade-offs based on all the objectives that a product, service, device, or system must achieve.</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark339">The very real trade-offs between privacy and authenticity can’t be ignored. Often, the need for authenticity is voiced as a security requirement. Designers should carefully vet those requirements and accommodate any legitimate need for authenticity. As I discussed earlier, there are methods you can use to achieve accountability and utility requirements while offering more privacy than a “security-first” stance would allow.</a></p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1024" class="s33">In </a><a href="#bookmark1024" class="a">Chapter 16</a> <span style=" color: #000;">I’ll discuss identity architectures that employ cryptography and other techniques to provide positive-sum designs that protect privacy, achieve accountability, and ensure full functionality.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Principle 5: End-to-End Security—Full Lifecycle Protection</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Privacy by Design, having been embedded into the system prior to the first element of information being collected, extends securely throughout the entire lifecycle of the data involved</p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">—strong security measures are essential to privacy, from start to finish. This ensures that all data are securely retained, and then securely destroyed at the end of the process, in a timely fashion. Thus, Privacy by Design ensures cradle to grave, secure lifecycle management of information, end-to-end<span class="p">.</span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark340">The </a><i>security </i>principle emphasizes the need for continuous attention to privacy throughout a product’s or system’s lifecycle. This means evaluating security over and over again and continuing to consider privacy as you update or maintain products and systems.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark237" class="s33">As you learned in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 6</span>, relationships, which are the heart of many systems, also have a lifecycle. Considering the security of relationship records is vital to protecting the privacy of participants in that relationship. The security principle tells designers to consider each phase of the lifecycle as they assess the security needs of the data their product collects, infers, and uses. Ultimately, when the relationship is terminated, that data must be treated securely as well. In an ideal situation, it can be simply deleted, but sometimes records retention laws or the demands of the business don’t allow that. In those cases, secure data storage, combined with a good inventory of what is being stored and its retention requirements, is an important part of ensuring privacy.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Principle 6: Visibility and Transparency—Keep It Open</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Privacy by Design seeks to assure all stakeholders that whatever the business practice or technology involved, it is in fact operating according to the stated promises and objectives, subject to independent verification. Its component parts and operations remain visible and transparent, to both users and providers alike. Remember, trust but verify.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark341">A big part of PbD is ensuring that PII data is collected, stored, and managed according to reasoned policies and practices. </a><i>Visibility and transparency </i>are important in conforming to the <i>law of user control and consent</i>. At the start of any project involving PII, you should ask questions like:<a name="bookmark342">&zwnj;</a><a name="bookmark343">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_088.png"/></span></p><p style="padding-top: 8pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">What kinds of identity data are we collecting?</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_089.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_090.png"/></span></p><p style="padding-top: 3pt;padding-left: 29pt;text-indent: 0pt;line-height: 165%;text-align: left;">How is this identity data collected? Why was the identity data collected?</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_091.png"/></span></p><p style="padding-left: 29pt;text-indent: 0pt;text-align: left;">Were special conditions on its use established? Were there agreements?</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_092.png"/></span></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Were affected individuals informed in a clear and easy-to-understand way about the collection and the policies and practices governing its use?</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_093.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_094.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 165%;text-align: left;">Who is the data owner? Who is the custodian?</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_095.png"/></span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Who uses the data? Why and how do they usually access it (remotely, via the web, from home)?</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_096.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_097.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 165%;text-align: left;">Where and how is it stored? Is it stored on premises or in the cloud? How long should the data be kept? Is it routinely kept after that?</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_098.png"/></span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Is any of the data stored on devices that are routinely transported off-site, such as laptops or smartphones?</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_099.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">What information is transferred to third parties? Why is it transferred? Are the third parties held accountable for the promises our organization made about the data?</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_100.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_101.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 165%;text-align: left;">Are there backups? If so, answer these same questions about the backups. Are there access logs for the data?</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_102.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_103.png"/></span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 165%;text-align: left;">Where are the logs stored? Are the logs protected?</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_104.png"/></span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">What other security measures (firewalls, intrusion detection systems, and so on) are used to protect the data?</p><p style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark344">The answers to these questions should be codified in a framework containing promises, objectives, guidelines, best practices, and policies that can guide development and maintenance of the system and its data. But that’s just the start.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Many companies view their privacy framework as something they must do to keep their customers from being angry with them, because their industry demands it, or because someone convinced the CEO or CIO that they’d be liable if the company didn’t have one. All of these may be true statements, but they’re ancillary to the real reason to have a privacy framework: it provides a basis for the terms of service you’re offering for whatever benefit the customer perceives.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">For example, consider an online merchant that collects identity information from customers at various stages in a transaction, in return for which the customer receives some benefit. As a start, whenever a customer visits, the service installs a cookie on their browser so that the shopping cart works. The product managers realize that they can also use the cookie to recognize the</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark345">customer the next time they return and even to track their shopping habits. When the customer buys something, the service collects PII such as their name, email, address, and credit card number, and can link the cookie to a customer profile. What should this online merchant’s privacy policy say?</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">First, tell the truth. Tell customers what data you collect, why you collect it, and what you do with it. Second, be specific. In this example, the merchant might say, in part:</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_105.png"/></span></p><p style="padding-top: 8pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">We use cookies. Our shopping cart will not work without them.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_106.png"/></span></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">When you make a purchase, your personal information is stored in our system only if you give us permission by clicking the “Save my information” box on the checkout form. When you do this, we can serve you better by automatically filling out some forms for you when you shop.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_107.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">We use cookies to track our customers’ shopping habits. We use this data to make our search tool better and to offer a better product selection. We may release information about our customers’ shopping habits to partners and suppliers in aggregate, but your individual shopping habits will be released to a third party only with your specific permission, obtained in advance.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_108.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Advertisements appearing on our system may use third-party ad response-tracking systems that use cookies to track ad click-through and to target those ads to specific customers.</p><p style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">A real privacy policy would be longer, and your lawyers will probably want to fill it with lots of other information. While it’s a good idea to involve lawyers in the process, since it’s ultimately a term sheet between you and your customers, make sure that customers can easily read and understand your privacy policy, or it won’t do what you need it to do: inform them in clear language of the terms of your PII collection. <i>If it’s not clear, consent is meaningless.</i></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark346">Your goal is to create accountability around how PII is used. Accountability is a product of the following factors:</a><a name="bookmark347">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_109.png"/></span></p><p style="padding-top: 8pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">Creating a privacy framework.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_110.png"/></span></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Assigning the parties responsible for implementing and complying with each part of the framework.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_111.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Creating open practices and processes that ensure transparency within and, where appropriate, outside the organization. You should be especially open with individuals about whom you’ve collected PII. Publish these practices and processes so customers can easily discover them.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_112.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Audit (monitor, evaluate, and verify) to ensure compliance and provide redress mechanisms, both to people inside your organization and those outside who may be affected by noncompliance. Redress should include a means of appeal for adverse decisions.</p><p style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">On the subject of openness, you should also consider what parts of your codebase might be made</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">open source or drawn from open source repositories to further enhance transparency about your practices.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark348">Principle 7: Respect for User Privacy—Keep It User-Centric</a></p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Above all, Privacy by Design requires architects and operators to keep the interests of the individual uppermost by offering such measures as strong privacy defaults, appropriate notice, and empowering user-friendly options. Keep it user-centric.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark349">Privacy concerns </a><i>personally </i>identifying information. I emphasize <i>personally </i>because too often it’s easy to lose sight of the individual as we go about designing systems and products. One of the reasons I like including privacy in user stories as I gather requirements is because this ensures that people are central to privacy requirements.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The best PbD results occur when individuals are empowered to be active participants in privacy. There are three important practices you can implement to help with this effort:</p><p class="s35" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Consent</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a name="bookmark350">Inform individuals in clear and easy-to-understand ways about how their PII will be used and offer them the opportunity for meaningful consent. (</a><i>Meaningful </i>implies that the choices aren’t “give us all your data” or “don’t do business with us.”)</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Access</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a name="bookmark351">Individuals should have access to their PII and the opportunity to amend or delete it as needed.</a></p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Accountability</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a name="bookmark352">The organization should offer individuals the opportunity to learn about its policies and practices, review its compliance with its own policies and with relevant regulations, interact with the organization to bring problems to light, and appeal adverse decisions.</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;"><a href="#bookmark875" class="a" name="bookmark353">Chapter 14</a> <a href="#bookmark1160" class="s33">through </a><a href="#bookmark1160" class="a">Chapter 19</a> <span style=" color: #000;">will discuss technologies and architectures that go beyond mere user-centricity to self-sovereignty, where people are given tools that provide more control over their PII and how it’s handled.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">Privacy Regulations</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark354">PbD demonstrates the need for balance between technical and policy protections for PII. Technology alone cannot protect privacy, but policy without technical help leaves too much room for abuse that can be difficult to police. Beyond policy, regulation ensures consistent privacy protection across organizations within a jurisdiction.</a></p><p class="s61" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">General Data Protection Regulation</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark355">Adopted by the European Parliament in April 2016, GDPR is the big gun: the world’s most comprehensive and far-reaching privacy regulation. Even though it’s a European Union (EU) regulation, it applies to any company processing the data of EU residents (not just citizens), even if the data processing happens outside the EU. GDPR authorizes the European Data Protection Board to levy fines up to €20 million, or 4% of an organization’s worldwide annual revenue— whichever is higher. As a result, GDPR got the attention of most companies around the world when it went into effect in May 2018.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark356">GDPR is meant to ensure that products and services build in safeguards to protect data by design. It obliges organizations to protect data related to people. This focus on business is built into its language, in which </a><i>data controllers </i>and <i>data processors </i>(always businesses) are responsible for protecting data about a <i>data subject </i>(a person). GDPR speaks of <i>personal data </i>rather than <i>personally identifying information</i>, a distinction that broadens its applicability.<a name="bookmark357">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_113.png"/></span></p><p style="padding-top: 5pt;padding-left: 29pt;text-indent: -24pt;line-height: 174%;text-align: left;">By the GDPR definition, <i>personal data </i>includes (but is not limited to): Name</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_114.png"/></span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 13pt;text-align: left;">Home address</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_115.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_116.png"/></span></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 165%;text-align: left;">Identification number (such as a US Social Security or employee number) Email address</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_117.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_118.png"/></span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 165%;text-align: left;">Sensitive data such as criminal, medical, and religious records IP and Media Access Control (MAC) addresses</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_119.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_120.png"/></span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 165%;text-align: left;">Cookies and other correlation identifiers Public keys</p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">These last three are not often considered PII, since they can’t always be used to identify an individual, but GDPR includes them as personal data.</p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/3ThEf" class="a" target="_blank" name="bookmark358">Article 5.1-2</a> <span style=" color: #000;">of GDPR holds data controllers responsible for complying with seven principles for processing personal data:</span></p><p class="s35" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Lawfulness, fairness, and transparency</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Personal data shall be “processed lawfully, fairly and in a transparent manner in relation to the data subject.”</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Purpose limitation</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Personal data shall be “collected for specified, explicit and legitimate purposes” and not further processed in a manner that is incompatible with those purposes.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Data minimization</p><p style="padding-top: 5pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Personal data collection must be “adequate, relevant and limited to what is necessary in relation to the purposes for which they are processed.”</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Accuracy</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">Personal data collection must be “accurate and, where necessary, kept up to date.”</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Storage limitation</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Personal data must be stored “in a form which permits identification of data subjects for no longer than is necessary” for the specified purpose.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Integrity and confidentiality</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Personal data must be “processed in a manner that ensures appropriate security of the personal data, including protection against unauthorised or unlawful processing and against accidental loss, destruction or damage.”</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Accountability</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">The data controller is responsible for, and must be able to demonstrate, GDPR compliance with all these principles.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark359">In addition, GDPR includes specific guidance on data security, when a company is allowed to process data, what constitutes consent, and when a data protection officer must be appointed.</a></p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/HOKC_" class="s33" target="_blank" name="bookmark360">Data protection is a prerequisite to privacy. But GDPR also includes a </a><a href="https://oreil.ly/HOKC_" class="a" target="_blank">set of privacy rights</a> <span style=" color: #000;">for data subjects:</span><a name="bookmark361">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_121.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_122.png"/></span></p><p style="padding-top: 8pt;padding-left: 29pt;text-indent: 0pt;line-height: 165%;text-align: left;">The right to be informed The right of access</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_123.png"/></span></p><p style="padding-left: 29pt;text-indent: 0pt;text-align: left;">The right to rectification</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_124.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_125.png"/></span></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 165%;text-align: left;">The right to erasure (often called “the right to be forgotten”) The right to restrict processing</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_126.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_127.png"/></span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 165%;text-align: left;">The right to data portability The right to object</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_128.png"/></span></p><p style="padding-left: 29pt;text-indent: 0pt;text-align: left;">Rights in relation to automated decision making and profiling</p><p style="padding-top: 10pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark362">As you can see, GDPR is far-reaching and supports several of the Laws of Identity, including </a><i>user control and consent</i>, <i>minimal disclosure</i>, and <i>justifiable parties</i>. Its extent, combined with its ability to levy fines based on where people live rather than where companies are located,<a name="bookmark363">&zwnj;</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">means that it affects and will continue to affect data protection and privacy around the world.</p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark364">Determining how best to comply with GDPR can be difficult. This situation involves two groups of people who don’t often mix: lawyers and technologists. Like PbD, this gets much more difficult if your business model isn’t easily aligned with individual data protection and privacy. But even when it is, the legal requirements will often force changes in your product that don’t necessarily make sense from a product-design or application-engineering standpoint. Beyond the product itself, you will likely have to update or implement new policies, procedures, and processes that not only ensure you comply but allow you to demonstrate your compliance.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">While GDPR is a big step in regulating data protection and privacy and will doubtless force more organizations to think about these important subjects, it does have some limitations. Like any regulation, GDPR cements a particular viewpoint about data protection into place. This can limit future innovation that doesn’t fit the existing model well. For example, GDPR makes the person a mere data subject, and the data subject cannot be the data controller. Because GDPR sees these roles as mutually exclusive, it conflicts with models like self-sovereign identity that see the individual as a controller of personal data. Over time, these conflicts will need to be worked out, but regulations can be difficult and slow to change.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">California Consumer Privacy Act</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark365">The California Consumer Privacy Act (CCPA), which took effect in January 2020, is the first major US privacy legislation enacted in the post-GDPR era. Because California is a large state with the fifth-largest global economy and an outsized presence of high-tech companies, CCPA is poised to have a similarly outsized global influence on data protection and privacy.</a></p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark366" class="s33">Like GDPR, CCPA aims to be a comprehensive privacy regulation granting people broad rights over their personal data. It is sometimes called “California’s GDPR,” but there are significant differences: CCPA focuses on businesses selling PII and requires customers to opt out rather than consent, and its potential fines for violating CCPA are much lower than GDPR’s. </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Table 8-1</span> <span style=" color: #000;">compares the two.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark366">Table 8-1. Comparison of GDPR and CCPA</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><table style="border-collapse:collapse;margin-left:5.0003pt" cellspacing="0"><tr style="height:16pt"><td style="width:61pt;border-top-style:solid;border-top-width:1pt;border-top-color:#9C9C9C;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#9C9C9C"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:133pt;border-top-style:solid;border-top-width:1pt;border-top-color:#9C9C9C;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#9C9C9C"><p class="s71" style="padding-top: 2pt;padding-left: 18pt;text-indent: 0pt;text-align: left;">GDPR</p></td><td style="width:274pt;border-top-style:solid;border-top-width:1pt;border-top-color:#9C9C9C;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#9C9C9C"><p class="s71" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">CCPA</p></td></tr><tr style="height:16pt"><td style="width:61pt;border-top-style:solid;border-top-width:1pt;border-top-color:#9C9C9C;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3"><p class="s72" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Protects</p></td><td style="width:133pt;border-top-style:solid;border-top-width:1pt;border-top-color:#9C9C9C;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3"><p class="s72" style="padding-top: 2pt;padding-left: 18pt;text-indent: 0pt;text-align: left;">Natural persons</p></td><td style="width:274pt;border-top-style:solid;border-top-width:1pt;border-top-color:#9C9C9C;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3"><p class="s72" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Natural persons (“consumers”) who are California residents</p></td></tr><tr style="height:48pt"><td style="width:61pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3" bgcolor="#F0F6FB"><p class="s72" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Rights</p></td><td style="width:133pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3" bgcolor="#F0F6FB"><p class="s72" style="padding-top: 2pt;padding-left: 18pt;padding-right: 2pt;text-indent: 0pt;text-align: left;">Requires consent and notice of the controller, its contact info, and the legitimate interest allowing collection</p></td><td style="width:274pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3" bgcolor="#F0F6FB"><p class="s72" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Requires opt-out and explicit notice of intention to sell data</p></td></tr><tr style="height:38pt"><td style="width:61pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3"><p class="s72" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Applies to</p></td><td style="width:133pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3"><p class="s72" style="padding-top: 2pt;padding-left: 18pt;text-indent: 0pt;text-align: left;">All organizations</p></td><td style="width:274pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3"><p class="s72" style="padding-top: 2pt;padding-left: 3pt;padding-right: 11pt;text-indent: 0pt;text-align: left;">For-profit businesses with annual gross revenue over $25M that process PII for more than 50,000 consumers or that derive more than 50% of annual revenue from selling PII</p></td></tr><tr style="height:38pt"><td style="width:61pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3" bgcolor="#F0F6FB"><p class="s72" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Legal basis</p></td><td style="width:133pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3" bgcolor="#F0F6FB"><p class="s72" style="padding-top: 2pt;padding-left: 18pt;padding-right: 12pt;text-indent: 0pt;text-align: left;">Legal grounds (legitimate interest) required to process data</p></td><td style="width:274pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3" bgcolor="#F0F6FB"><p class="s72" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Does not list positive legal grounds for processing</p></td></tr><tr style="height:13pt"><td style="width:61pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3"><p class="s72" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Scope</p></td><td style="width:133pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3"><p class="s72" style="padding-top: 2pt;padding-left: 18pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Organizations in the EU or</p></td><td style="width:274pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3"><p class="s72" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Organizations doing business in California</p></td></tr></table><table style="border-collapse:collapse;margin-left:5.00032pt" cellspacing="0"><tr style="height:24pt"><td style="width:67pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:127pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3"><p class="s72" style="padding-left: 12pt;padding-right: 5pt;text-indent: 0pt;text-align: left;">doing business with people in the EU</p></td><td style="width:274pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3"><p style="text-indent: 0pt;text-align: left;"><br/></p></td></tr><tr style="height:14pt"><td style="width:67pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3" bgcolor="#F0F6FB"><p class="s72" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;line-height: 10pt;text-align: left;">PII covered</p></td><td style="width:127pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3" bgcolor="#F0F6FB"><p class="s72" style="padding-top: 2pt;padding-left: 12pt;text-indent: 0pt;line-height: 10pt;text-align: left;">All personal data processed by</p></td><td style="width:274pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3" bgcolor="#F0F6FB"><p class="s72" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;line-height: 10pt;text-align: left;">Opt-out for data sold or shared; excludes medical information (including</p></td></tr><tr style="height:11pt"><td style="width:67pt" bgcolor="#F0F6FB"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:127pt" bgcolor="#F0F6FB"><p class="s72" style="padding-left: 12pt;text-indent: 0pt;line-height: 10pt;text-align: left;">the organization</p></td><td style="width:274pt" bgcolor="#F0F6FB"><p class="s72" style="padding-left: 3pt;text-indent: 0pt;line-height: 10pt;text-align: left;">clinical trial data), consumer reporting agencies, public data (lawfully</p></td></tr><tr style="height:14pt"><td style="width:67pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3" bgcolor="#F0F6FB"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:127pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3" bgcolor="#F0F6FB"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:274pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3" bgcolor="#F0F6FB"><p class="s72" style="padding-left: 3pt;text-indent: 0pt;text-align: left;">made available), and data covered by other statutes (such as driver data)</p></td></tr><tr style="height:14pt"><td style="width:67pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3"><p class="s72" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;line-height: 10pt;text-align: left;">Access</p></td><td style="width:127pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3"><p class="s72" style="padding-top: 2pt;padding-left: 12pt;text-indent: 0pt;line-height: 10pt;text-align: left;">Controllers must provide</p></td><td style="width:274pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3"><p class="s72" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;line-height: 10pt;text-align: left;">Applies only to data collected within the prior 12 months; limits access</p></td></tr><tr style="height:11pt"><td style="width:67pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:127pt"><p class="s72" style="padding-left: 12pt;text-indent: 0pt;line-height: 10pt;text-align: left;">access to collected data</p></td><td style="width:274pt"><p class="s72" style="padding-left: 3pt;text-indent: 0pt;line-height: 10pt;text-align: left;">requests to twice annually</p></td></tr><tr style="height:14pt"><td style="width:67pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:127pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3"><p class="s72" style="padding-left: 12pt;text-indent: 0pt;text-align: left;">without undue delay</p></td><td style="width:274pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3"><p style="text-indent: 0pt;text-align: left;"><br/></p></td></tr><tr style="height:14pt"><td style="width:67pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3" bgcolor="#F0F6FB"><p class="s72" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;line-height: 10pt;text-align: left;">Enforcement</p></td><td style="width:127pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3" bgcolor="#F0F6FB"><p class="s72" style="padding-top: 2pt;padding-left: 12pt;text-indent: 0pt;line-height: 10pt;text-align: left;">Up to 4% of global annual</p></td><td style="width:274pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3" bgcolor="#F0F6FB"><p class="s72" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;line-height: 10pt;text-align: left;">Up to $2,500 for each violation and $7,500 for each intentional violation</p></td></tr><tr style="height:11pt"><td style="width:67pt" bgcolor="#F0F6FB"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:127pt" bgcolor="#F0F6FB"><p class="s72" style="padding-left: 12pt;text-indent: 0pt;line-height: 10pt;text-align: left;">turnover or €20 million,</p></td><td style="width:274pt" bgcolor="#F0F6FB"><p style="text-indent: 0pt;text-align: left;"><br/></p></td></tr><tr style="height:14pt"><td style="width:67pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3" bgcolor="#F0F6FB"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:127pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3" bgcolor="#F0F6FB"><p class="s72" style="padding-left: 12pt;text-indent: 0pt;text-align: left;">whichever is higher</p></td><td style="width:274pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3" bgcolor="#F0F6FB"><p style="text-indent: 0pt;text-align: left;"><br/></p></td></tr><tr style="height:14pt"><td style="width:67pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3"><p class="s72" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;line-height: 10pt;text-align: left;">Civil remedies</p></td><td style="width:127pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3"><p class="s72" style="padding-top: 2pt;padding-left: 12pt;text-indent: 0pt;line-height: 10pt;text-align: left;">Any violation can be used as a</p></td><td style="width:274pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3"><p class="s72" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;line-height: 10pt;text-align: left;">Only allowed when nonencrypted PII is accessed by unauthorized entities</p></td></tr><tr style="height:11pt"><td style="width:67pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:127pt"><p class="s72" style="padding-left: 12pt;text-indent: 0pt;line-height: 10pt;text-align: left;">claim for civil remedies; no</p></td><td style="width:274pt"><p class="s72" style="padding-left: 3pt;text-indent: 0pt;line-height: 10pt;text-align: left;">through theft, exfiltration, or disclosure in violation of a business’s</p></td></tr><tr style="height:11pt"><td style="width:67pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:127pt"><p class="s72" style="padding-left: 12pt;text-indent: 0pt;line-height: 10pt;text-align: left;">limit on damages</p></td><td style="width:274pt"><p class="s72" style="padding-left: 3pt;text-indent: 0pt;line-height: 10pt;text-align: left;">security obligations; limited to $100 to $750 per consumer per incident or</p></td></tr><tr style="height:14pt"><td style="width:67pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:127pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:274pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3"><p class="s72" style="padding-left: 3pt;text-indent: 0pt;text-align: left;">actual damages, whichever is greater</p></td></tr></table><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 4pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark366" class="s33">As you can see from </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Table 8-1</span>, CCPA has a narrower scope and much lighter penalties than GDPR. To date, it has had little impact on companies operating in the US, whereas GDPR has had a noticeable impact on ad revenues and by implication surveillance. But despite some important differences—some would say weaknesses—compared to GDPR, CCPA is the most comprehensive privacy legislation in the US. It is the beginning, rather than the end, of privacy legislation in the US; other states are bound to follow.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Other Regulatory Efforts</p><p class="s55" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark368" class="s33" name="bookmark367">Beyond GDPR and CCPA, there are several notable laws and regulations affecting organizations. </a><a href="#bookmark368" class="a">Table 8-2</a> <span style=" color: #000;">shows some of the more prominent US and Canadian laws and regulations concerning privacy.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark368">Table 8-2. Other notable privacy laws and regulations</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="624" height="1" alt="image" src="Image_129.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="624" height="1" alt="image" src="Image_130.png"/></span></p><p class="s73" style="padding-top: 1pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">Law/regulation Description</p><p style="text-indent: 0pt;text-align: left;"><span><img width="624" height="37" alt="image" src="Image_131.png"/></span></p><p class="s45" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Customer Identification Requires financial services organizations in the US to collect and store customer data and verify it Program (Patriot Act) against government-owned lists of known or suspected terrorists.</p><p style="text-indent: 0pt;text-align: left;"/><p class="s45" style="padding-top: 5pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">Canadian Personal Information Protection and Electronic Documents Act</p><p class="s45" style="padding-top: 5pt;padding-left: 7pt;text-indent: 0pt;text-align: left;"><a name="bookmark369">Applies to private-sector organizations across Canada that collect, use, or disclose personal information in the course of a commercial activity. PII can only be used for the purposes for which it was collected. Organizations must obtain consent to use it for another purpose.</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="624" height="51" alt="image" src="Image_132.png"/></span></p><p class="s45" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Gramm-Leach-Bliley Applies to financial services organizations in the US. Requires physical, administrative, and technical Act measures to protect customer data. Data can be reused or disclosed only if the customer specifically</p><p class="s45" style="padding-left: 94pt;text-indent: 0pt;text-align: left;">opts in.</p><p style="text-indent: 0pt;text-align: left;"/><p class="s45" style="padding-top: 2pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">Health Information Portability and Accountability Act (HIPAA)</p><p class="s45" style="padding-top: 2pt;padding-left: 7pt;text-indent: 0pt;text-align: left;"><a name="bookmark370">Applies to any organization that manages health-care data in the US. Establishes a patient’s right to control access to and use of personal health information (PHI). Requires that organizations control and safeguard PHI. Imposes technical standards for access control, auditing, data integrity, and security.</a><a name="bookmark371">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s45" style="padding-top: 2pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">Children’s Online Privacy Protection Act (COPPA)</p><p class="s45" style="padding-top: 2pt;padding-left: 7pt;text-indent: 0pt;text-align: left;"><a name="bookmark372">Applies to PII about children under 13 years of age, including children outside the US. Outlines requirements for privacy policies and parental consent, and operator responsibilities for protecting the PII of minors.</a><a name="bookmark373">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="624" height="1" alt="image" src="Image_133.png"/></span></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">All these regulations can have a direct impact on your organization’s identity management plans. Some regulations, for example, set timeframes within which records must be retained. This clearly affects the design and implementation of digital identity infrastructures.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/_xDrK" class="s33" target="_blank" name="bookmark374">Another US federal law with indirect effects is the </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Sarbanes-Oxley Act of 2002</span>. Sarbanes-Oxley applies to public companies and, among other things, requires annual reports on the effectiveness of internal controls and procedures, which are directly affected by identity management decisions about things like directories and access control. Consequently, public companies need to design and implement their digital identity infrastructure not only to comply with Sarbanes-Oxley requirements but also to minimize the cost of the auditing and reporting needed to comply where possible.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark375">It’s impossible to determine what laws and regulations affect your identity management strategy or what to do about them if you try to manage identity like most IT departments have traditionally managed security. These are business issues and require business input. For example, the Audit Committee of a company’s board of directors will determine its ground rules for how to comply with Sarbanes-Oxley. Not understanding its directives to ensure that they’re met would be a career-limiting act.</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">The Time Value and Time Cost of Privacy</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark377" class="s33" name="bookmark376">We often talk about privacy like its value and cost never vary. In fact, people usually value privacy more for current information than they do for old information. Alice might not want her current address published but not care who knows the address of the apartment she lived in while at college. Similarly, the cost of making recent data private is usually lower than that of keeping data private over time. As time passes, more and more context builds up around data, making it harder to prevent its correlation with other information. Put simply, over time, secrets become harder to keep. This sets up the dynamic illustrated in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 8-2</span>.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark377" class="s33">In the graph in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 8-2</span>, there’s a crossover point where the cost of maintaining the privacy of information is greater than the value of the privacy. To the right of that point, maintaining privacy is cost effective. To the left, it’s cost prohibitive. This isn’t meant to imply that you should do a cost-benefit analysis of individual data types and calculate some point where you just give up and publish it all. Rather, the point is that data management practices can shift the crossover point, making privacy more cost effective.</p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="594" height="563" alt="image" src="Image_134.jpg"/></span></p><p class="s60" style="padding-top: 4pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark377">Figure 8-2. Time cost and time value of privacy</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;"><a href="#bookmark378" class="a">Figure 8-3</a> <span style=" color: #000;">shows the same graph, but with two cost lines. The new cost line is lower and thus shifts the crossover point farther left, meaning we can keep data private longer at a reasonable cost or can maintain privacy on data that might have been cost prohibitive before.</span></p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="594" height="563" alt="image" src="Image_135.jpg"/></span></p><p class="s60" style="padding-top: 4pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark378">Figure 8-3. Shifting the crossover point left</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">How do you lower the cost? Keep less data that identifies people. This may seem obvious, but I’m always surprised by organizations that keep more data than they really need on the theory that it’s cheap. They’re only considering storage costs. When you factor in the costs of securing data and ensuring regulatory compliance, keeping PII gets much more expensive.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark945" class="s33">Keeping less data starts with collecting less data. This requires being thoughtful about product and site design, to collect only the PII that is necessary for business purposes. Regularly reviewing and purging data in different classes (depending on regulatory and business requirements) can also reduce the cost of keeping PII. In </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 15</span>, I’ll discuss techniques and technologies that support minimal disclosure, which can significantly reduce the amount of PII you collect without negatively impacting business needs.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Surveillance Capitalism and Web 2.0</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark379">In the opening chapter of her book </a><i>The Age of Surveillance Capitalism </i>(PublicAffairs, 2019), philosopher and social psychologist Shoshana Zuboff asks, “Can the digital future be our home?”</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">This question is perhaps one of the most important of our age. More and more of our lives are intermediated by digital systems. And yet those systems are not ours—they belong to the companies that provide them. Our experience on them is predicated on the goals, desires, and needs of those companies, not our own. I call these systems <i>administrative </i>because they are built to administer our experience in a particular domain for the administrator’s specific purposes.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Zuboff makes several compelling arguments about why surveillance capitalism represents a significant threat to humanity’s future. An overarching conclusion is that these companies, by putting everyone inside their administrative systems so as to make our lives <i>legible </i>to their surveillance, become tyrants:</p><p class="s35" style="padding-top: 8pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">Tyranny is the obliteration of politics. It is founded on its own strain of radical indifference in which every person, except the tyrant, is understood as an organism among organisms in an equivalency of Other-Ones.</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Contrary to what many might believe, obliterating politics is not a good thing. Politics is how decentralized, democratic systems achieve legitimacy and coherence. Getting rid of politics requires putting everyone and everything in the centralized administrative system of the surveillance capitalist—making them subject to the dictates of a tyrant who is radically indifferent to their autonomy, individuality, and humanity.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Living inside the administrative systems of Big Tech is like living inside an amusement park. It’s not altogether unpleasant, but it’s a far cry from authentic—stippled with moments of joy but devoid of real happiness and freedom. We are all treated identically and transactionally, despite pretensions to personalization.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Zuboff’s conclusion that surveillance capitalism is a new “rogue” form of capitalism leaves little recourse but to regulate its ills. Not unreasonably, her prescription for this predicament is to protect, trust, and utilize democratic processes—to collectively push back, without letting our cynicism dissuade us or cause us to lose hope.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Cory Doctorow offers another remedy in his book <i>How to Destroy Surveillance Capitalism </i>(OneZero Books, 2020). In his view, merely regulating a big monopoly only further entrenches it, locking the world into the status quo. If we want to destroy surveillance capitalism, Doctorow argues, we must break it up and decentralize, making “big tech small again.” Ultimately, the choice is between fixing Big Tech and fixing the internet. Doctorow argues for the second option.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Fixing the internet is hard but not impossible. Doctorow references Lawrence Lessig’s <i>Code and Other Laws of Cyberspace </i>(Basic Books, 1999) saying, “Our lives are regulated by four forces: law (what’s legal), code (what’s technologically possible), norms (what’s socially acceptable), and markets (what’s profitable).” We can bring all four to bear on this problem.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Many people fear that breaking up Big Tech will diminish the fruits of the digital world we’ve come to enjoy and even rely on. Centralization, they say, is the only safe and efficient way to</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">build messaging platforms, app stores, social networks, and so on.</p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">This is where Lessig’s other three forces come into play. The means exist to decentralize most of the centralized Web 2.0 platforms (in Lessig’s words, it’s “technologically possible”). The internet itself, and more recent decentralized networks like Bitcoin and Ethereum, show that large, decentralized systems can achieve legitimacy to accomplish global goals.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark380">Returning to Zuboff’s opening question: “Can the digital future be our home?” Fixing Big Tech just leaves us where we’re at, with slightly fewer problems. It’s a dead-end road that doesn’t lead to a digital home. But fixing the internet, redecentralizing it, promises a future where we can live authentic digital lives that complement our physical lives.</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Privacy and Laws of Identity</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Privacy cannot be an afterthought. The stakes are too high. Beyond the regulatory and legal requirements, there are ethical and moral responsibilities. This chapter has introduced important ideas about where privacy intersects with identity, but privacy is bigger than what can be covered in one chapter. Identity professionals must be well versed in privacy to build identity systems that are not only functional but respect and protect the people who use them.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark131" class="s33" name="bookmark381">Many of the Laws of Identity (introduced in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 4</span>) have a privacy aspect:</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_136.png"/></span></p><p class="s35" style="padding-top: 10pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">User consent <span class="p">speaks to the extent to which people control how and where data about them is shared.</span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_137.png"/></span></p><p class="s35" style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Minimal disclosure <span class="p">is about the amount of data that is shared, and whether the system overshares or overcollects data.</span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_138.png"/></span></p><p class="s35" style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Justifiable parties <span class="p">deals with who sees the data people share and whether their access to that data is justified.</span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_139.png"/></span></p><p class="s35" style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Directed identity <span class="p">addresses the amount of correlation that can occur from public global identifiers.</span></p><p class="s55" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark108" class="s33">As you’ve seen throughout the first half of this book, the Laws of Identity and the features of the identity metasystem provide important means for solving the problems of identity discussed in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 3</span><a href="#bookmark1024" class="s33">. This chapter’s discussion of privacy and its interplay with the Laws of Identity should convince you that how you think about, design, and protect privacy will have significant consequences for how well your identity system will support the relationships that allow people to live effective and safe online lives. Chapters </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">16</span> <a href="#bookmark1059" class="s33">and </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">17</span> <span style=" color: #000;">will discuss various architectures for identity and how they work toward or against Zuboff’s vision of a digital future.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="624" height="1" alt="image" src="Image_140.png"/></span></p><ol id="l11"><li><p class="s45" style="padding-top: 5pt;padding-left: 32pt;text-indent: -11pt;text-align: left;"><a href="https://oreil.ly/TEt6e" class="s68" target="_blank" name="bookmark382">Polly Sprenger,</a><a href="https://oreil.ly/TEt6e" class="s46" target="_blank"> </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 9pt;">“Sun on Privacy: ‘Get Over It’”</span>, <i>Wired Magazine</i>, January 1999, accessed February 23, 2022.</p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 32pt;text-indent: -11pt;text-align: left;"><a name="bookmark383">ICMP packets </a><i>can </i>have data in the packet, but it’s optional and almost never set.</p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark384">I have seen the term </a><i>transactional privacy </i>used to describe the idea of people selling their own data outright. That is not the sense I’m using; I’m speaking more generally of transactions that take place online.</p></li><li><p class="s45" style="padding-top: 3pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark385">I first learned about the trade-offs between privacy, authenticity, and confidentiality from Sam Smith at a Utah Self- Sovereign Identity meetup.</a></p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark386">Remember, this doesn’t mean that banking transactions are public, but that others besides the participants </a><i>could </i>know who participated in the conversation.</p></li><li><p class="s67" style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a href="#bookmark252" class="s68" name="bookmark387">Recall from the discussion in </a>Chapter 7 <span style=" color: #000;">that the purpose of the credit card network’s trust framework is to reduce the need for an authenticated relationship between the customer and merchant. Each has an authenticated relationship with their respective bank, not each other.</span></p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 32pt;text-indent: -11pt;text-align: left;"><a name="bookmark388">The bar needs to trust the </a><i>issuer </i><a href="#bookmark1316" class="s68">of the ID card—a different discussion that we’ll take up in </a><a href="#bookmark1316" class="s64">Chapter </a><span style=" color: #8E0011;">22</span>.</p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark389">Beyond accountability, a number of businesses make their living surveilling people online or are remunerated for helping collect data that informs that surveillance. I’ll discuss that later in this chapter.</a></p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 32pt;text-indent: -11pt;text-align: left;"><a name="bookmark390">Note that I said </a><i>need</i>. I’m aware that banks likely use it for more than this, often without disclosing how they’re using it.</p></li><li><p class="s65" style="padding-top: 6pt;padding-left: 27pt;text-indent: -12pt;text-align: left;"><a name="bookmark391">	</a><span class="s45">Adhesion contracts, like the terms and conditions documents to which websites ask people to consent, are “take it or leave it” agreements where one party has substantially more power than the other and does not offer the opportunity to negotiate terms.</span></p></li></ol><p class="s21" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark392">Chapter 9. Integrity, Nonrepudiation, and Confidentiality</a><a name="bookmark393">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="624" height="1" alt="image" src="Image_141.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark394">Among the foundational concepts in digital identity are integrity, nonrepudiation, and confidentiality. </a><i>Integrity </i>ensures a message or transaction has not been tampered with. <i>Nonrepudiation </i>provides evidence for the existence of a message or transaction and ensures its contents cannot be disputed once sent. <i>Confidentiality </i>ensures that only the people or processes authorized to view and use the contents of a message or transaction have access to those contents. In some situations, these properties are unneeded luxuries, but in others, the lack of just one of these properties can lead to disaster. Understanding them, and when to use them, is crucial to a digital identity management strategy:<a name="bookmark395">&zwnj;</a><a name="bookmark396">&zwnj;</a></p><p class="s35" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Integrity</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Integrity is a fundamental requirement of a trustworthy identity infrastructure. Identity systems exchange credentials as well as messages and transactions regarding attributes, provisioning information, and other data. Trusting that the contents of these systems have not been tampered with is vital. As an example, consider a document representing identity credentials. To trust those credentials, we must be able to verify they are authentic and have not been changed.</p><p class="s35" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Nonrepudiation</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a name="bookmark397">Nonrepudiation is the presentation of unforgeable evidence that a message was sent or received. If messages or transactions can be disputed, then important identity actions can be challenged and jeopardized. These disputes can take two forms. Consider that Alice and Bob are exchanging messages. In the first case, Alice denies sending a message to Bob that he claims to have received. Being able to counter Alice’s denial is </a><i>Non-Repudiation of Origin (NRO)</i>. In the second case, Alice claims to have sent Bob a message that he denies having received. Offering evidence to counter Bob’s claim is <i>Non-Repudiation of Receipt </i>(NRR).<a name="bookmark398">&zwnj;</a></p><p class="s35" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Confidentiality</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a name="bookmark399">Confidentiality can be achieved in several ways. The two most common are steganography and encryption. </a><i>Steganography </i>is the process of putting a message inside another message in such a way that observers do not know that it’s there. For example, modifying the low-order bits in an image to transmit a message does not interfere with viewing the image and the</p><p style="padding-top: 3pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a name="bookmark400">presence of the message is difficult to detect. While steganography has some interesting uses, it cannot serve as the basis for confidentiality in most identity systems. </a><i>Encryption </i>is the process of transforming a message using a key so that anyone viewing the message without the key cannot determine its contents.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">This chapter will focus on techniques, processes, and technologies for achieving these three important properties. The basis for all of these is cryptography. We’ll discuss basic cryptography concepts and then apply these to solving problems of integrity, nonrepudiation, and confidentiality. While cryptography alone isn’t the answer to the problems of identity, it provides important building blocks that we will use throughout the rest of this book.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Cryptography</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark401">Cryptography is the science of making the cost of discovery of hidden information greater than the value of the information itself. An important corollary to this statement is that there is no single cryptographic solution to every problem. With increasing needs for confidentiality, the methods become more involved, and the costs increase.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark402">Understanding cryptography’s limits is perhaps the most important thing you can know about it. Many people mistakenly think that cryptography is about absolute protection of data and are consequently upset to learn that someone has cracked a trusted cryptographic algorithm. While such news is certainly worth paying attention to, even easily compromised algorithms have uses in certain circumstances. The goal is to understand the challenges a problem presents and match those to the cryptographic method that solves them for the least cost, usually measured in compute cycles. The following sections will discuss several cryptographic systems, where they best apply, and common algorithms for implementing them.</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Secret Key Cryptography</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark403">Secret key cryptography uses keys to transform a message in such a way as to render it unreadable to anyone without the proper key. Secret key cryptography is also known as symmetric cryptography (since the same key is used to encrypt and decrypt the message) or conventional cryptography.</a></p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark404"><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 9-1</span></a> <a href="#bookmark516" class="s33">shows a simple secret key transaction. Alice and Bob wish to share a message without divulging its contents to outside parties.</a><a href="#bookmark516" class="s42">1</a><span class="s59"> </span><span style=" color: #000;">Alice uses her secret key to put the plain-text message through a process that transforms it into an encrypted message. Alice can send the message to Bob without fear that an outsider will be able to read it, as long as the eavesdropper does not possess the secret key. Later Bob puts the encrypted message through another process, using the same key, to recreate the plain-text message.</span></p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="592" height="370" alt="image" src="Image_142.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark405">Figure 9-1. Encryption and decryption using a secret key</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">One of the most important factors affecting the strength of a secret key encryption process is the length of the key. There are a significant number of secret key algorithms which differ in their key length, their efficiency for encryption and decryption, and their vulnerability to attack. For most identity systems, the selection of a secret key algorithm is independent of other concerns and, consequently, it can be selected based on the requirements of the specific task at hand.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark406">Well-known secret key cryptographic algorithms include Advanced Encryption Standard (AES), International Data Encryption Algorithm (IDEA), and Rivest Cipher 5 and 6 (RC5, RC6). In addition to selecting the algorithm, you will also usually need to select software that implements the algorithm. This is where it pays to get the advice and help of a cryptographer. One standard caution is to never implement your own crypto software.</a></p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark405" class="s33">The process depicted in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 9-1</span> <span style=" color: #000;">assumes Alice and Bob have agreed ahead of time on the secret key. One of them could choose the key and then transmit it to the other party using some alternative (often termed “out of band”) form of communication, or they could meet to choose and exchange the key. The problem with both methods is that in both cases an attacker might steal the key. Key transmission is one of the primary weaknesses of secret key cryptography.</span></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;">Once the key is compromised, an attacker can decrypt and read any message encrypted with it.</p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">To make matters worse, common attacks against cryptographic algorithms involve collecting large amounts of ciphertext that has been encrypted using the same key. To combat this attack, keys must be changed often, making key exchanges a frequent affair. The next section will discuss a concept that solves this problem.</p><p class="s61" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Public-Key Cryptography</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark407">The challenge facing Alice and Bob is how to exchange keys. This is a big enough problem when just Alice and Bob are exchanging keys. Imagine the problems you’d have if you wanted to exchange encrypted messages with all the people in your organization and each of the subgroups. For example, if the development group wants to exchange messages in private, they need a key known to all of them that is different than any of the keys they use to exchange mail with each other. The management complexity of such a scheme is staggering. Fortunately, there’s a cryptographic technology that does away with the need to exchange, store, and use secret keys. This technology is called </a><i>public-key cryptography</i>.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark408">Public-key cryptography makes use of two distinct keys: the </a><i>public key </i>and <i>private key</i>. The private key is kept secret by its owner and is never divulged. The public key can be freely shared with other parties, even posted on a message board or website. The public and private keys are mathematically related to each other and are called a <i>key pair</i>. The mathematical relationship that the keys share enables a message encrypted by one to be decrypted by the other. Yet neither key can be used to decrypt what it has encrypted. Thus, a message that is encrypted with the public key can only be decrypted using its corresponding private key, and a message that is encrypted with the private key can only be decrypted using its corresponding public key. Because of this property, public-key cryptosystems are called <i>asymmetric</i>.</p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 9-2</span> <span style=" color: #000;">shows how Alice and Bob might use public-key cryptography to exchange a message. Because Bob’s public key can be freely shared, he has posted it on his website. Alice downloads Bob’s public key and uses it to encrypt her message. She then sends the encrypted message to Bob. Bob uses his private key to decrypt Alice’s message. Only Bob’s private key, which he has kept secret, can decrypt messages encrypted with his public key, thus ensuring that Alice’s message has been kept confidential.</span></p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="592" height="370" alt="image" src="Image_143.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark409">Figure 9-2. Public-key cryptography</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Now, suppose that instead of encrypting her message with Bob’s public key, Alice uses her private key to encrypt the message. Alice sends the encrypted message to Bob and Bob uses Alice’s public key, which he can get from her site or in some other way, to decrypt her message and read it. Of course, everyone else also has Alice’s public key. So, Alice cannot use her private key to send confidential messages to Bob. To send a confidential message to Bob, Alice uses Bob’s public key to encrypt the message.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">There are, however, good reasons for encrypting a message with a private key. Encrypting a message with a private key can provide message integrity and nonrepudiation. If Alice has kept her private key secret, anyone using Alice’s public key to decrypt her message knows two things:</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">(a) the message has not been tampered with in transit and (b) the message is truly from Alice. If the message has been changed, then Alice’s public key will no longer decrypt it. If the message is encrypted with any key other than Alice’s private key, her public key will not decrypt it. If a third party, Charlie, wants to impersonate Alice, he must have access to her private key.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark410">Using a private key to encrypt a message creates a </a><i>digital signature</i>. Using a public key to decrypt a message that has been encrypted with a private key is called <i>signature verification</i>.<a name="bookmark411">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark412">A key system is called </a><i>reversible </i>if a private key can decrypt messages encrypted with its associated public key and a public key can decrypt messages encrypted with its associated private key. Key systems where the private key can encrypt but cannot decrypt and the public key can decrypt but cannot encrypt are called <i>irreversible</i>. Reversible key systems can be used for confidentiality, integrity, and nonrepudiation. Irreversible key systems can only be used for integrity and nonrepudiation.<a name="bookmark413">&zwnj;</a></p><p class="s61" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Hybrid Key Systems</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark414">Public-key cryptosystems are computationally more expensive than secret key algorithms. Public-key cryptosystems can take 100 to 1,000 times longer than secret key systems to encrypt or decrypt the same message. Consequently, public-key cryptosystems are rarely used to encrypt large amounts of data. Rather, they are used to negotiate a secret key between parties in the initial phase of communication. This is called a </a><i>hybrid cryptosystem </i>or <i>Diffie–Hellman key exchange </i>after a general scheme published by Whitfield Diffie and Martin Hellman in 1976.<a name="bookmark415">&zwnj;</a><a name="bookmark416">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Diffie–Hellman key exchange algorithms allow two parties that know each other’s public keys to calculate a secret key using their own private key and the other party’s public key. In our example, Alice and Bob have exchanged public keys. To create a shared secret, they also exchange a large prime number and another number smaller than the prime called the generator. Alice uses her private key, Bob’s public key, the large prime, and the generator to create a secret key. This process is commutative and so when Bob uses his private key, Alice’s public key, the prime, and the generator, he calculates the same secret key that Alice did. Charlie can know both public keys, the prime, and the generator and still not be able to calculate the shared secret because he doesn’t have access to either private key.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark417">Of course, if Charlie can somehow insert himself into the middle of the key exchange so that both Bob and Alice end up with his public key while thinking they’ve got the correct one, he can impersonate Bob to Alice and set up a shared secret with her and impersonate Alice to Bob and set up a shared secret with him. Afterward, he can sit in the middle of the conversation, reading the communication and forwarding Alice’s messages to Bob and Bob’s messages to Alice. This is called a </a><i>man-in-the-middle attack</i>. When Alice sends a message, it goes to Charlie, who decrypts it, reads it, reencrypts it with the shared secret he negotiated with Bob, and sends it on. Alice and Bob may never realize Charlie is snooping on their conversation. This kind of attack points out the need for trustworthy key exchanges, a topic we’ll visit later in this chapter when we talk about digital certificates.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark418">The most widely used hybrid key system is Transport Layer Security (TLS), the protocol that secures web pages. You might still hear people call it SSL (for Secure Sockets Layer), even though TLS is the preferred name. TLS is part of every major web browser and server. Recent campaigns to “encrypt everything” and tools to make it easier to use have pushed its adoption to even small websites.</a><a name="bookmark419">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">TLS creates an encrypted channel between two applications. An encrypted channel automatically encrypts all the data being sent on the wire without any action by the user. TLS uses the public- key cryptosystem to negotiate a shared secret that is used to encrypt the communications. This negotiation is performed using Diffie–Hellman, giving both parties a shared secret without either having to send the secret over the wire. TLS sits below the application protocol and thus can be used to secure HTTP communications, email transport, or any other application protocol on the internet.</p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark420" class="s33">TLS 1.3, the latest version of the protocol, significantly simplifies and speeds up the creation of the shared secret and plugs several security holes in TLS 1.2. </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 9-3</span> <span style=" color: #000;">shows the Diffie–</span></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Hellman exchange in TLS 1.3.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="592" height="649" alt="image" src="Image_144.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark420">Figure 9-3. Diffie–Hellman secret key generation in TLS 1.3</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;">In TLS 1.3, the client sends a public key with the initial <span class="s70">HELLO </span>message to the server. The server responds with its public key. Then each uses its own private key and the public key of the other to generate a shared secret using Diffie–Hellman. A different shared secret is negotiated for each session. The shared secret is then used to encrypt all further communications.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Public-Key Cryptosystem Algorithms</p><p class="s55" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark422" class="s33" name="bookmark421">There are several public-key cryptosystems. </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Table 9-1</span> <span style=" color: #000;">lists four of the common public-key algorithms, their type, and how they are primarily used. The choice of which algorithm to use depends on the task, the level of security needed for the task, relative efficiencies, and so on. Public-key cryptography schemes can be subject to nonobvious attacks that render them transparent, so it is best to employ a cryptographic expert when choosing which algorithm or scheme to use for a specific application.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><table style="border-collapse:collapse;margin-left:5.00013pt" cellspacing="0"><tr style="height:20pt"><td style="width:197pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#9C9C9C"><p class="s74" style="text-indent: 0pt;line-height: 13pt;text-align: left;"><a name="bookmark422">Table 9-1. Public-key algorithms</a></p></td><td style="width:258pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#9C9C9C" colspan="2"><p style="text-indent: 0pt;text-align: left;"><br/></p></td></tr><tr style="height:16pt"><td style="width:197pt;border-top-style:solid;border-top-width:1pt;border-top-color:#9C9C9C;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#9C9C9C"><p class="s71" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Algorithm</p></td><td style="width:63pt;border-top-style:solid;border-top-width:1pt;border-top-color:#9C9C9C;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#9C9C9C"><p class="s71" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Type</p></td><td style="width:195pt;border-top-style:solid;border-top-width:1pt;border-top-color:#9C9C9C;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#9C9C9C"><p class="s71" style="padding-top: 2pt;padding-left: 17pt;text-indent: 0pt;text-align: left;">Primary usage</p></td></tr><tr style="height:16pt"><td style="width:197pt;border-top-style:solid;border-top-width:1pt;border-top-color:#9C9C9C;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3"><p class="s72" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;"><a name="bookmark423">Digital Signature Algorithm (DSA)</a></p></td><td style="width:63pt;border-top-style:solid;border-top-width:1pt;border-top-color:#9C9C9C;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3"><p class="s72" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Irreversible</p></td><td style="width:195pt;border-top-style:solid;border-top-width:1pt;border-top-color:#9C9C9C;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3"><p class="s72" style="padding-top: 2pt;padding-left: 17pt;text-indent: 0pt;text-align: left;">Digital signatures</p></td></tr><tr style="height:16pt"><td style="width:197pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3" bgcolor="#F0F6FB"><p class="s72" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;"><a name="bookmark424">Elliptic Curve Digital Signature Algorithm (ECDSA)</a></p></td><td style="width:63pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3" bgcolor="#F0F6FB"><p class="s72" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Irreversible</p></td><td style="width:195pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3" bgcolor="#F0F6FB"><p class="s72" style="padding-top: 2pt;padding-left: 17pt;text-indent: 0pt;text-align: left;">Digital signatures</p></td></tr><tr style="height:16pt"><td style="width:197pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3"><p class="s72" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;"><a name="bookmark425">Rivest-Shamir-Adleman (RSA)</a></p></td><td style="width:63pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3"><p class="s72" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Reversible</p></td><td style="width:195pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3"><p class="s72" style="padding-top: 2pt;padding-left: 17pt;text-indent: 0pt;text-align: left;">Confidentiality, digital signatures, key exchange</p></td></tr><tr style="height:16pt"><td style="width:197pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3" bgcolor="#F0F6FB"><p class="s72" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;"><a name="bookmark426">Diffie–Hellman key agreement protocol</a></p></td><td style="width:63pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3" bgcolor="#F0F6FB"><p class="s72" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Reversible</p></td><td style="width:195pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3" bgcolor="#F0F6FB"><p class="s72" style="padding-top: 2pt;padding-left: 17pt;text-indent: 0pt;text-align: left;">Key exchange</p></td></tr></table><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;">In addition to selecting the algorithm, you will also sometimes need to select software that implements the algorithm. Good, open source implementations of important cryptographic algorithms are readily available, including libsodium, OpenSSL, and Hyperledger Ursa.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: justify;">Key Generation</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark427">Both symmetric and asymmetric cryptographic systems must generate keys, usually large integers. If an attacker can guess how keys are being generated, then the attacker may not need to steal keys; they can simply generate duplicate keys as needed. Consequently, key generation is a critical factor in the security of a cryptographic system.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark428">Randomness in keys is measured using </a><i>information entropy</i>, a concept introduced by information theory pioneer Claude Shannon in 1948. Analogous to thermodynamic entropy, high information entropy correlates to high disorder or randomness in a message. High entropy yields greater randomness and, all things being equal, more secure keys.<a name="bookmark429">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark430">Keys are usually generated using some kind of random number generator (RNG). True RNGs are hard to come by since they involve measuring some physical phenomenon and then compensating for measurement errors. For example, Silicon Graphics developed an RNG system, called Lavarand, that used a wall of lava lamps to generate random patterns. The system is still being used by Cloudflare, a web infrastructure and security company.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark431">For convenience, keys are usually generated using a pseudorandom number generator (PRNG). A PRNG uses a computational process that can produce sequences of seemingly random integers. The strength of the PRNG algorithm depends on the algorithm itself and the initial seed. PRNG algorithms used in cryptography are called “cryptographically secure” PRNGs. Don’t implement your own RNGs and don’t just blindly use the one built into a library or your operating system. This is another place where the guidance of a cryptographer can avoid security problems later on.</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The information entropy of the initial seed determines the degree of unpredictability for the generated random numbers. If the attacker can guess the seed, then the attacker has access to all the keys the algorithm will generate. Since generating true randomness by observing natural phenomena can be slow, RNGs and PRNGs are often used together. The RNG is used to generate the initial seed and then the PRNG algorithm is used to generate keys for use.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Key Management</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark432">Key management is one of the harder parts of cryptography, especially as the number of keys grows. Key management is not primarily a technical activity, but one that involves governance, and, alas, politics. Creating good key management policies, training people on policies and best practices, and coordinating the activities of all those who need to use keys can be a challenging task. Many times, key management must conform to legal compliance requirements.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Like most management activities, key management can be thought of as a lifecycle with specific requirements and best practices for each step:</p><p class="s35" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Generation</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">As we’ve discussed in the previous section, key generation is one of the places security can be compromised. As a management activity, <i>who</i>, <i>what</i>, <i>how</i>, and <i>where </i>are all valid questions to discuss. For example, can individual users generate keys, or is that an administrative activity? How are keys generated, and on what machines?</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Exchange and distribution</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Getting the keys into the hands of people or systems who use them is another place where security can be compromised. Even if you’re using a hybrid system and generating secret keys as needed, the private keys must be distributed to the correct people and systems. Some key systems allow the derivation of keys from a master, making the distribution of keys to endpoints easier.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Storage</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">After keys have been distributed or exchanged, they must be stored in a secure manner. Enterprises often employ key management software for this purpose. Keys can also be stored in password utilities if the software is deemed secure enough. In many modern systems the CPU is paired with a Trusted Platform Module (TPM), which is a one-way cryptographic module that keys can be written to but not read from.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Use</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">Using keys involves removing them from storage and employing them in the algorithm of</p><p style="padding-top: 3pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">choice. Storage for some applications (e.g., Secure Shell [SSH]) may just be a file, but others might require more security. Private keys used in TLS, for example, must be stored on the web server or a TLS hardware appliance so they can be used for encrypting web sessions. In applications where a TPM is used, the TPM provides the cryptographic engine and keys are used inside the TPM but can’t be read.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Destruction</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Keys should be deleted when they are no longer needed or expired to prevent an accidental compromise. Deleting keys often involves more than using the operating system’s “delete” command or dragging them to the trash. More secure processes may repeatedly overwrite the area of the disk where the keys were stored to prevent their being read despite being deleted.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Replacement</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Keys should be rotated or changed at regular intervals to limit the risk of an undetected compromise of a key. The length of the interval depends on the risks and applications. Replacement can be challenging because it requires the reexchange or redistribution of the keys.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark433">All of these are applicable for individuals and organizations of all sizes. The solutions may vary, but the need for securely generating and managing keys does not.</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Message Digests and Hashes</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark434">Sometimes it is enough to be able to determine when a document or message has been changed, either maliciously or not, without suffering the computational overhead of encryption. A mathematical technique called a </a><i>message digest </i>(informally called a <i>hash</i>) can be used to show integrity in such cases.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">A message digest is a fixed-length string of bits that is produced from a variable length message through a special mathematical function that has three important properties:</p><p class="s35" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Irreversible</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Feeding the message digest into another function should not produce the original document. This is a reasonable assumption of any algorithm that turns long strings into relatively short, fixed-length strings since there simply isn’t enough information capacity in the short string to reproduce the longer one.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Noncorrelatable</p><p style="padding-top: 3pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">Small changes to the original document should result in large changes to the new digest.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Unique</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Finding two documents that produce the same message digest should be mathematically infeasible.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark435">Irreversibility ensures that we can communicate the message digest without worrying that the contents of the message will be divulged. As an example, a common usage for digest algorithms is storing passwords in computer systems. In this usage, the user’s password is passed through a message digest algorithm and then stored on the machine. When the user logs in and enters a password, it is passed through the same message digest algorithm and then the two digests are compared. If they match, the entered password is correct. In this way, passwords are never stored in the clear but can be used to authenticate users. Obviously, this method wouldn’t be secure if the digest algorithm could be reversed.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark436">Noncorrelatability protects against documents that are only slightly different from being identified as “related” by virtue of their hash values. Returning to our hashed password example from above, an attacker could deduce that two passwords were very similar if the digest algorithm were correlatable and use that information to break subsequent passwords more quickly after the first was cracked.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark437">Uniqueness ensures that a different message can’t be substituted for the one for which the message digest was created. This is important since we’re relying on the digest to provide evidence of message integrity. If I can find a message that has a particular digest, I can substitute it for a message you have sent with that same digest, and no one will be the wiser. As an example of how this could create a problem, consider a common usage of message digests: ensuring the integrity of code distributions. If I can insert malicious code into a code distribution (for  example, inserting code that emails any user’s passwords to me) and then create the same message digest for the new distribution, you would download and install my malicious version of the code and never know about the switch.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark438"><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Table 9-2</span></a> shows some message digest algorithms (also called <i>cryptographic hash functions</i>), their digest size in bits, and the developer or owner of the algorithm. Ronald Rivest (the “R” in RSA) is the inventor of MD2, MD4, and MD5. MD2 was developed in 1989 and optimized for 8-bit machines. MD4 and MD5 are built for 32-bit machines. MD5 is computationally more expensive than MD4 but provides better security. MD5 is used in a number of applications, from building hashes of passwords to integrity checksums of code distribution.<a name="bookmark439">&zwnj;</a><a name="bookmark440">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark441">Table 9-2. Message digest algorithms</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><table style="border-collapse:collapse;margin-left:5.00019pt" cellspacing="0"><tr style="height:16pt"><td style="width:116pt;border-top-style:solid;border-top-width:1pt;border-top-color:#9C9C9C;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#9C9C9C"><p class="s71" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Message digest algorithm</p></td><td style="width:77pt;border-top-style:solid;border-top-width:1pt;border-top-color:#9C9C9C;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#9C9C9C"><p class="s71" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Digest size (bits)</p></td><td style="width:93pt;border-top-style:solid;border-top-width:1pt;border-top-color:#9C9C9C;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#9C9C9C"><p class="s71" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Owner</p></td></tr><tr style="height:16pt"><td style="width:116pt;border-top-style:solid;border-top-width:1pt;border-top-color:#9C9C9C;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3"><p class="s72" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">MD2</p></td><td style="width:77pt;border-top-style:solid;border-top-width:1pt;border-top-color:#9C9C9C;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3"><p class="s72" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">128</p></td><td style="width:93pt;border-top-style:solid;border-top-width:1pt;border-top-color:#9C9C9C;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3"><p class="s72" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">RSA Data Security, Inc.</p></td></tr><tr style="height:16pt"><td style="width:116pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3" bgcolor="#F0F6FB"><p class="s72" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">MD4</p></td><td style="width:77pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3" bgcolor="#F0F6FB"><p class="s72" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">128</p></td><td style="width:93pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3" bgcolor="#F0F6FB"><p class="s72" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">RSA Data Security, Inc.</p></td></tr><tr style="height:16pt"><td style="width:116pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:3pt;border-bottom-color:#F0F6FB"><p class="s72" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">MD5</p></td><td style="width:77pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:3pt;border-bottom-color:#F0F6FB"><p class="s72" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">128</p></td><td style="width:93pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:3pt;border-bottom-color:#F0F6FB"><p class="s72" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">RSA Data Security, Inc.</p></td></tr></table><table style="border-collapse:collapse;margin-left:5.00024pt" cellspacing="0"><tr style="height:14pt"><td style="width:73pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3" bgcolor="#F0F6FB"><p class="s72" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">SHA</p></td><td style="width:118pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3" bgcolor="#F0F6FB"><p class="s72" style="padding-left: 45pt;text-indent: 0pt;text-align: left;">160</p></td><td style="width:95pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3" bgcolor="#F0F6FB"><p class="s72" style="padding-left: 4pt;text-indent: 0pt;text-align: left;">US government</p></td></tr><tr style="height:16pt"><td style="width:73pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3"><p class="s72" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">SHA-1</p></td><td style="width:118pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3"><p class="s72" style="padding-top: 2pt;padding-left: 45pt;text-indent: 0pt;text-align: left;">160</p></td><td style="width:95pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3"><p class="s72" style="padding-top: 2pt;padding-left: 4pt;text-indent: 0pt;text-align: left;">US government</p></td></tr><tr style="height:16pt"><td style="width:73pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3" bgcolor="#F0F6FB"><p class="s72" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">SHA-2</p></td><td style="width:118pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3" bgcolor="#F0F6FB"><p class="s72" style="padding-top: 2pt;padding-left: 45pt;text-indent: 0pt;text-align: left;">224, 256, 384, 512</p></td><td style="width:95pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3" bgcolor="#F0F6FB"><p class="s72" style="padding-top: 2pt;padding-left: 4pt;text-indent: 0pt;text-align: left;">US government</p></td></tr><tr style="height:16pt"><td style="width:73pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3"><p class="s72" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">SHA-3</p></td><td style="width:118pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3"><p class="s72" style="padding-top: 2pt;padding-left: 45pt;text-indent: 0pt;text-align: left;">224, 256, 384, 512</p></td><td style="width:95pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3"><p class="s72" style="padding-top: 2pt;padding-left: 4pt;text-indent: 0pt;text-align: left;">US government</p></td></tr></table><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 4pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark442">SHA (Secure Hash Algorithm) and SHA-1 were developed by the National Institute of Standards and Technology (NIST) and specified in Federal Information Processing Standards (FIPS) 180 and 180-1. MD5 and SHA-1 have both been popular message digest algorithms.</a><a name="bookmark443">&zwnj;</a><a name="bookmark444">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">MD5 has some discovered theoretical weaknesses, and consequently SHA-1 has been preferred over MD5 for some time. SHA-1 has also had reported weaknesses. Specifically, it has been compromised with collision resistance attacks. So, SHA and SHA-1 shouldn’t be used in applications that require collision resistance like our password storage example.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">These reported weaknesses by no means indicate that these algorithms are suddenly insecure, but they do show a need to migrate to alternatives. They also show why it’s important to design identity systems so that the cryptographic functions can be easily changed out, and why systems that use encryption as well as the policies that govern them should be reviewed periodically.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark445">SHA-3 is the latest NIST standard from 2015. SHA-3 is structurally different from earlier algorithms in the SHA family. NIST has not withdrawn SHA-2. SHA-3 can be directly substituted for SHA-2 in applications.</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Digital Signatures</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark446">We’ve discussed how using a public-key cryptosystem in reverse can provide a sort of digital signature: if I encrypt a document with my private signature, anyone can decrypt it, but only with the matching public key. Provided I’ve kept my private key secure, this is strong evidence that I encrypted the document in question and can thus serve as a signature.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">This methodology suffers from several disadvantages:</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_145.png"/></span></p><p style="padding-top: 10pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">The signed document is rendered unintelligible unless it is decrypted with the public key. This is annoying in applications where one might only occasionally want to check signatures.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_146.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">The signature and the document are inseparable. There’s no way to send a signature under separate cover.</p><p class="s55" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark447" class="s33">We can overcome these disadvantages if we combine public-key cryptography and message digests. </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 9-4</span> <span style=" color: #000;">shows the methodology schematically. Since a message digest is unique to a particular document (within certain cryptographic constraints), we can create a message digest of the document, or message to be signed, and then sign the digest rather than the message. The message remains in plain text and the signature and message are separable.</span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">To verify the signature, we use the public key of the sender to decrypt the message digest and</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">then apply the same message digest algorithm to the signed message. If the two message digests match, then the message is the same as the one that was signed by the sender.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Digital signatures, produced in this way, provide us with evidence of a document’s integrity since changing the document, intentionally or not, would result in a different message digest being calculated by the receiver. The digital signature also provides us with nonrepudiation since it is evidence that the person who created the original digest had access to the identical document and, as long as they have maintained control of their private key, is the only one who could have produced the signature.</p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="592" height="808" alt="image" src="Image_147.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark447">Figure 9-4. Digitally signing and verifying a message</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark448">When used for digital signature purposes, the private key is sometimes called the </a><i>signing key </i>and</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;"><a name="bookmark449">the public key is called the </a><i>verification key</i>. Technically, these keys operate in the same way as standard public key pairs; the terminology simply and clearly indicates which key is used for what purpose.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Digital Certificates</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark450">Public-key cryptosystems provide the underlying technology for creating identity systems that support confidentiality, integrity, and nonrepudiation. As we’ve seen, however, they are subject to several serious limitations:</a></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_148.png"/></span></p><p style="padding-top: 8pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">If you lose control of your private key, you can be impersonated, and your confidential documents can be read.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_149.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">If an attacker can convince me that their public key belongs to you, I’ll accept whatever they tell me as coming from you.</p><p style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark608" class="s33" name="bookmark451">The first problem is an authentication problem. We’ll talk more about this in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 11</span>. The second problem can be mitigated in several ways. One of the most widely used is digital certificates and the <i>public-key infrastructure</i><a href="#bookmark945" class="s33">. Another, decentralized identifiers, is discussed in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 15</span>.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">A <i>digital certificate </i>is a data structure that associates identifying information with a public key. As we’ve seen, a public key is just a very long, seemingly random number. There’s no way to look at a public key and tell who it belongs to. By combining a public key with other identifying information, such as a name, address, and so on, we can more easily identify the owner of the key and be sure that it’s the right key. Of course, we will want to ensure the integrity of the digital certificate by having a trusted third party digitally sign it so that no one tampers with it and substitutes an alternate key. This trusted third party is the <i>issuer </i>of the digital certificate.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">A digital certificate need not be issued to a person. In fact, most are not. Digital certificates can be issued to a variety of entities including individuals, companies, groups, organizations, government bodies, and things. The entity whose identifying information is associated with the public key in the certificate is called the <i>certificate subject</i>.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Digital certificates are created for different purposes with slightly different forms, called profiles. The most widespread use of certificates is in securing HTTP traffic in the TLS protocol. But they can be used for email, code signing, client-side TLS, and EMV (Europay, Mastercard, and Visa) payment cards, to name a few.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">When a certificate is created, its data structure is populated and the issuer signs the certificate by creating a message digest of the information and then encrypting the digest with the issuer’s private key. By signing the certificate, the issuer is making a statement that the public key contained in the certificate and the identifying information in the certificate belong together. The digital signature ensures the integrity of the certificate.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Digital certificates are not human-readable documents but rather data structures meant to be used by computer programs. However, with the aid of programs like OpenSSL, we can view the</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="http://windley.com/" class="s33" target="_blank">contents of a certificate. Here are the contents of the digital certificate I use on </a><a href="http://windley.com/" class="s75" target="_blank">windley.com</a></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">for TLS:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s76" style="padding-left: 38pt;text-indent: -21pt;line-height: 106%;text-align: left;">Certificate: Data:</p><p class="s76" style="padding-left: 60pt;text-indent: 0pt;line-height: 106%;text-align: left;">Version: 3 (0x2) Serial Number:</p><p class="s76" style="padding-left: 81pt;text-indent: 0pt;line-height: 10pt;text-align: left;">58:e3:98:ba:6e:77:1e:86:09:42:74:65:98:97:62:c6</p><p class="s76" style="padding-left: 60pt;text-indent: 0pt;text-align: left;">Signature Algorithm: sha256WithRSAEncryption</p><p class="s76" style="padding-left: 60pt;text-indent: 0pt;line-height: 106%;text-align: left;">Issuer: C=GB, ST=Greater Manchester, L=Salford, O=Sectigo Limited,... Validity</p><p class="s76" style="padding-left: 81pt;text-indent: 0pt;line-height: 10pt;text-align: left;">Not Before: Aug 18 00:00:00 2021 GMT</p><p class="s76" style="padding-left: 81pt;text-indent: 0pt;text-align: left;">Not After : Sep 18 23:59:59 2022 GMT</p><p class="s76" style="padding-left: 60pt;text-indent: 0pt;line-height: 106%;text-align: left;"><a href="http://www.windley.com/" class="s77" target="_blank">Subject: C=US, ST=Utah, O=PJW, L.C., CN=</a>www.windley.com Subject Public Key Info:</p><p class="s76" style="padding-left: 103pt;text-indent: -21pt;line-height: 106%;text-align: left;">Public Key Algorithm: rsaEncryption Public-Key: (2048 bit) Modulus:</p><p class="s76" style="padding-left: 125pt;text-indent: 0pt;line-height: 10pt;text-align: left;">00:f6:5b:88:1a:11:76:3a:12:44:df:eb:78:58:3a:</p><p class="s76" style="padding-left: 125pt;text-indent: 0pt;text-align: left;">76:12:c3:44:c6:a9:79:2a:62:43:22:40:ef:0d:a5:</p><p class="s76" style="padding-left: 125pt;text-indent: 0pt;text-align: left;">b4:1c:ec:25:ba:d1:21:00:2e:35:30:5d:ae:e4:61:</p><p class="s76" style="padding-left: 125pt;text-indent: 0pt;text-align: left;">d0:72:96:ba:0d:88:75:f4:cb:36:3f:9d:ad:4d:32:</p><p class="s76" style="padding-left: 125pt;text-indent: 0pt;text-align: left;">0c:4f:02:1b:89:ed:54:f3:d4:f6:24:b0:5f:5c:d3:</p><p class="s76" style="padding-left: 125pt;text-indent: 0pt;text-align: left;">e3:75:89:0f:ac:60:94:74:b3:02:04:57:03:ec:8f:</p><p class="s76" style="padding-left: 125pt;text-indent: 0pt;text-align: left;">1a:3b:f6:40:73:de:38:53:17:b5:d2:c4:d2:85:fb:</p><p class="s76" style="padding-left: 125pt;text-indent: 0pt;text-align: left;">02:2a:b1:fc:14:31:32:f4:86:89:5c:d4:1d:3b:4c:</p><p class="s76" style="padding-left: 125pt;text-indent: 0pt;text-align: left;">b0:d2:17:20:92:fa:d6:69:f9:d4:d7:40:11:92:c5:</p><p class="s76" style="padding-left: 125pt;text-indent: 0pt;text-align: left;">18:ba:92:c9:7e:02:5f:fe:34:4d:65:bd:af:21:b7:</p><p class="s76" style="padding-left: 125pt;text-indent: 0pt;text-align: left;">79:11:e3:38:89:6d:af:82:2a:7f:63:93:ef:1f:1f:</p><p class="s76" style="padding-left: 125pt;text-indent: 0pt;text-align: left;">78:24:e3:89:61:42:6a:7d:fb:36:a4:0a:ea:f7:6d:</p><p class="s76" style="padding-left: 125pt;text-indent: 0pt;text-align: left;">a4:ec:b9:5b:8c:78:4b:a2:a7:d5:8d:27:2d:42:62:</p><p class="s76" style="padding-left: 125pt;text-indent: 0pt;text-align: left;">6a:d6:2d:41:a4:d0:48:9a:1e:a3:79:3e:bf:a0:3b:</p><p class="s76" style="padding-left: 125pt;text-indent: 0pt;text-align: left;">98:0c:bb:3d:61:b8:87:5c:cb:23:6b:fe:b9:6a:d2:</p><p class="s76" style="padding-left: 125pt;text-indent: 0pt;text-align: left;">7a:b7:bc:53:a5:ec:c7:f3:0d:66:0c:36:0f:72:ac:</p><p class="s76" style="padding-left: 125pt;text-indent: 0pt;text-align: left;">12:38:70:0e:c6:3a:0a:a2:8a:37:7a:7d:1a:1c:9b:</p><p class="s76" style="padding-left: 125pt;text-indent: 0pt;text-align: left;">48:77</p><p class="s76" style="padding-left: 60pt;text-indent: 43pt;line-height: 106%;text-align: left;">Exponent: 65537 (0x10001) X509v3 extensions:</p><p class="s76" style="padding-left: 103pt;text-indent: -21pt;line-height: 106%;text-align: left;">X509v3 Authority Key Identifier: keyid:17:D9:D6:25:27:67:F9:31:C2:49:43:D9:30:36:44:8C:6C:A9:4F:EB</p><p class="s76" style="padding-left: 103pt;text-indent: -21pt;line-height: 106%;text-align: left;">X509v3 Subject Key Identifier: 92:AA:60:A4:4F:D0:87:BC:56:4E:18:1F:12:AF:FB:BF:53:25:75:D9</p><p class="s76" style="padding-left: 81pt;text-indent: 0pt;line-height: 10pt;text-align: left;">X509v3 Key Usage: critical</p><p class="s76" style="padding-left: 81pt;text-indent: 21pt;line-height: 106%;text-align: left;">Digital Signature, Key Encipherment X509v3 Basic Constraints: critical</p><p class="s76" style="padding-left: 103pt;text-indent: 0pt;line-height: 10pt;text-align: left;">CA:FALSE</p><p class="s76" style="padding-left: 81pt;text-indent: 0pt;text-align: left;">X509v3 Extended Key Usage:</p><p class="s76" style="padding-left: 81pt;text-indent: 21pt;line-height: 106%;text-align: left;">TLS Web Server Authentication, TLS Web Client Authentication X509v3 Certificate Policies:</p><p class="s76" style="padding-left: 103pt;text-indent: 0pt;line-height: 10pt;text-align: left;">Policy: 1.3.6.1.4.1.6449.1.2.1.3.4</p><p class="s76" style="padding-left: 103pt;text-indent: 10pt;line-height: 106%;text-align: left;">CPS: https://sectigo.com/CPS Policy: 2.23.140.1.2.2</p><p class="s76" style="padding-left: 103pt;text-indent: -21pt;line-height: 106%;text-align: left;">X509v3 CRL Distribution Points: Full Name:</p><p style="padding-left: 17pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><a href="http://crl.sectigo.com/SectigoRSAOrganizationValidationSecureServerCA.crl" class="s77" target="_blank">URI:http://crl.sectigo.com/SectigoRSAOrganizationValidationSecureServerCA.crl</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s76" style="padding-left: 81pt;text-indent: 0pt;text-align: left;">Authority Information Access:</p><p style="padding-left: 103pt;text-indent: 0pt;text-align: left;"><a href="http://crt.sectigo.com/" class="s77" target="_blank">CA Issuers - URI:http://crt.sectigo.com/...</a></p><p style="padding-top: 3pt;padding-left: 103pt;text-indent: 0pt;text-align: left;"><a href="http://ocsp.sectigo.com/" class="s77" target="_blank">OCSP - URI:http://ocsp.sectigo.com</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s76" style="padding-left: 103pt;text-indent: -21pt;line-height: 106%;text-align: left;"><a href="http://www.windley.com/" class="s77" target="_blank">X509v3 Subject Alternative Name: DNS:</a>www.windley.com, DNS:windley.com</p><p class="s76" style="padding-left: 81pt;text-indent: 0pt;line-height: 10pt;text-align: left;">CT Precertificate SCTs:</p><p class="s76" style="padding-left: 125pt;text-indent: -21pt;line-height: 106%;text-align: left;">Signed Certificate Timestamp: Version : v1(0)</p><p class="s76" style="padding-left: 125pt;text-indent: 0pt;line-height: 10pt;text-align: left;">Log ID : 46:A5:55:EB:75:FA:91:20:30:B5:A2:89:69:F4:F3:7D:</p><p class="s76" style="padding-left: 125pt;text-indent: 64pt;line-height: 106%;text-align: left;">11:2C:41:74:BE:FD:49:B8:85:AB:F2:FC:70:FE:6D:47 Timestamp : Aug 18 17:54:22.678 2021 GMT</p><p class="s76" style="padding-left: 125pt;text-indent: 0pt;line-height: 10pt;text-align: left;">Extensions: none</p><p class="s76" style="padding-left: 125pt;text-indent: 0pt;text-align: left;">Signature : ecdsa-with-SHA256</p><p class="s76" style="padding-left: 189pt;text-indent: 0pt;text-align: left;">30:44:02:20:44:CE:BD:BA:85:3C:C2:36:59:B5:62:91:</p><p class="s76" style="padding-left: 189pt;text-indent: 0pt;text-align: left;">4D:C5:20:26:0B:68:13:9C:C4:BB:BB:67:C3:66:FF:DA:</p><p class="s76" style="padding-left: 189pt;text-indent: 0pt;text-align: left;">8F:5B:61:6E:02:20:74:CB:F5:E0:94:17:4E:AE:05:CB:</p><p class="s76" style="padding-left: 189pt;text-indent: 0pt;text-align: left;">43:D4:65:B3:69:05:08:3A:DC:8F:E2:E2:07:11:06:33:</p><p class="s76" style="padding-left: 189pt;text-indent: 0pt;text-align: left;">10:A3:D9:AA:52:6C</p><p class="s76" style="padding-left: 125pt;text-indent: -21pt;line-height: 106%;text-align: left;">Signed Certificate Timestamp: Version : v1(0)</p><p class="s76" style="padding-left: 125pt;text-indent: 0pt;line-height: 10pt;text-align: left;">Log ID : 41:C8:CA:B1:DF:22:46:4A:10:C6:A1:3A:09:42:87:5E:</p><p class="s76" style="padding-left: 125pt;text-indent: 64pt;line-height: 106%;text-align: left;">4E:31:8B:1B:03:EB:EB:4B:C7:68:F0:90:62:96:06:F6 Timestamp : Aug 18 17:54:22.616 2021 GMT</p><p class="s76" style="padding-left: 125pt;text-indent: 0pt;line-height: 10pt;text-align: left;">Extensions: none</p><p class="s76" style="padding-left: 125pt;text-indent: 0pt;text-align: left;">Signature : ecdsa-with-SHA256</p><p class="s76" style="padding-left: 189pt;text-indent: 0pt;text-align: left;">30:46:02:21:00:DF:A5:D7:C2:5A:59:00:BF:E9:0C:80:</p><p class="s76" style="padding-left: 189pt;text-indent: 0pt;text-align: left;">D8:BB:95:08:CE:38:C9:2D:CD:F7:34:26:84:38:6A:89:</p><p class="s76" style="padding-left: 189pt;text-indent: 0pt;text-align: left;">C8:8E:B6:86:71:02:21:00:8B:CF:14:C2:F5:61:21:29:</p><p class="s76" style="padding-left: 189pt;text-indent: 0pt;text-align: left;">47:F3:57:ED:BB:FA:41:32:CC:26:04:CD:EB:58:49:C9:</p><p class="s76" style="padding-left: 189pt;text-indent: 0pt;text-align: left;">74:70:96:71:EA:87:BE:31</p><p class="s76" style="padding-left: 125pt;text-indent: -21pt;line-height: 106%;text-align: left;">Signed Certificate Timestamp: Version : v1(0)</p><p class="s76" style="padding-left: 125pt;text-indent: 0pt;line-height: 10pt;text-align: left;">Log ID : 29:79:BE:F0:9E:39:39:21:F0:56:73:9F:63:A5:77:E5:</p><p class="s76" style="padding-left: 125pt;text-indent: 64pt;line-height: 106%;text-align: left;">BE:57:7D:9C:60:0A:F8:F9:4D:5D:26:5C:25:5D:C7:84 Timestamp : Aug 18 17:54:22.574 2021 GMT</p><p class="s76" style="padding-left: 125pt;text-indent: 0pt;line-height: 10pt;text-align: left;">Extensions: none</p><p class="s76" style="padding-left: 125pt;text-indent: 0pt;text-align: left;">Signature : ecdsa-with-SHA256</p><p class="s76" style="padding-left: 189pt;text-indent: 0pt;text-align: left;">30:45:02:20:5E:CA:3C:F4:54:AE:5C:BE:36:23:3C:6D:</p><p class="s76" style="padding-left: 189pt;text-indent: 0pt;text-align: left;">C9:11:58:B9:15:F1:A8:45:31:FB:3B:9B:80:8D:14:78:</p><p class="s76" style="padding-left: 189pt;text-indent: 0pt;text-align: left;">E7:94:AF:17:02:21:00:9A:87:A1:C2:1D:B2:04:3C:1E:</p><p class="s76" style="padding-left: 189pt;text-indent: 0pt;text-align: left;">1F:C4:12:17:F8:B5:E2:41:63:F2:6F:BB:28:09:5F:E3:</p><p class="s76" style="padding-left: 189pt;text-indent: 0pt;text-align: left;">21:81:82:B3:2F:C7:26</p><p class="s76" style="padding-left: 65pt;text-indent: -27pt;line-height: 106%;text-align: left;">Signature Algorithm: sha256WithRSAEncryption 33:05:0a:11:bd:80:44:36:36:fe:1f:cf:be:93:d6:60:61:2e:</p><p class="s76" style="padding-left: 65pt;text-indent: 0pt;line-height: 10pt;text-align: left;">bf:ae:10:90:73:96:67:4e:3c:fb:c4:dc:6e:46:5f:8e:50:79:</p><p class="s76" style="padding-left: 65pt;text-indent: 0pt;text-align: left;">9e:f5:b6:a4:52:0f:9f:df:02:cd:42:5f:e1:a1:73:38:90:f4:</p><p class="s76" style="padding-left: 65pt;text-indent: 0pt;text-align: left;">79:1f:b1:21:f9:93:bd:0b:70:54:91:3d:a0:2d:e9:96:45:b1:</p><p class="s76" style="padding-left: 65pt;text-indent: 0pt;text-align: left;">71:f4:e9:7a:0d:48:ef:7d:30:22:ff:ee:37:ba:46:08:7a:01:</p><p class="s76" style="padding-left: 65pt;text-indent: 0pt;text-align: left;">7f:48:a4:be:da:15:5a:63:93:09:38:2f:9b:f3:fb:70:eb:87:</p><p class="s76" style="padding-left: 65pt;text-indent: 0pt;text-align: left;">bc:3d:92:16:82:e3:a7:b8:5d:27:70:55:ef:c5:26:80:ce:5f:</p><p class="s76" style="padding-left: 65pt;text-indent: 0pt;text-align: left;">9e:b8:21:1d:e4:be:b3:c8:ba:03:52:07:b5:0f:ba:e9:ac:e2:</p><p class="s76" style="padding-left: 65pt;text-indent: 0pt;text-align: left;">b1:09:62:4f:1c:e0:b1:5c:98:26:4d:d9:94:04:35:2d:18:ed:</p><p class="s76" style="padding-left: 65pt;text-indent: 0pt;text-align: left;">62:2c:cc:4f:29:5c:ab:a0:59:bf:2c:61:98:f5:4a:0b:fe:80:</p><p class="s76" style="padding-left: 65pt;text-indent: 0pt;text-align: left;">57:2e:9f:e1:55:47:05:7a:85:5e:d4:99:d8:dc:51:56:f1:5c:</p><p class="s76" style="padding-left: 65pt;text-indent: 0pt;text-align: left;">9f:bc:66:c3:35:03:62:1f:7c:74:69:41:26:ff:80:ae:63:47:</p><p class="s76" style="padding-left: 65pt;text-indent: 0pt;text-align: left;">a4:bb:d8:00:e8:f0:cc:6a:44:89:53:e5:4f:28:30:e1:72:5c:</p><p class="s76" style="padding-left: 65pt;text-indent: 0pt;text-align: left;">8d:ec:7b:ef:c8:4e:f2:90:55:47:62:e9:31:6c:9e:d3:9b:f2:</p><p class="s76" style="padding-left: 65pt;text-indent: 0pt;text-align: left;">86:40:07:ed</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">There are several items in the certificate of interest to us. There are two main parts: the data</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">block and the signature algorithm block. The data block tells us the certificate’s serial number, who the subject of the certificate is, what signature algorithm was used, and who issued the certificate. The data block also contains the actual public key (2,048 bits in this case) and a list of extensions. The signature algorithm block contains the actual signed hash.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">You probably noticed the string “X509” in several places in the data block. X.509 is part of the</p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">X.500 standard for directories. X.509 specifies the format of the data structure that holds the certificate information. Despite its origins as part of X.500, X.509 has taken on an independent life as a standard.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;">The X.509 specification defines ways to extend certificates to contain any data that the issuer deems important. Extensions take the form of key-value pairs. Each extension has an associated criticality flag that indicates to applications using the certificate whether they can safely ignore an extension that they don’t understand. You can see several extensions in the certificate under the heading <span class="s70">X509v3 extensions</span>. Extensions give addition information to the user of the certificate. For example, the X509v3 CRL Distribution Points extension lists the URL where certificate revocation lists for this certificate can be retrieved.</p><p class="s55" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="http://www.windley.com/" class="s33" target="_blank" name="bookmark452">You can see all this in a more readable version by going to </a><a href="http://www.windley.com/" class="a" target="_blank">www.windley.com</a> <a href="#bookmark456" class="s33">and clicking on the lock icon in the address bar. On macOS, the result looks like </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 9-5</span><a href="#bookmark517" class="s33">. This is more readable than the raw certificate data.</a><a href="#bookmark517" class="s42">2</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;">From this we see that the signature algorithm is SHA-256 with RSA encryption and the public key is a 2,048-bit RSA key. These choices are made by the certificate vendor depending on the purpose of the certificate.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;"><a name="bookmark453">As we noted earlier, the certificate is a data structure and is encoded as binary data. Many of the uses for certificates, however, require that they be transmitted over networks. To make this possible, the data structure is serialized using an encoding algorithm called the </a><i>Distinguished Encoding Rules (DER)</i>. When serialized, the certificate takes the form of a string of octets and is suitable for transmitting over network connections. When the certificate is to be included in email and other text documents, the octet string is base64-encoded to create a stream of ASCII characters. Since it appears as a long, random-looking string of ASCII characters, many people confuse the encoded certificate with the public key itself. You can recognize base64-encoded certificates because they are, by convention, set apart with a beginning string <span class="s70">“—BEGIN CERTIFICATE—” </span>that serves as the header and an ending string <span class="s70">“—END CERTIFICATE—” </span>that serves as the footer.<a name="bookmark454">&zwnj;</a><a name="bookmark455">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 18pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="590" height="1" alt="image" src="Image_150.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s78" style="padding-left: 32pt;text-indent: 0pt;text-align: left;"><a name="bookmark456">&gt; </a><span class="s79">Trust</span></p><p class="s80" style="padding-top: 3pt;padding-left: 30pt;text-indent: 0pt;text-align: left;">v <span class="s79">Details</span></p><p style="padding-top: 4pt;padding-left: 11pt;text-indent: 0pt;text-align: left;"><a href="http://www.windley.com/" class="s81">www.windley.com</a></p><p style="text-indent: 0pt;text-align: left;"><span><img width="595" height="76" alt="image" src="Image_151.png"/></span></p><p class="s82" style="padding-top: 2pt;padding-left: 12pt;text-indent: 0pt;line-height: 11pt;text-align: left;">E]I <span class="s83">USERTrust RSA Certification Authority</span></p><p class="s84" style="padding-left: 16pt;text-indent: 0pt;line-height: 15pt;text-align: left;">L. <span class="s85">151 </span><span class="s83">Sectigo RSA Organization Validation Secure Server CA</span></p><p style="padding-top: 1pt;padding-left: 33pt;text-indent: 0pt;text-align: left;"><span class="s86" style=" background-color: #0316A5;">L</span><span class="s87">.</span><span class="s88"> </span><span class="s89" style=" background-color: #345270;">I.il</span><span class="s90">l</span><a href="http://www.windley.com/" style=" color: #E2EDF7; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9.5pt;" target="_blank"> </a><a href="http://www.windley.com/" class="s92" target="_blank">www.windley.com</a></p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><span><img width="67" height="54" alt="image" src="Image_152.png"/></span></p><p class="s93" style="padding-top: 4pt;padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">&#39;t!Je<span style=" color: #363636;">r eat</span>e</p><p class="s95" style="padding-left: 5pt;text-indent: 0pt;line-height: 18pt;text-align: left;">(,<span class="s96">-</span>../<span style=" color: #54698E;">,</span>t<span style=" color: #54698E;">,m</span><span class="s96">-</span><span style=" color: #54698E;">lr,n-1</span></p><p style="text-indent: 0pt;text-align: left;"/><p class="s83" style="padding-top: 2pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">Issued by: Sectigo RSA Organization Validation Secure Server CA</p><p class="s83" style="padding-top: 2pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">Expires: Sunday, September 18, 2022 at 5:59:59 PM Mountain Daylight Time</p><p class="s98" style="padding-top: 2pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">0 <span class="s99">This certificate is valid</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="373" height="1" alt="image" src="Image_153.png"/></span></p><p class="s79" style="text-indent: 0pt;text-align: left;">Subject Name</p><p class="s79" style="padding-top: 4pt;padding-left: 59pt;text-indent: 0pt;text-align: left;">Country or Region <span class="s83">US</span></p><p class="s79" style="padding-top: 3pt;padding-left: 73pt;text-indent: 0pt;text-align: left;">State/Province <span class="s83">Utah</span></p><p class="s79" style="padding-top: 4pt;padding-left: 81pt;text-indent: 0pt;text-align: left;">Organization <span class="s83">PJW, LC.</span></p><p style="padding-top: 4pt;padding-left: 71pt;text-indent: 0pt;text-align: left;"><a href="http://www.windley.com/" style=" color: #0A0A0A; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 8.5pt;" target="_blank">Common Name </a><a href="http://www.windley.com/" class="s100" target="_blank">www.windley.com</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s79" style="padding-top: 6pt;padding-left: 59pt;text-indent: 23pt;line-height: 137%;text-align: left;">Issuer Name Country or Region <span class="s83">GB</span></p><p class="s79" style="padding-left: 73pt;text-indent: 0pt;text-align: left;">State/Province <span class="s83">Greater Manchester</span></p><p class="s79" style="padding-top: 3pt;padding-left: 102pt;text-indent: 0pt;text-align: left;">Locality <span class="s83">Salford</span></p><p class="s79" style="padding-top: 4pt;padding-left: 81pt;text-indent: 0pt;text-align: left;">Organization <span class="s83">Sectigo Limited</span></p><p class="s79" style="padding-top: 3pt;padding-left: 71pt;text-indent: 0pt;text-align: left;">Common Name <span class="s83">Sectigo RSA Organization Validation Secure Server CA</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s79" style="padding-left: 76pt;text-indent: 0pt;text-align: left;">Serial Number <span class="s83">58 E3 98 BA 6E 77 1E 86 09 42 74 65 98 97 62 C6</span></p><p class="s79" style="padding-top: 4pt;padding-left: 104pt;text-indent: 0pt;text-align: left;">Version <span class="s101">3</span></p><p class="s79" style="padding-top: 4pt;padding-left: 50pt;text-indent: 0pt;text-align: left;">Signature Algorithm <span class="s83">SHA-256 with RSA Encryption ( 1.2.840.113549.1.1.11)</span></p><p class="s79" style="padding-top: 4pt;padding-left: 87pt;text-indent: 0pt;text-align: left;">Parameters <span class="s83">None</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s79" style="padding-left: 3pt;text-indent: 0pt;text-align: center;">Not Valid Before <span class="s83">Tuesday, August 17, 2021 at 6:00:00 PM Mountain Daylight Time</span></p><p class="s79" style="padding-top: 3pt;padding-left: 73pt;text-indent: 0pt;text-align: left;">Not Valid After <span class="s83">Sunday, September 18, 2022 at 5:59:59 PM Mountain Daylight Time</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="183" height="1" alt="image" src="Image_154.png"/></span></p><p class="s79" style="padding-top: 5pt;padding-left: 73pt;text-indent: 0pt;text-align: left;">Public Key Info</p><p class="s79" style="padding-top: 4pt;padding-left: 94pt;text-indent: 0pt;text-align: left;">Algorithm <span class="s83">RSA Encryption ( 1.2.840.113549.1.1.1)</span></p><p class="s79" style="padding-top: 4pt;padding-left: 87pt;text-indent: 0pt;text-align: left;">Parameters <span class="s83">None</span></p><p class="s79" style="padding-top: 3pt;padding-left: 92pt;text-indent: 0pt;text-align: left;">Public Key <span class="s83">256 bytes: F6 5B 88 1A 11 76 3A 12 ...</span></p><p class="s79" style="padding-top: 4pt;padding-left: 96pt;text-indent: 0pt;text-align: left;">Exponent <span class="s83">65537</span></p><p class="s79" style="padding-top: 3pt;padding-left: 100pt;text-indent: 0pt;text-align: left;">Key Size <span class="s83">2,048 bits</span></p><p class="s79" style="padding-top: 4pt;padding-left: 91pt;text-indent: 0pt;text-align: left;">Key Usage <span class="s83">Encrypt, Verify, Wrap, Derive</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s79" style="padding-left: 95pt;text-indent: 0pt;text-align: left;">Signature <span class="s83">256 bytes : 33 05 0A 11BD 80 44 36 ...</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 144pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="409" height="1" alt="image" src="Image_155.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s102" style="padding-top: 5pt;padding-left: 94pt;text-indent: 0pt;text-align: left;">Extension <span class="s83">Key Usage ( 2.5.29.15)</span></p><p class="s79" style="padding-top: 4pt;padding-left: 105pt;text-indent: 0pt;text-align: left;">Critical <span class="s83">YES</span></p><p class="s79" style="padding-top: 3pt;padding-left: 109pt;text-indent: 0pt;text-align: left;">Usage <span class="s83">Digital Signature, Key Encipherment</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s102" style="padding-left: 94pt;text-indent: 0pt;text-align: left;">Extension <span class="s83">Basic Constraints ( 2.5.29.19)</span></p><p class="s79" style="padding-top: 4pt;padding-bottom: 3pt;padding-left: 105pt;text-indent: 0pt;text-align: left;">Critical <span class="s83">YES</span></p><p style="padding-left: 18pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="590" height="1" alt="image" src="Image_156.png"/></span></p><p class="s60" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: center;">Figure 9-5. Browser rendering of a digital certificate used for TLS</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Certificate Authorities</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark457">As we’ve discovered, a digital certificate associates identity information with a public key in a trusted package. Since the certificate issuer signs the certificate, we can easily verify that the information in the certificate has not been tampered with or otherwise modified. But how can we be certain that the identity data and public key are correctly associated? Put another way, the signature gives us confidence in the </a><i>fidelity </i>of the certificate, but how can we trust its <i>provenance</i>?<a name="bookmark458">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark459">While anyone can issue certificates using OpenSSL or some other certificate issuance API, there are trusted issuers of certificates called </a><i>certificate authorities (CAs)</i>. The CA accepts and processes applications for certificates from entities, authenticates the information that the entity provides, issues certificates, and maintains a repository of information about the certificate and its subject.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The level and quality of the validation of information about the subject depends on the application. For example, TLS certificates have three levels of validation: domain, organization, and extended. In domain validation, the CA only checks that the organization has control over the domain in question. Organization validation checks that the organization is a legally registered business. Extended validation further validates the organization’s information and location. Each level of additional validation takes more time and costs more money.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;"><a name="bookmark460">This hierarchy illustrates the organizational bias in the certificate industry. With the push to encrypt everything and get every website behind a TLS-mediated HTTP connection (</a><span class="s70">https</span><a href="https://letsencrypt.org/" class="s33" target="_blank">), certificate authorities like </a><a href="https://letsencrypt.org/" class="a" target="_blank">Let’s Encrypt</a> <a href="#bookmark456" class="s33">have sprung up to make getting a certificate easy and cheap (often free) by offering domain-validation certificates. The upside is that more and more connections are encrypted. The downside is that the certificate tells you little about the legitimacy of the website. Distinguishing a domain validation certification from an organization validation or extended validation certificate isn’t easy. For example, if you look again at </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 9-5</span>, you’ll notice nothing in the information that identifies the certificate type.<a name="bookmark461">&zwnj;</a></p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">CAs provide the following services:</p><p class="s35" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Certificate enrollment process</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">This is the process whereby entities apply for a digital certificate.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Subject authentication</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">The CA authenticates that the enrollee is really who they say they are. The level to which authentication is done depends on the level of assurance that is being promised by the certificate authority.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Certificate generation</p><p style="padding-top: 3pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">As we’ve seen, certificate generation is not a computationally complicated process. What makes this task difficult is the need to do it in a completely secure manner.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Certificate distribution</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Certificates and the private keys associated with them must be securely distributed to the enrollee.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Certificate revocation</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">When there is a question about the integrity of a certificate that has been issued (e.g., the private key has been compromised), the certificate is added to a revocation list.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Data repository</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">All of the information related to the enrollment and authentication, along with any other important information, must be kept, securely, for an agreed-upon length of time (e.g., 10 years, 100 years, etc.) in case information about the certificate and its use is questioned.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark462">The CA typically publishes policies and practices related to the above activities in a </a><i>certification practice statement (CPS)</i><a href="https://oreil.ly/NYGPU" class="s33" target="_blank">. These documents are typically understandable and not filled with too much legal jargon. Even so, they are lengthy; </a><a href="https://oreil.ly/NYGPU" class="a" target="_blank">DigiCert’s CPS</a> is 80 pages long. Most users of digital certificates have never bothered to read the CPS. If you are using certificates for a regulated purpose and need to demonstrate compliance, you might need to have your legal department (or lawyer) ensure the CPS meets the regulatory requirements.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark463">A set of standard extensions was added to version 3 of the X.509 specification to provide CAs more control over certificates. These include a </a><i>basic constraints </i>field that indicates whether the subject is a CA, a <i>certificate policy </i>field that contains a reference to the policy the CA issued the certificate under, and a <i>key usage </i>field that restricts the purpose of the key contained in the certificate. Since the key usage field is typically marked “critical,” CAs can use it to limit the usage of the general-purpose keys they issue to specific tasks such as digital signing or nonrepudiation. The key usage field keeps keys from being used for purposes that their subjects did not intend for them. A cynic would also recognize that it also helps CAs sell more certificates.<a name="bookmark464">&zwnj;</a><a name="bookmark465">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Certificate Revocation Lists</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark466">Organizations often use digital certificates to control access to critical systems that must remain confidential. For example, the State of Utah uses digital certificates to control access to some of the systems used by the state police and other public safety officials around the state. A compromise to that system could result in the loss of sensitive data or worse, so the designers used digital certificates for authentication. A natural question is, “What happens if a user loses a certificate, or it is compromised in some other way?”</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark467">As we’ve seen, X.509 certificates have a period during which the certificate is valid. When the validity period has passed, the certificate is expired. Events can transpire, however, that make a certificate invalid before it has expired. Examples include the accidental disclosure of the private key associated with the certificate, a change in the identifying information contained in the certificate, or the compromise of the CA’s private key. The compromise of a CA’s private key would invalidate all the certificates that have been signed using that private key—quite a catastrophe for the CA and its customers.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;">When a certificate is prematurely terminated, we say the certificate has been <i>revoked</i>. Using a revoked certificate is usually in conflict with the CA’s policy and could be risky since you can no longer rely on its integrity.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">When a certificate has been revoked, the CA places the certificate on a <i>certificate revocation list </i>(CRL). The CRL is a data structure that contains identifying information about the CA, a timestamp, and a list of serial numbers of all the certificates that have been revoked. The CA signs the CRL to assert its authenticity and protect it from tampering. Whenever a certificate is used, the user should obtain the most recent CRL from the CA who issued the certificate and check to see that the certificate’s serial number is not on the CRL. Of course, no one’s going to do this unless the process is automated, a practice that is spotty at best.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">CAs provide CRLs on a predefined schedule. The frequency of issuance depends on the level of assurance guaranteed by the types of certificates that are included. CRLs for low-cost certificates issued for lower-risk uses are not updated as frequently as more expensive certificates used for high-value transactions. The level of protection afforded by a particular class of certificate depends, in part, on the frequency of CRL issuance and how CRL status is to be obtained. There are three general ways that CRLs can be checked:</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_157.png"/></span></p><p style="padding-top: 8pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">The application using the certificate can ask the CA for the latest CRL. This is known as polling. The advantage is that the CRL is only transferred when it is needed. The disadvantage is that frequent polling can cause significant overhead to systems.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_158.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">The application can subscribe to a service from the CA that sends the CRL out on a predefined schedule. This ensures that the application always has the latest CRL, but an attacker may be able to block the CRL from reaching its destination and the application may be none the wiser.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_159.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">The application could query an online service provided by the CA or some other party. A protocol called Online Certificate Status Protocol (OCSP) is used for this. The advantage of this approach is that the application always has the latest information and only information relevant to the application is passed back (the status of a particular certificate).</p><p class="s55" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="http://SSL.com/" class="s33" target="_blank" name="bookmark468">Of course, all this is moot if the application does not check the CRL. Most browsers get a list of revoked certificates as application updates from time to time. A February 2021 test of popular browsers by </a><a href="http://SSL.com/" class="a" target="_blank">SSL.com</a> <a href="#bookmark518" class="s33">showed that revocation checking was spotty and mostly focused on high- priority and emergency incidents involving root and intermediate certificates.</a><a href="#bookmark518" class="s42">3</a><span class="s59"> </span><span style=" color: #000;">This means that the browser might indicate that it is securely connected to a site using TLS even if the certificate</span><a name="bookmark469">&zwnj;</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;">at that site has been compromised and revoked. You can improve this by turning OCSP on (most browsers turn it off by default). If you turn it on, however, you’ll discover why it is turned off by default: browsers often can’t reliably get CRL information about some certificates and complain every time that happens.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Certificate revocation is one of the big holes in the use of digital certificates because many applications do not support it and CAs often make it difficult, or at least expensive, to access CRLs. This is probably of minor concern for web browsers. It is a greater concern when certificates are used in authentication schemes that control access to highly sensitive applications or protect sensitive data.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">System designers often recognize that CRLs need to be part of the system but find the OCSP process is deemed too expensive—in computation or money. Ultimately, cost plays an important part in any identity system and the cost-risk trade-off can be difficult to quantify.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Public-Key Infrastructures</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark470">Public-key infrastructure (PKI) </a><span class="p">is the supporting infrastructure for digital certificates that provides policies, rules, agreed-upon standards, and interoperability guidance so that they can be widely used. PKI is a hierarchical, distributed system that provides security and scalability for global use of digital certificates.</span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">We’ve discussed many of the standards and procedures that make up the public-key infrastructure, including algorithms, X.509 certificates, CPSs, CRLs, and OCSP. If there were only one CA, this would be enough and that CA would constitute the PKI. But that single CA would be a single point of failure. Consequently, PKI is designed to include many dozens of CAs around the world and provides methods for utilizing and establishing the veracity of certificates from each of them.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark473" class="a" name="bookmark471">Figure 9-6</a> shows the hierarchical relationship that exists among CAs. In this schematic, there are two independent hierarchies of digital certificates and certificate authorities. The root of one tree is CA1, and CA2 is the root of the other; these are also known as <i>trust anchors</i>. Each of these root CAs has several subordinate CAs: CA3 and CA4 in the case of CA1. Consequently, the private key that CA3 uses to issue digital certificate DC2, for example, is signed using the private key associated with a digital certificate signed by CA1. The bidirectional arrow in the figure is meant to indicate that CA1 and CA2 have cross-certified each other, signing each other’s digital certificates.<a name="bookmark472">&zwnj;</a></p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="592" height="569" alt="image" src="Image_160.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark473">Figure 9-6. Hierarchical structures of CAs make up a PKI</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark474">When we want to check the integrity and veracity of digital certificate DC3, for example, we can use the digital certificate of CA3 to verify the signature on the certificate. We can further verify CA3 by checking to see that its digital certificate was signed by CA1, and we can check on CA1 by verifying its certificate was signed by CA2. The dashed-line arrows in the diagram represent this series of checks, which is called a </a><i>certification path</i>.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Whenever we are presented with a digital certificate, we can, in theory, discover its certification path as a way of checking its validity. The algorithm for performing a validity check is given in the IETF RFC 5280 specification. In practice, checking the certification path can be computationally expensive. Solving it once might not be overly expensive, but checking each time the application uses the certificate probably is. Most applications don’t regularly check the full path each time but rather cache the result.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark475">In practice, cross-certification between CAs is rare. Instead, applications usually check that the</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;"><a name="bookmark477">root certificate is from a known, trusted CA. How does a browser, for example, know which CAs to trust? An organization called Certificate Authority/Browser Forum or CA/Browser Forum includes digital certificate companies, operating system vendors, browser vendors, and others with an interest in PKI. The CA/Browser Forum publishes guidelines governing the issuance and management of digital certificates. Browser and OS vendors use these guidelines to determine which root CAs they will include in their software.</a></p><p class="s55" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark476" class="a">Figure 9-7</a> <span style=" color: #000;">shows the certificate validation path for the current certification used for TLS on</span></p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: italic; font-weight: normal; text-decoration: underline; font-size: 12pt;">windley.com</span>.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 74pt;text-indent: 0pt;text-align: left;"><span><img width="440" height="58" alt="image" src="Image_161.jpg"/></span></p><p style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a href="http://windley.com/" class="s135" target="_blank" name="bookmark476">Figure 9-7. Certification validation path for </a><a href="http://windley.com/" class="s52" target="_blank">windley.com</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="http://windley.com/" class="s33" target="_blank">You can, if you’re curious, check out the details for each of the certificates in the path. The certificate for </a><a href="http://windley.com/" class="a" target="_blank">windley.com</a> <a href="http://Windley.com/" class="s33" target="_blank">is signed by a certificate from Sectigo, which is signed by a certificate from USERTrust. </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Windley.com</span><a href="http://windley.com/" class="s33" target="_blank">’s certificate is trustworthy because Sectigo says it is. Sectigo’s certificate is trustworthy because USERTrust says it is. And USERTrust’s certificate is trustworthy (on my laptop) because Apple says it is. If you use a different OS, they could decide to not include USERTrust’s certificate, and then you would not see a lock in your browser when visiting </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">windley.com</span><span style=" color: #000;">. Of course, that would be devastating for USERTrust’s business, so they work very hard to remain trustworthy according to CA/Brower Forum’s guidelines.</span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">MacOS stores the root certificates of CAs they trust in the Keychain. Windows 10 has a program called Certificate Manager. On Debian-based Linux systems, root certificates are stored in the</p><p class="s49" style="padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;">/etc/ssl/certs <span class="p">folder along with a file called </span>ca-certificates.crt<span class="p">. Individual applications, including browsers, could, but usually don’t, keep their own registries of trusted certificates. You can manually add certificates to your OS for development or other purposes. For example, I sometimes use an HTTP proxy for development to show the HTTP traffic on the wire. Using it for a TLS-protected site requires that I install a certificate that the proxy generates in the OS as a trusted certificate. In this way, the proxy can perform what amounts to a man-in- the-middle attack on my browser traffic.</span></p><p class="s55" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark478" class="a">Figure 9-8</a> <span style=" color: #000;">shows a partial list of trusted root certificates listed in Keychain Access for macOS. I’ve highlighted USERTrust’s RSA certificate. You can see that it doesn’t expire until 2038.</span></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="http://windley.com/" class="s33" target="_blank">Root certificates are usually very long-lived because we don’t rely on their expiration for protection. Instead, we assume the OS vendor, Apple in this case, will add, update, or remove certificates in OS updates when needed. Certificates further down the certification path have shorter expiration dates. The Sectigo RSA certificate expires in 2030, and the certificate for </a><a href="http://windley.com/" class="a" target="_blank">windley.com</a> <span style=" color: #000;">expires in 2022. TLS certificates typically expire in one year so that browsers don’t have to rely as much on revocation, and CAs don’t have to perform revocation, when a domain name changes ownership.</span></p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="592" height="669" alt="image" src="Image_162.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark478">Figure 9-8. USERTrust RSA certificate stored in Keychain Access on macOS</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Zero-Knowledge Proofs</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark479">Suppose Peggy needs to prove to Victor that she is in possession of a secret without revealing the secret. Can she do so in a way that convinces Victor that she really does know the secret? This is the question at the heart of one of the most powerful cryptographic processes we can employ in identity systems: </a><i>zero-knowledge proofs (ZKPs)</i>. Suppose, for example, that Peggy has a digital driver’s license and wants to prove to Victor, the bartender, that she’s over 21 without just</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: justify;">handing over her driver’s license or even showing him her birth date. ZKPs allow Peggy to prove her driver’s license says she’s at least 21 in a way that convinces Victor without Peggy having to reveal anything else (i.e., there’s zero <i>excess </i>knowledge).</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark480">This problem was first explored by MIT researchers Shafi Goldwasser, Silvio Micali, and Charles Rackoff in the 1980s as a way of combatting information leakage. The goal is to reduce the amount of </a><i>extra </i>information the verifier, Victor, can learn about the prover, Peggy.</p><p class="s59" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;"><a href="#bookmark519" class="s33" name="bookmark481">One way to understand how ZKPs work is through the story of the Cave of Alibaba, first published by cryptographers Quisquater et al.</a><a href="#bookmark519" class="s42">4</a> <a href="#bookmark482" class="s33">as shown in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 9-9</span><span class="p">.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="592" height="341" alt="image" src="Image_163.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark482">Figure 9-9. Peggy and Victor in Alibaba’s Cave</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The Cave of Alibaba has two passages, labeled A and B, that split off a single passageway connected to the entrance. Peggy possesses a secret code that allows her to unlock a door connecting A and B. Victor wants to buy the code but won’t pay until he’s sure Peggy knows it. Peggy won’t share it with Victor until he pays.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">The algorithm for Peggy proving she knows the code proceeds as follows:</p><ol id="l12"><li><p style="padding-top: 10pt;padding-left: 29pt;text-indent: -15pt;line-height: 109%;text-align: left;">Victor stands outside the cave while Peggy enters and selects one of the passages. Victor is not allowed to see which path Peggy takes.</p></li><li><p style="padding-top: 7pt;padding-left: 29pt;text-indent: -15pt;text-align: left;">Victor enters the cave and calls out “A” or “B” at random.</p></li><li><p style="padding-top: 9pt;padding-left: 29pt;text-indent: -15pt;line-height: 109%;text-align: left;">Peggy emerges from the correct passageway because she can easily unlock the door regardless of which choice she made when entering.</p></li><li><p style="padding-top: 7pt;padding-left: 29pt;text-indent: -15pt;line-height: 109%;text-align: left;">Of course, Peggy could have just gotten lucky and guessed right, so Peggy and Victor repeat the experiment many times.</p></li></ol><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark483">If Peggy can always come back by whichever passageway Victor selects, then Victor can know with increasing probability that Peggy really knows the code. After 20 tries, there’s less than one chance in a million (2</a><span class="s103">20</span>) that Peggy is simply guessing which letter Victor will call. This constitutes a <i>probabilistic proof </i>that Peggy knows the secret.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">This algorithm not only allows Peggy to convince Victor she knows the code, but it does it in a way that ensures Victor can’t convince anyone else Peggy knows the code. Suppose, for example, that Victor records the entire transaction. The only thing an observer sees is Victor calling out letters and Peggy emerging from the right tunnel. The observer can’t be sure Victor and Peggy didn’t agree on a sequence of letters in advance to fool observers. Note that this property relies on the algorithm using a good PRNG with a high information entropy seed so that Peggy and third-party observers can’t predict Victor’s choices.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Thus, while Peggy cannot deny to Victor that she knows the secret, she can deny that she knows the secret to other third parties. This ensures that anything she proves to Victor stays between them and Victor cannot leak it—at least in a cryptographic way that proves it came from Peggy. Peggy retains control of both her secret and the fact that she knows it.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">When we say “zero knowledge” and talk about Victor learning nothing beyond the proposition in question, that’s not perfectly true. In the Cave of Alibaba, Peggy proves in zero knowledge that she knows the secret. But there are many other things that Victor learns about Peggy that ZKPs can do nothing about. For example, Victor knows that Peggy can hear him, speak his language, and walk, and that she is cooperative. He also might learn things about the cave, like approximately how long it takes to unlock the door. Peggy learns similar things about Victor. So, the reality is that the proof is <i>approximately </i>zero knowledge not <i>perfectly </i>zero knowledge.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">ZKP Systems</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark484">The example of Alibaba’s Cave is a very specific use of ZKPs, what’s called a </a><i>zero-knowledge proof of knowledge</i>. Peggy is proving she knows (or possesses) something. More generally, Peggy might want to prove many facts to Victor. These could include propositional phrases or even values. ZKPs can do that as well.<a name="bookmark485">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">To understand how we can prove propositions in zero knowledge, consider a different example, sometimes called the socialist millionaire problem. Suppose Peggy and Victor want to know if they’re being paid a fair wage. Specifically, they want to know whether they are paid the same amount, but they don’t want to disclose their specific hourly rate to each other or even a trusted third party. In this instance, Peggy isn’t proving she knows a secret; rather, she’s proving an equality (or inequality) proposition.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">For simplicity, assume that Peggy and Victor are being paid one of $10, $20, $30, or $40 per hour. The algorithm works like this:</p><ol id="l13"><li><p style="padding-top: 8pt;padding-left: 29pt;text-indent: -15pt;text-align: left;">Peggy buys four lock boxes and labels them $10, $20, $30, and $40.</p></li><li><p style="padding-top: 9pt;padding-left: 29pt;text-indent: -15pt;text-align: left;">She throws away the keys to every box except the one labeled with her wage.</p></li><li><p style="padding-top: 3pt;padding-left: 29pt;text-indent: -15pt;line-height: 109%;text-align: left;">Peggy gives all the locked boxes to Victor, who privately puts a slip of paper with a “+” into the slot at the top of the box labeled with his salary. He puts a slip with a “–” in all the other boxes.</p></li><li><p style="padding-top: 7pt;padding-left: 29pt;text-indent: -15pt;line-height: 109%;text-align: left;">Victor gives the boxes back to Peggy, who uses her key in private to open the box with her salary on it.</p></li><li><p style="padding-top: 7pt;padding-left: 29pt;text-indent: -15pt;line-height: 109%;text-align: left;">If she finds a “+” then they make the same amount. Otherwise, they make a different amount. She can use this to prove the fact to Victor.</p></li></ol><p style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark486">This is called an </a><i>oblivious transfer </i>and proves the proposition <span class="s70">VictorSalary = PeggySalary </span>true or false in zero knowledge (i.e., without revealing any other information).</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">For this to work, Peggy and Victor must trust that the other will be forthcoming and state their real salary. Victor needs to trust that Peggy will throw away the three other keys. Peggy must trust that Victor will put only one slip with a “+” on it in the boxes.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1024" class="s33">Just like digital certificates need a PKI to establish confidence beyond what would be possible with self-issued certificates alone, ZKPs are more powerful in a system that allows Peggy and Victor to prove facts from things others say about them, not just what they say about themselves. For example, rather than Peggy and Victor self-asserting their salary, suppose they could rely on a signed document from the human resources department in making their assertion so that both know that the other is stating their true salary. In </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 16</span>, we’ll discuss verifiable credentials, a system that uses ZKPs to prove many different facts alone or in concert, in ways that give confidence in the method and trust in the data.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Noninteractive ZKPs</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark487">In the previous examples, Peggy was able to prove things to Victor through a series of interactions. For ZKPs to be practical, interactions between the prover and the verifier should be minimal. Fortunately, a technique called </a><i>SNARK </i>allows for noninteractive ZKPs.<a name="bookmark488">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">SNARKs have the following properties (from whence they derive their name):</p><p class="s35" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Succinct</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">The sizes of the messages are small compared to the length of the actual proof.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Noninteractive</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">Other than some setup, the prover sends only one message to the verifier.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">ARguments</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">This is really an argument that something is correct, not a proof as we understand it mathematically. Specifically, the prover theoretically could prove false statements given enough computational power. So, SNARKs are “computationally sound” rather than</p><p style="padding-top: 3pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">“perfectly sound.”</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">of Knowledge</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">The prover knows the fact in question.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">You’ll typically see “zk” (for zero-knowledge) tacked on the front to indicate that during this process the verifier learns nothing other than the facts being proved.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/Iol7R" class="s33" target="_blank">The mathematics underlying zkSNARKs involves homomorphic computation over high-degree polynomials. But we can understand how zkSNARKs work without knowing the complicated mathematics of homomorphic computation that ensures that they’re sound. If you’d like more details of the mathematics, I recommend Christian Reitwiessner’s Ethereum post </a><a href="https://oreil.ly/Iol7R" class="a" target="_blank">“zkSNARKs in</a><a href="https://oreil.ly/Iol7R" class="s36" target="_blank"> </a><a href="https://oreil.ly/Iol7R" class="a" target="_blank">a Nutshell”</a><a href="https://oreil.ly/Iol7R" class="s33" target="_blank">.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">As a simple example, suppose Victor is given a <span class="s70">sha256 </span>hash, <span class="s70">H</span>, of some value. Peggy wants to prove that she knows a value <span class="s70">s </span>such that <span class="s70">sha265(s) == H </span>without revealing <span class="s70">s </span>to Victor. We can define a function <span class="s70">C </span>that captures the relationship:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s76" style="padding-left: 17pt;text-indent: 0pt;text-align: left;">C(x, w) = ( sha256(w) == x )</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">So, <span class="s70">C(H, s) == true</span>, while other values for <span class="s70">w </span>will return <span class="s70">false</span>.</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark489">Computing a zkSNARK requires three functions: </a><span class="s70">G</span>, <span class="s70">P</span>, and <span class="s70">V</span>. <span class="s70">G </span>is the key generator that takes a secret parameter called <span class="s70">lambda </span>and the function <span class="s70">C </span>and generates two public keys, the <i>proving key </i><span class="s70">pk </span>and the <i>verification key </i><span class="s70">vk</span>. They need only be generated once for a given function <span class="s70">C</span>. The parameter <span class="s70">lambda </span>must be destroyed after this step since it is not needed again and anyone who has it can generate <i>fake </i>proofs.<a name="bookmark490">&zwnj;</a><a name="bookmark491">&zwnj;</a></p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">The prover function <span class="s70">P </span>takes as input the proving key <span class="s70">pk</span>, a public input <span class="s70">x</span>, and a private (secret) <i>witness </i><span class="s70">w</span>. The result of executing <span class="s70">P(pk,x,w) </span>is a proof, <span class="s70">prf</span>, that the prover knows a value for <span class="s70">w </span>that satisfies <span class="s70">C</span>.</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">The verifier function <span class="s70">V </span>computes <span class="s70">V(vk, x, prf)</span>, which is true if the proof <span class="s70">prf </span>is correct and false otherwise.</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Returning to Peggy and Victor, Victor chooses a function <span class="s70">C </span>representing what he wants Peggy to prove, creates a random number <span class="s70">lambda</span>, and runs <span class="s70">G </span>to generate the proving and verification keys:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s76" style="padding-left: 17pt;text-indent: 0pt;text-align: left;">(pk, vk) = G(C, lambda)</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Peggy must not learn the value of <span class="s70">lambda</span>. Victor shares <span class="s70">C</span>, <span class="s70">pk</span>, and <span class="s70">vk </span>with Peggy.</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Peggy wants to prove she knows the value <span class="s70">s </span>that satisfies <span class="s70">C </span>for <span class="s70">x = H</span>. She runs the proving function <span class="s70">P </span>using these values as inputs:</p><p class="s76" style="padding-top: 3pt;padding-left: 17pt;text-indent: 0pt;text-align: left;">prf = P(pk, H, s)</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: justify;">Peggy presents the proof <span class="s70">prf </span>to Victor, who runs the verification function:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s76" style="padding-left: 17pt;text-indent: 0pt;text-align: left;">V(vk, H, prf)</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: justify;">If the result is true, then Victor can be assured that Peggy knows the value <span class="s70">s</span>.</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">The function <span class="s70">C </span>does not need to be limited to a hash as we did in this example. Within limits of the underlying mathematics, <span class="s70">C </span>can be quite complicated and involve any number of values that Victor would like Peggy to prove, all at one time.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">Blockchain Basics</p><p class="s59" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark520" class="s33" name="bookmark492">Blockchains are one of the most exciting—and controversial—new technologies of the last decade.</a><a href="#bookmark520" class="s42">5</a> <span class="p">They are increasingly being used in identity systems as people search for architectures that are more decentralized. And blockchains make use of many of the cryptographic techniques and algorithms we’ve discussed in this chapter, so they give us a good example to see how cryptography is used inside a larger, more complicated system with specific goals.</span><a name="bookmark493">&zwnj;</a><a name="bookmark494">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">A blockchain-like protocol was first proposed by David Chaum in 1982. Stuart Haber and W. Scott Stornetta further advanced the concept of a secure chain of blocks in the early ’90s and, along with Dave Bayer, improved and commercialized it in 1995 as Surety, Inc. Satoshi Nakamoto (whoever they are) conceptualized the first modern blockchain in 2008 as part of their design for a decentralized digital cash system called Bitcoin.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Decentralized Consensus</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark495">Whenever multiple computer systems are cooperating, they need a way to achieve consensus and make group decisions about values. If you’ve used Google Docs with other people in a simultaneous editing session, you’ve seen decentralized consensus in action. Multiple parties might try editing the same section at the same time. Eventually, they’ll all see the same document because Google Docs is a way to achieve consensus on written documents with multiple authors.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Notice that I didn’t say they’d all see the <i>right </i>document, because Google Docs doesn’t have any way to know what “right” is. If you substitute “red” for the word “blue” and your coeditor substitutes “green” for the same word at about the same time, you will both eventually see either “red” or “green” in the document. But there’s no guarantee which word will win out. Consensus isn’t about finding the right value; it’s about getting the <i>same value</i>.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Another takeaway from the Google Docs example is that I used the word “eventually” to describe the consensus result. Decentralized consensus mechanisms come to consensus over time. This makes sense when you consider inevitable network delays. If you can’t live with eventual consistency, then your only other choice is to employ locks that block computation from happening while the various nodes in the system reach consensus.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-top: 4pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Byzantine Failure and Sybil Attacks</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark496">There are many algorithms for reaching consensus in distributed and decentralized systems. The one Google Docs uses, for example, is related to a class of algorithms called </a><i>conflict-free replicated data types </i>(CRDTs). Another widely used algorithm is Leslie Lamport’s Paxos algorithm.<a name="bookmark497">&zwnj;</a><a name="bookmark498">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;">CRDTs and Paxos are both designed to reach consensus despite nodes leaving or joining the system, network failures, and other problems we might expect in a decentralized system. But they are not built to resist malicious nodes that are actively trying to subvert consensus.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The Byzantine Empire was known for intrigue and political plotting. Thus, when Lamport was looking for an allegory to illustrate the problem of reaching consensus with participants who are acting in bad faith, he called it the “Byzantine Generals Problem,” and failure where actors can report false values is known as Byzantine failure. While there are several excellent examples of algorithms that exhibit Byzantine fault tolerance, Bitcoin’s blockchain uses one that is particularly interesting.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;">Say you want to create a digital currency like Bitcoin that has no central point of control. It’s distributed, decentralized, and heterarchical. One of the primary problems is creating a ledger that tells everyone how much Bitcoin everyone else has, although:</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_164.png"/></span></p><p style="padding-top: 8pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">Some people may lie.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_165.png"/></span></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">Nobody is available to arbitrate disputes.</p><p class="s59" style="padding-top: 10pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark521" class="s33" name="bookmark499">The classic way to solve the problem, described by Lamport in his 1982 paper</a><a href="#bookmark521" class="s42">6</a> <span class="p">on the Byzantine Generals Problem, is to use majority voting. But voting doesn’t work when bad actors can introduce new nodes at will. They simply overwhelm the voting system with votes in their favor. This is called a Sybil attack.</span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Bitcoin presents a classic Byzantine-Sybil consensus problem (i.e., maintaining a correct ledger) where some actors have impure motives and may come and go at will. Bitcoin and other blockchains achieve consensus in a decentralized system under these harsh conditions.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Building a Blockchain</p><p class="s59" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;"><a href="#bookmark522" class="s33" name="bookmark500">Bitcoin’s solution to the two problems listed above is a particularly ingenious algorithm. Let’s explore how it works by designing our own crypto currency.</a><a href="#bookmark522" class="s42">7</a> <span class="p">We’ll call our hypothetical cryptocurrency “YCoin.”</span><a name="bookmark501">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s104" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Problem 1: Sending money</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The first problem we need to solve is how to send money. Suppose Alice wants to send one YCoin to Bob. Alice can create a message that says, “Alice sends one YCoin to Bob,” and sign it with her private key.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_166.png"/></span></p><p style="padding-top: 3pt;padding-left: 29pt;text-indent: -24pt;line-height: 174%;text-align: left;">As we learned earlier, this allows anyone with Alice’s public key to: Verify that she (and only she) sent it.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_167.png"/></span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 13pt;text-align: left;">Protect themselves from Alice repudiating the transfer.</p><p style="padding-top: 10pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">These are two critical properties. But what if Bob gets two such messages? Did Alice send him two YCoins? Or was the message accidentally duplicated?</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s104" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Problem 2: Uniquely identifying coins</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The problem of uniquely identifying coins is simple to solve. Alice can ensure that each YCoin she sends has a unique serial number.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The typical way to do this is to create a bank. The bank issues serial numbers (i.e., transaction IDs) and keeps track of who owns which serial numbers. The bank is entrusted to ensure the ledger is up to date and accurate. Institutions are one of society’s methods for moving trust out of the personal realm so that strangers can transact with each other.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;">When Alice sends a YCoin with serial number 156 to Bob, he can contact the bank and ensure that the serial number is valid, that Alice is the current holder of the YCoin with serial number 156, and that no one else is claiming it. When he accepts it, the bank updates its ledger to show that Bob now owns YCoin 156.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s104" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Problem 3: Distributing the bank</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">But we want a solution with no central bank, so we need to do something more ambitious.</p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Suppose that instead of checking with the bank when Alice sends him a YCoin, Bob checks with everyone else who has YCoins. Everyone is keeping track of who owns which YCoins in a shared, public ledger called the blockchain.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Alice and Bob are identified by their public keys. When Bob receives the message from Alice, he can use her public key to check that the message came from Alice and also check his copy of the blockchain to ensure Alice really owns YCoin 156. If she does, then he broadcasts Alice’s message and his acceptance of the YCoin to the entire network. Anyone can use Alice’s public key to validate her message.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Upon receiving Bob’s message, everyone in the network updates their copy of the ledger to remove YCoin 156 from Alice’s balance and add it to Bob’s.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Note that at this point we can conveniently drop serial numbers. Since there’s a single, shared ledger, we simply remove some amount (even fractional amounts are OK) of YCoin from Alice’s record on the ledger and add it to Bob’s. No serial numbers needed.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">This all works great, unless Alice is dishonest (in other words, Byzantine).</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s104" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Problem 4: Preventing double spending</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">What if Alice tries to spend the same YCoin with Bob and Charlie? You might think this is difficult since everyone would notice, but what if Alice takes advantage of a network partition or</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">latency? She could convince both Bob and Charlie that they own the YCoin she’s transferring and collect whatever she’s exchanging it for before anyone notices there’s a problem.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The answer, not surprisingly, is a two-phase acceptance algorithm. Rather than merely accepting Alice’s transfer at face value, both Bob and Charlie broadcast the transaction to the entire network for verification. Other members of the network check to see if Alice has the coin and hasn’t spent it.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">In a double spending scenario, some network members would see Bob’s transaction first and others would see Charlie’s. Since the traditional answer to Byzantine failure is majority voting, only one of the transactions would be approved and the ledger will eventually be updated accordingly.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s104" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Problem 5: Stopping network hijacking</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Alice can still double spend using the previous solution if she can take over the network by adding her own nodes that propagate her lies. That is, she can launch a Sybil attack.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Alice can succeed because validation is based on a voting system. Anyone with a node on the YCoin network can vote, and nodes can come and go as they please. Virtual machines and proxies make adding nodes cheap—potentially cheaper than the money Alice can make with fraudulent YCoin transactions.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">We can make cheating more expensive by allowing validation only after the validator has expended a certain amount of effort—called <i>proof of work</i>—to show they aren’t just a small virtual machine or network proxy.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;">Because Alice must do real work to validate her fraudulent transaction, she can only do so if she controls more than half of the computing power of the entire YCoin network. Provided there are many participants, this is impractical because it is too expensive.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">In a proof-of-work scheme, before a node on the network can validate a transaction it must solve a cryptographic puzzle. The puzzle involves finding a value called a nonce such that when the nonce is appended to the YCoin message and hashed, the first <span class="s70">n </span>digits of the result are all zeros.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 107%;text-align: left;">This sounds arbitrary but it has the clever property of allowing the amount of work to be adjusted according to the needs of the network at any given time by varying <span class="s70">n</span>. Larger values of <span class="s70">n </span>will require more computation to find a suitable hash.</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Recall that hashing is irreversible. Consequently, the only way to search for a hash with a particular value is to try every possible computation. This is what is called <i>mining </i>in Bitcoin. Various parties compete to validate blocks by solving the cryptographic puzzle.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">But if solving these cryptographic puzzles costs real money, why do nodes do it? One of Satoshi Nakamoto’s clever design features was to reward miners for solving the puzzle. In our iterative development of a solution, we imagined solving the Byzantine fault problem with voting and the Sybil attack problem with proof of work. But that’s not how real blockchains work. Instead, they solve both problems at the same time. So, only the miner who validates a block gets the reward.</p><p class="s104" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Problem 6: Ordering transactions and handling disagreements</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The YCoin network should agree on the ordering of transactions so we know, at any given time, who owns exactly what. This means that there’s just one ledger even though there are many copies of it.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">We call it a blockchain because it’s literally a chain of blocks. Each new block contains a batch of new transactions. Rather than merely validating individual transactions, the network groups them into blocks, and as each block is validated, it is added to a chain so that everyone agrees on a precise order of blocks.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Digital signatures are used to sign the block. Before it’s signed, the block is combined with a hash of the previous block so that anyone can validate the ordering cryptographically.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Under the right circumstances, the chain can be extended by two blocks at the same time, creating a fork and causing the problem we’re trying to avoid. Some people would see one version of the ledger and others another. These ledgers would agree with each other except at the end.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark502">The network can deal with forks by keeping track of them but agreeing to only extend the longest chain. Because of the probabilistic nature of the proof-of-work problem, one fork will get longer and become the winning chain, ensuring there’s only one, linear chain that completely orders all transactions. In Bitcoin, once a block is six deep in the blockchain, it is considered “settled,” since the probability another fork is going to be accepted is vanishingly small.</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Other Ways of Countering Sybil Attacks</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark503">Proof of work is not the only way to deal with the Sybil attack in ledger systems. In fact, proof of work is controversial because the work is real, consuming large amounts of electricity and potentially contributing to climate change.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark504">Another way to prevent Sybil attacks is called </a><i>proof of stake</i>. In proof of stake, nodes are still rewarded. But to participate, nodes are required to stake some amount of cryptocurrency against their good behavior. If the network algorithmically detects bad behavior, then some or all of the stake is forfeit. The Ethereum blockchain is moving from proof of work to proof of stake consensus in 2022, making it the largest blockchain to do so.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark505">The third way to solve the problem is using what’s broadly called </a><i>proof of authority</i>. Recall that the problem is that Alice can set up multiple nodes. Proof of authority requires each node to have approval to participate. There are various schemes for determining how approval is granted.</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Nodes might earn the right algorithmically in a kind of reputation system. Or they might be granted authority from some institution. We’ll discuss this more in the next section.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Classifying Blockchains</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark506">There are numerous designs and architectures for blockchains. One way to classify them is by looking at how validation is done and how access is handled. As we just saw, transactions are validated when nodes add new blocks to the chain. Blockchains using proof of work or proof of</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">stake can be classified as <i>permissionless</i>; no permission is needed to participate. Blockchains using proof of authority can be classified as <i>permissioned</i>, regardless of whether that authority is institutional or algorithmic.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark507">Similarly, some blockchains restrict access, for reading, writing, or both, to specific parties. They are said to be </a><i>private </i>blockchains. Blockchains without such restrictions on access are <i>public</i>.<a name="bookmark508">&zwnj;</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;">Note that it doesn’t make sense to be private and permissionless.</p><p class="s55" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark509" class="a">Figure 9-10</a> <span style=" color: #000;">shows an access-validation matrix with a few examples in each box. There are dozens, maybe hundreds of blockchains that could be put in any of the three boxes. I’ve chosen a few examples for each box for discussion.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="445" height="358" alt="image" src="Image_168.jpg"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s60" style="padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark509">Figure 9-10. Classifying blockchains</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark510">Bitcoin and Ethereum are both well-known examples of </a><i>public-permissionless </i>blockchains. Anyone can run a node and anyone can inspect the ledger.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark511">Sovrin Network is an example of a </a><i>public-permissioned </i>blockchain. Anyone can read and write to the network, but validator nodes are governed by a public governance framework maintained by the nonprofit Sovrin Foundation. Only organizations that agree to abide by the governance framework can run a validator node.<a name="bookmark512">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark513">R3’s Corda is an example of a </a><i>private-permissioned </i>blockchain. A group of organizations can run a Corda blockchain for their own purpose. Only members of the group can read and write to the blockchain, and validator nodes are chosen by the group’s participants.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Should You Use a Blockchain?</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark514">As blockchain technology has become popular, it has been used by many groups and organizations for numerous purposes beyond cryptocurrency. As is the case with any new technology, some of those use cases are questionable. There might be other, less complicated and costly ways to achieve consensus than by using a blockchain.</a><a name="bookmark515">&zwnj;</a></p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark514" class="s33">The flowchart shown in </a><a href="#bookmark514" class="a">Figure 9-11</a> <span style=" color: #000;">can help evaluate whether a blockchain is the right answer for a particular problem.</span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Don’t view the boxes on the left of the diagram as strict gates. Answering one “no” doesn’t necessarily mean you don’t want to choose a blockchain for your project. Instead, the prompts inside the boxes will force you to think about the choices you’re making.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="562" height="56" alt="image" src="Image_169.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="0" height="40" alt="image" src="Image_170.png"/></span></p><p class="s105" style="text-indent: 0pt;line-height: 22pt;text-align: left;">.</p><p style="text-indent: 0pt;text-align: left;"/><table style="border-collapse:collapse" cellspacing="0"><tr style="height:16pt"><td style="width:148pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:2pt" rowspan="2"><p class="s106" style="padding-top: 8pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">Do you need a distributed</p></td><td style="width:44pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:229pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:2pt" rowspan="3"><p class="s106" style="padding-top: 5pt;padding-left: 27pt;padding-right: 31pt;text-indent: 0pt;line-height: 90%;text-align: center;">Blockchains provide a historically cons<span style=" color: #262121;">i</span>stentdata s<span style=" color: #262121;">t</span>ore.</p><p class="s108" style="padding-left: 27pt;padding-right: 31pt;text-indent: 0pt;line-height: 9pt;text-align: center;">Consider: spreadsheets, database</p></td></tr><tr style="height:11pt"><td style="width:44pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-right-style:solid;border-right-width:2pt" rowspan="2"><p class="s109" style="padding-right: 2pt;text-indent: 0pt;line-height: 47%;text-align: right;">.<span class="s110">...</span></p></td></tr><tr style="height:13pt"><td style="width:148pt;border-top-style:solid;border-top-width:1pt;border-right-style:solid;border-right-width:2pt"><p class="s106" style="padding-left: 23pt;text-indent: 0pt;line-height: 7pt;text-align: left;">historical data store?</p></td></tr></table><p style="text-indent: 0pt;text-align: left;"/><p class="s111" style="padding-top: 12pt;text-indent: 0pt;line-height: 28pt;text-align: center;">+</p><p class="s112" style="padding-left: 49pt;text-indent: 0pt;line-height: 55%;text-align: left;">Willmore than one <span class="s113">...</span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="568" height="56" alt="image" src="Image_171.png"/></span></p><p class="s114" style="text-indent: 0pt;line-height: 30pt;text-align: left;">          +        </p><p style="text-indent: 0pt;text-align: left;"/><p class="s115" style="text-indent: 0pt;line-height: 13pt;text-align: left;">Consider: database</p><p style="text-indent: 0pt;text-align: left;"/><p class="s112" style="text-indent: 0pt;line-height: 90%;text-align: center;">Is it acceptable that entries cannot be changed or deleted?</p><p class="s116" style="text-indent: 0pt;line-height: 26pt;text-align: center;">+</p><p style="text-indent: 0pt;text-align: left;"/><p class="s117" style="text-indent: 0pt;line-height: 17pt;text-align: left;">...</p><p style="text-indent: 0pt;text-align: left;"/><p class="s112" style="padding-top: 1pt;padding-left: 35pt;text-indent: -10pt;line-height: 88%;text-align: left;">Blockchains do not allow modifications of data and are strongly auditable.</p><p class="s118" style="text-indent: 0pt;line-height: 12pt;text-align: left;">                   Consider: shared database                </p><p style="text-indent: 0pt;text-align: left;"/><p class="s119" style="padding-left: 21pt;text-indent: 0pt;line-height: 11pt;text-align: left;"> organization contribute data?  </p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s112" style="padding-left: 17pt;text-indent: 8pt;line-height: 90%;text-align: left;">Blockchains are typically used when data comes from multiple orginiz<span style=" color: #3B2F2F;">t</span>aions<span style=" color: #3B2F2F;">.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="568" height="57" alt="image" src="Image_172.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="306" height="0" alt="image" src="Image_173.png"/></span></p><p class="s112" style="text-indent: 0pt;line-height: 92%;text-align: center;">Can ALL data be shared among all users for all time?</p><p class="s116" style="text-indent: 0pt;line-height: 26pt;text-align: center;">+</p><p style="text-indent: 0pt;text-align: left;"/><p class="s121" style="text-indent: 0pt;line-height: 21pt;text-align: left;">.</p><p style="text-indent: 0pt;text-align: left;"/><p class="s122" style="text-indent: 0pt;line-height: 17pt;text-align: left;">...</p><p style="text-indent: 0pt;text-align: left;"/><p class="s112" style="padding-top: 1pt;text-indent: 0pt;line-height: 88%;text-align: center;">Sensitive informa<span style=" color: #262121;">t</span>ionshould never be written toa blockchain, even in has<span style=" color: #262121;">h</span>ed form<span style=" color: #262121;">.</span></p><p class="s115" style="text-indent: 0pt;line-height: 12pt;text-align: center;">Consider<span style=" color: #604D4D;">: </span>shared database</p><p style="text-indent: 0pt;text-align: left;"/><table style="border-collapse:collapse" cellspacing="0"><tr style="height:16pt"><td style="width:148pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:2pt" rowspan="2"><p class="s106" style="padding-top: 6pt;padding-left: 17pt;padding-right: 15pt;text-indent: 2pt;line-height: 13pt;text-align: left;">Is there contention over control of the data store?</p></td><td style="width:44pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt" colspan="2"><p class="s125" style="text-indent: 0pt;line-height: 15pt;text-align: right;">.<span class="s126">...</span></p></td><td style="width:4pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:226pt;border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt" rowspan="3"><p class="s106" style="padding-top: 1pt;padding-left: 3pt;text-indent: 0pt;line-height: 87%;text-align: center;">lockchains are designed for use inplaces where single-party control over the data is not possibl<span style=" color: #262121;">.</span>e <span class="s108">Consider</span><span class="s127">: </span><span class="s108">shared database</span></p></td></tr><tr style="height:13pt"><td style="width:4pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:40pt;border-top-style:solid;border-top-width:1pt;border-right-style:solid;border-right-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:4pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt" rowspan="2"><p style="text-indent: 0pt;text-align: left;"><br/></p></td></tr><tr style="height:10pt"><td style="width:192pt;border-right-style:solid;border-right-width:1pt" colspan="3"><p style="text-indent: 0pt;text-align: left;"><br/></p></td></tr></table><p style="text-indent: 0pt;text-align: left;"/><table style="border-collapse:collapse" cellspacing="0"><tr style="height:17pt"><td style="width:148pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:2pt" rowspan="2"><p class="s106" style="padding-top: 5pt;padding-left: 8pt;text-indent: -4pt;line-height: 88%;text-align: left;">Do you need a tamperproof log of all writes to the data store?</p></td><td style="width:44pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s128" style="padding-right: 3pt;text-indent: 0pt;line-height: 16pt;text-align: right;">.<span class="s129">.</span></p></td><td style="width:230pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt" rowspan="3"><p class="s106" style="padding-top: 3pt;padding-left: 19pt;padding-right: 15pt;text-indent: 0pt;line-height: 14pt;text-align: center;">Blockchains are strongly auditable.</p><p class="s108" style="padding-left: 19pt;padding-right: 15pt;text-indent: 0pt;line-height: 13pt;text-align: center;">Consider: shared database</p></td></tr><tr style="height:15pt"><td style="width:44pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:2pt;border-right-style:solid;border-right-width:1pt" rowspan="2"><p style="text-indent: 0pt;text-align: left;"><br/></p></td></tr><tr style="height:6pt"><td style="width:148pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt" rowspan="2"><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 25pt;text-indent: 0pt;line-height: 13pt;text-align: left;"><span class="s130" style=" background-color: #019144;">You may have a usefu</span><span class="s131">l</span></p><p style="padding-left: 25pt;text-indent: 0pt;line-height: 13pt;text-align: left;"><span class="s130" style=" background-color: #019144;"> blockchain use case!</span></p></td></tr><tr style="height:41pt"><td style="width:274pt;border-left-style:solid;border-left-width:2pt" colspan="2"><p style="text-indent: 0pt;text-align: left;"><br/></p></td></tr></table><p style="text-indent: 0pt;text-align: left;"/><p class="s116" style="padding-top: 4pt;padding-left: 85pt;text-indent: 0pt;text-align: left;">+</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 408pt;text-indent: 0pt;text-align: left;"><span><img width="71" height="48" alt="image" src="Image_174.jpg"/></span></p><p class="s60" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: center;">Figure 9-11. Should you use a blockchain?</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-left: 5pt;text-indent: 0pt;text-align: justify;">The Limitations of PKI</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;">Integrity, nonrepudiation, and confidentiality are important foundational properties in identity systems. Almost every activity in identity management relies upon one or more of these three concepts.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Public-key cryptography and PKI have suffered from overhype—being seen by some as the answer to every security problem that has surfaced over the years. For example, some have proposed the widespread adoption of digital certificates and PKI for authentication and authorization tasks. While the technology is theoretically up to the task, these schemes have usually collapsed under the weight of complexity, institutional policy, politics, and the sense that widespread adoption is too expensive or difficult to manage.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">In coming chapters you’ll explore authentication and authorization technologies that depend on public-key cryptography, ZKPs, and blockchains to solve many of the problems that have haunted identity systems for decades.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="624" height="1" alt="image" src="Image_175.png"/></span></p><ol id="l14"><li><p class="s69" style="padding-top: 5pt;padding-left: 32pt;text-indent: -11pt;text-align: left;"><a href="https://oreil.ly/qlayc" class="s47" target="_blank" name="bookmark516">Alice, Bob, Charlie, and others</a> <span style=" color: #000;">are the cast of characters most papers on cryptography use to explain scenarios.</span></p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark517">If you’re using Safari, select “Show Certificate” after clicking on the lock. In Chrome, select “Certificate” from the menu that appears. Other browsers will have the ability to inspect the certificate too, but it will be accessed and rendered differently.</a></p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 32pt;text-indent: -11pt;text-align: left;"><a href="https://oreil.ly/Sr1f_" class="s47" target="_blank" name="bookmark518">“</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 9pt;">How Do Browsers Handle Revoked SSL/TLS Certificates?”</span>, accessed November 15, 2021.</p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark519">Jean-Jacques Quisquater et al., “How to Explain Zero-Knowledge Protocols to Your Children,” in </a><i>Advances in Cryptology—CRYPTO ’89: Proceedings</i>, Lecture Notes in Computer Science, vol. 435 (New York: Springer, 1990), 628– 631. doi:10.1007/0-387-34805-0_60. ISBN 978-0-387-97317-3.</p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark520">I’m going to use the popular word “blockchain” as a general term for distributed ledgers rather than trying to distinguish architectures with various features.</a></p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark521">Leslie Lamport, Robert Shostak, and Marshall Pease, “The Byzantine Generals Problem,” </a><i>ACM Transactions on Programming Languages and Systems </i>4, no. 3 (July 1982): 387–389. CiteSeerX 10.1.1.64.2312. doi:10.1145/357172.357176.</p></li><li><p style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a href="https://oreil.ly/OboKD" class="s68" target="_blank" name="bookmark522">This iterative development was inspired by the arguments in Michael Nielsen’s article</a><a href="https://oreil.ly/OboKD" class="s46" target="_blank"> </a><a href="https://oreil.ly/OboKD" class="s47" target="_blank">“How the Bitcoin Protocol Actually Works”</a><a href="https://oreil.ly/OboKD" class="s68" target="_blank">, accessed November 10, 2021.</a></p></li></ol><p class="s21" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark523">Chapter 10. Names, Identifiers, and Discovery</a><a name="bookmark524">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="624" height="1" alt="image" src="Image_176.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;">Names are one of the first things you think about when the subject of identity comes up. Of ccourse, identity is about more than names, but we name almost every object around us, so names become one of the most common attributes stored with an identity.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark525">Once you’ve named a bunch of objects, you want to be able to find them. This is called </a><i>discovery</i>. Directories are one of the primary means of discovery. As a result, information technology systems are full of directories. There are directories for files, directories for email addresses, directories for domain names, and even directories for the processes on a computer. The simplest directories associate a name with something else, such as a file, address, IP number, or process.<a name="bookmark526">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">This chapter will discuss names, identifiers, discovery, directories, and the role that these play in digital identity.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">Utah.gov: A Use Case in Naming and Directories</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark527">When I was serving as CIO of Utah, directory issues seemed to take up a lot of my time and effort. When I became CIO, the state had been using the domain name </a><i>state.ut.us</i><a href="mailto:pwindley@gov.state.ut.us" class="s33" target="_blank">. This domain name was not particularly easy to remember, and when you tacked on one or two subdomains to identify a department or agency, the effect was almost comical. For example, my email address was </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: italic; font-weight: normal; text-decoration: underline; font-size: 12pt;">pwindley@gov.state.ut.us</span>. The governor remarked that he could almost feel people start to dance to the rhythm when he told them his email address.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">In addition to the official domain name, agencies in state government had gotten into the habit of registering domain names in the .org TLD (top-level domain) for every publicly facing website they launched. Utah managed over 100 domain names outside the official one. This created a huge problem in building brand awareness around the state’s website and meant that it was impossible to know when you were on an official state website and when you were not.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="http://utah.gov/" class="s33" target="_blank">Shortly after I came on board, I discovered that we owned the domain name </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: italic; font-weight: normal; text-decoration: underline; font-size: 12pt;">utah.gov</span>—much shorter, easier to remember, and more authoritative. (Only governmental entities in the US can get domain names in the <i>.gov </i>TLD.) By fiat and with the governor’s support, I declared that Utah was moving to <i>utah.gov</i>. This isn’t a strategy I’d recommend for endearing yourself to people, but it did accomplish the goal: within a month, we were using <i>utah.gov </i>as the domain name for our primary web presence and contemplating how to migrate the rest of the organization. There were two primary issues:</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_177.png"/></span></p><p class="s35" style="padding-top: 8pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Utah.gov <span class="p">represented a namespace that had been delegated to the State of Utah and within which we could manage things like server names and email addresses.</span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_178.png"/></span></p><p style="padding-top: 3pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: justify;">The state had never had an enterprise strategy for naming, and each department and agency ran its own directory service for email and passwords—some ran many, with each division controlling their own directories.</p><p style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark528">The first problem called for the creation of a registration process and the appointment of a registrar through whom organizations within the state could reserve subdomains within </a><i>utah.gov</i>. The job of the registrar was to create namespaces within <i>utah.gov </i>and ensure that the names were unique, meaningful, and correctly recorded.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The second problem was more difficult. First we created a voluntary program through which people who wanted an email address at <i>utah.gov </i><a href="mailto:dumbo@utah.gov" class="s33" target="_blank">could reserve a name. A simple program forwarded email sent to that name to their original email box. This was only temporary while we went through the difficult process of creating a naming procedure for assigning unique names (which would become email addresses) to each employee. We settled on a first initial/last name scheme with a series of fallback schemes for duplicates. The policy specifically prohibited names not associated with a person’s real name to prevent people having email addresses like </a><a href="mailto:dumbo@utah.gov" class="s31" target="_blank">dumbo@utah.gov</a><span class="s34"> </span>(unless their real name happened to be Doug Umbo, of course).</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark529">We also set up a metadirectory to aggregate the directories in the agencies to form a single large logical directory. This wasn’t as easy as it should have been since software running many of the directories hadn’t been updated for years and didn’t support metadirectory linking. Thus, creating a single directory included upgrade projects for several directories around the state.</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;">Further, creating this logical directory from already existing directories meant that the names in those directories had to first be normalized according to the naming scheme we’d come up with earlier.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The use of multiple distributed directories had advantages in performance and local control but caused some difficulties in integration with other enterprise systems like the human resources (HR) system. The goal was to provision entries in the directory and even access control rights based on the employee’s status within the HR system.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The technical problems faced in creating an enterprise directory pale in comparison to the political challenges. To begin with, I was asking many people to change their email address— some of which had been in use for many years. This has personal and organizational costs.</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Second, some people in power didn’t want to change their email address. They got first pick of email addresses in case of a conflict. One executive director even insisted on having every possible permutation of her name and initials assigned to her to prevent anyone from accidentally sending mail intended for her to someone else with a similar name.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark530">Ultimately, we were successful in establishing a single namespace within </a><i>utah.gov </i>for all email and logins. We even converted the state’s many web servers to subdomains within the <i>utah.gov </i>domain. The effort took almost two years to complete, but once done, it enhanced our ability to brand the state’s web services, increased confidence in the web presence, and gave people email addresses that they could distribute without having to break out the bongo drums.</p><p class="s48" style="padding-top: 4pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Naming</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark531">Names are used to refer to things. Without names, we’d constantly be describing people, places, and things to each other whenever we wanted to talk about them. You do that now when you can’t remember someone’s name: “You know, the guy who was in the green shirt, with the beard, walking a dog?” Any given entity can have multiple names that all refer to the same thing. I’m Phil, Phillip, Phil Windley, Dad, and so on, depending on the context.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Naming is one of the fundamental abstractions for dealing with complexity. Names provide convenient handles for large, complex things—allowing them to be manipulated and referenced by a short, easy-to-remember string, instead of a longer, unwieldy description. Filenames, for example, let us pick a meaningful handle for what ultimately is a collection of bits located on a particular set of sectors on a particular set of tracks on a particular set of disks.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark532">In computing, we use names for similar reasons. We want to easily refer to things like memory locations (variables), inodes (filenames), IP addresses (domain names), and so on. Names usually possess several important properties, including the following:</a><a name="bookmark533">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_179.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_180.png"/></span></p><p style="padding-top: 8pt;padding-left: 29pt;text-indent: 0pt;line-height: 165%;text-align: left;">Names should be unique within some specific namespace. Names should be memorable.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_181.png"/></span></p><p style="padding-left: 29pt;text-indent: 0pt;text-align: left;">Names should be short enough for humans to type into computing devices.</p><p class="s59" style="padding-top: 10pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;"><a href="#bookmark598" class="s33" name="bookmark534">As Crosbie Fitch points out in his excellent treatise on identity,</a><a href="#bookmark598" class="s42">1</a> <span class="p">names don’t need to be globally unique, just unique enough. Names are identifiers we put on things that already have an identity. Names aren’t the same thing as identity.</span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark535">In computers, we often use the term </a><i>identifier </i>to refer to a name that is unique since the term <i>name </i>often refers to things that are not. For example, there are over 55,000 John Smiths in the United States. When we build systems that have a profile for a person, the name attribute will be their real name whereas their identifier, or ID, will be something that is unique within the system.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark536">Names also disassociate the reference from the thing itself, so that the underlying representation can change without changing the name. Perhaps the most familiar example of this is domain names. The domain name </a><i>windley.com </i>points to some IP address. If I decide to change the machine hosting the services at <i>windley.com </i>to another one with a different IP address, it’s easily done and everyone referring to the name will still end up at the right place. Indirection is a powerful mechanism for preserving identity across time since without it the name must change whenever the thing it references changes.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Namespaces</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark537">A namespace is the universe within which a name is guaranteed to be unique and defines where the name has meaning. Thus, namespaces are sometimes called “domains.” A family name (usually) acts as a namespace wherein given names are unique and meaningful. In an email address, the name (the part before the @ symbol) is guaranteed to be unique within the</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark538">namespace (the domain name after the @ symbol). Filenames are unique within the namespace of the directory they are in.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark539">Namespaces can be flat or hierarchical. The usernames on a standalone computer are an example of a flat namespace. A filesystem is the most familiar example of a hierarchical namespace.</a></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark538" class="s33">Domain names are another familiar example of a hierarchical namespace. </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 10-1</span> <span style=" color: #000;">shows how hierarchical namespaces work in domain names and filesystems.</span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Hierarchical namespaces have some interesting properties:</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_182.png"/></span></p><p style="padding-top: 10pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark540">A path inside the hierarchy between the root node and a leaf node can be used to specify any entry in a hierarchical namespace.</a><a name="bookmark541">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_183.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Some paths are referenced and written from root to leaf (e.g., filesystems) and some are referenced and written from leaf to root (e.g., domain names).</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_184.png"/></span></p><p class="s35" style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: justify;"><span class="p">In some hierarchical namespaces, like domain names, names can be both nodes and leaves. For example, I can reference both </span>windley.com <a href="http://www.windley.com/" class="s33" target="_blank">and </a>www.windley.com <span class="p">with windley serving as a node in one case and a leaf in the other.</span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_185.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark542">In other hierarchical namespaces, like filesystems, leaves and nodes are strictly differentiated—directories are not files (at least at a conceptual level).</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="542" height="206" alt="image" src="Image_186.jpg"/></span></p><p class="s132" style="text-indent: 0pt;line-height: 16pt;text-align: left;">finance</p><p style="text-indent: 0pt;text-align: left;"/><p style="padding-top: 12pt;padding-left: 185pt;text-indent: 0pt;text-align: left;"><a href="http://www.windley.com/" class="s133">www.windley.com</a></p><p class="s132" style="padding-top: 4pt;text-indent: 0pt;text-align: right;">groups</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="499" height="331" alt="image" src="Image_187.jpg"/></span></p><p class="s134" style="padding-left: 171pt;text-indent: 0pt;text-align: left;">/home/windley/file.txt</p><p class="s132" style="padding-top: 4pt;text-indent: 0pt;text-align: left;">bin</p><p class="s60" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: center;">Figure 10-1. Hierarchical namespaces for domain names and filesystems</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="http://yahoo.com/" class="s33" target="_blank">In many hierarchical namespaces, the hierarchy reflects some actual hierarchy in the physical world. Usually, however, the hierarchy in the namespace and the organization of the objects represented by the hierarchy do not have a one-to-one correspondence. For example, a filesystem is a hierarchy that exists entirely independent of the location of the bits on the disk and is strictly for the convenience of the user. With domain names, the hierarchy sometimes mirrors the physical world, but not always. For example, there really is an organization called Yahoo, Inc., that owns </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: italic; font-weight: normal; text-decoration: underline; font-size: 12pt;">yahoo.com</span>. On the other hand, <i>windley.com</i><a href="http://ftp.windley.com/" class="s33" target="_blank">, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: italic; font-weight: normal; text-decoration: underline; font-size: 12pt;">ftp.windley.com</span><a href="http://www.windley.com/" class="s33" target="_blank">, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: italic; font-weight: normal; text-decoration: underline; font-size: 12pt;">www.windley.com</span><a href="http://mail.windley.com/" class="s33" target="_blank">, and </a><a href="http://mail.windley.com/" class="s31" target="_blank">mail.windley.com</a><span class="s34"> </span>all refer to the same machine.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Identifiers</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;"><a name="bookmark543">Ironically, we often don’t call the things we put in a namespace, names. We call them </a><i>identifiers </i>instead to avoid confusion between the name in the namespace and a person’s name. Perhaps the best example of identifiers in use today are web addresses—URLs—that anyone who has used a browser has typed in.<a name="bookmark544">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s104" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Uniform Resource Identifiers: A universal namespace</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark545">We’ve all ordered something online that gets delivered via UPS or FedEx. One of the items in the confirmation email is a tracking number for the shipment. The tracking number is part of a URL to the package-tracking page at FedEx. Have you ever thought of this package-tracking page as the home page for that package on the internet? Every package shipped via FedEx, UPS, and most other companies has a home page that is named by the URL (Uniform Resource Locator) that is used to reference it. The URL is a unique location on the web, and that URL can be linked in another document or bookmarked for later reference—just like any other web page. The package’s page is no different from any other page on the internet in that regard.</a><a name="bookmark546">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Uniform Resource Identifiers (URIs) are more general versions of URLs. Whereas URLs represent locations and, as such, typically correspond to real resources on the internet, URIs can be used to name things within a single, global namespace even when there’s no web location associated with the name. The structure is the same, however, and so many URIs also function as URLs.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark599" class="s33" name="bookmark547">URIs are one of the most important features of the web. Without URIs, much of what we take for granted on the web wouldn’t work. As a simple example, having a universal namespace created using URIs allows any document, anywhere on the web, to refer to any other document, anywhere on the web, without the authors of the two documents having to agree on the same software package or server beyond what’s inherent in the web itself. In fact, Paul Prescod has said: “If there is one thing that distinguishes the web as a hypertext system from the systems that preceded it, it is the web’s adoption of a single, global, unified namespace.”</a><a href="#bookmark599" class="s42">2</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Apart from their use to identify resources on the web, however, URIs have found their way into many other contexts, since the URI system represents a universal namespace. Giving off-web resources, such as database records, a URI makes them part of this same universal namespace</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 151%;text-align: left;">and ensures that they can be uniquely distinguished from other resources. URLs and URIs can have five major components:</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_188.png"/></span></p><p style="padding-top: 3pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">A protocol identifier, called the “scheme,” followed by a colon (e.g., <i>https:, ldap:, tel:</i>).</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_189.png"/></span></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">An authority component, usually a domain name, indicating a unique namespace on the internet (e.g., <i>www.windley.com</i>)</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_190.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">A path component indicating what specific resource in that domain is to be identified (e.g.,</p><p class="s35" style="padding-top: 1pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">/llp<span class="p">).</span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_191.png"/></span></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">A query component following a question mark, usually giving resource attributes (e.g., <i>? ln=windley&amp;lang=en</i>)</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_192.png"/></span></p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 24pt;line-height: 174%;text-align: left;">A fragment component following a pound sign, indicating a subresource (e.g., <i>#top</i>) Taken together, these components are written in the familiar fashion:</p><p style="padding-top: 3pt;padding-left: 26pt;text-indent: 0pt;text-align: left;"><a href="https://www.windley.com/llp?ln=windley&amp;lang=en&amp;top" class="s31">https://www.windley.com/llp?ln=windley&amp;lang=en#top</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 4pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark548">There can be other components as well, including authentication information, port numbers, etc., but these five are the most common.</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s104" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Cool URIs don’t change</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The URI is the public interface to a resource and, consequently, deserves great thought. One of the key factors that should be kept in mind when designing URIs is that they should not change</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">—ever. This is not such a radical idea if you stop to consider that the URI is the name of the resource. In general, it’s a bad idea to change the name of something since we cannot possibly know all the places where the name is being used and, consequently, cannot let them know when the name (the URI) changes. Thus, the URI should be chosen so that it is meaningful and unlikely to change. As the system is updated and maintained, the nonvolatility of the URIs should be preserved. Numerous tools and techniques exist to make this possible. URL rewriting is one of the most powerful, allowing servers to resolve URI references to almost any resource.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Designing the URIs for your information system should be one of the most important tasks of the design phase. It may seem unusual to think of designing URIs. After all, don’t we just let the network folks tell us our domain name and let the path fall however it may? Not in a well- designed system. The previous section talked about the components that are typically part of a URL. All of them are usually under our control and should be carefully chosen.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">In APIs, the issue of URL design is a topic of intense discussion, and there are many resources available that discuss principles of good API design, which in some ways is analogous to good URL design. API URLs represent the names of resource collections or items. Issues like versioning, pagination, and the proper use of query strings are all part of an API, and hence URL, design.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Don’t construe this principle to mean that all resources need to be permanent. Just because URIs</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark549">don’t change doesn’t mean that the resource always has to be available. Some resources are transitory and some that go out of existence. Even so, we shouldn’t change their name. Think of the UPS tracking number we discussed at the beginning of this section. The package gets delivered, the resource is no longer needed, and so the URI for the package may not resolve. But UPS shouldn’t reuse tracking numbers and hence doesn’t change the URI representing it.</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s104" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Uniform Resource Names</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark550">Uniform Resource Names (URN) are URIs with the </a><i>urn: </i>scheme. A URN is a persistent, location-independent identifier. Unlike URLs, URNs do not need to be resolvable. Like a URI, URNs have several primary components:</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_193.png"/></span></p><p style="padding-top: 8pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">A scheme of <i>urn</i>:</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_194.png"/></span></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">A namespace identifier (e.g., <i>isbn:</i>)</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_195.png"/></span></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">A namespace-specific string (e.g., <i>0596008783</i>)</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_196.png"/></span></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">A resource component indicating parameters that can be used by a resolver (e.g., <i>?</i></p><p class="s35" style="padding-top: 1pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">+method=a<span class="p">).</span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_197.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_198.png"/></span></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 165%;text-align: left;">A query component, usually giving resource attributes (e.g., <i>?=ln=windley&amp;lang=en</i>) A fragment component following a pound sign, indicating a subresource (e.g., <i>#top</i>)</p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">A good example of where URNs can be useful is ISBN numbers used to identify books:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s35" style="padding-left: 26pt;text-indent: 0pt;text-align: left;">urn:isbn:0596008783</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">This URN represents the book <i>Digital Identity </i>published in 2005. Of course, the book has multiple URLs. For example, the following URL is the same book on Amazon:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 26pt;text-indent: 0pt;text-align: left;"><a href="https://www.amazon.com/dp/0596008783" class="s31">https://www.amazon.com/dp/0596008783</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 4pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">And this URL is the same book at O’Reilly:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 26pt;text-indent: 0pt;text-align: left;"><a href="https://www.oreilly.com/library/view/digital-identity/0596008783/" class="s31">https://www.oreilly.com/library/view/digital-identity/0596008783/</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 4pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The URN in this example is abstract, naming the book as a concept rather than a physical thing. The URL is concrete, indicating a specific place online.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Zooko’s Triangle</p><p class="s59" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark600" class="s33" name="bookmark551">Zooko Wilcox-O’Hearn published a conjecture in 2001 widely known as “Zooko’s triangle.”</a><span style=" color: #8E0011; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; vertical-align: 4pt;">3</span> <span class="p">Zooko’s premise was that identifiers can be any two of decentralized, secure, and human readable. These three properties are desirable for identifiers:</span><a name="bookmark552">&zwnj;</a><a name="bookmark553">&zwnj;</a><a name="bookmark554">&zwnj;</a></p><p class="s35" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Decentralized</p><p style="padding-top: 3pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">Identifiers can be resolved to the correct value without reliance on a central authority.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Secure</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">The system is hardened against attack by malicious actors.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Human readable</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">Identifiers are relatively easy for humans to memorize and use.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Problems occur when trying to supply all three properties at once, though.</p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">A Bitcoin address, for example, is secure and decentralized but hardly user-friendly, being a long string of seemingly random characters. An email address is human readable and relatively secure, but resolving it (either as an email address or an identifier) relies on a centralized service.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">In recent years, people have used blockchain-based systems to create naming systems that refute Zooko’s conjecture. The basic idea is to store a human-readable identifier and the value it resolves to on a blockchain. The result is secure and decentralized. The cost of meeting all three properties simultaneously is the complexity of the blockchain used to store the name-value pairs.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Despite this, however, it’s important to keep Zooko’s triangle in mind when planning an identifier scheme. Very few use cases can afford to ignore security. Consequently, we usually choose between decentralization and human readability. For many enterprise use cases, decentralization isn’t important, and the expense of providing it can be avoided. For others, human readability isn’t necessary because the identifiers are stored by computers and not intended for humans.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Discovery</p><p class="s34" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="http://ibm.com/" class="s33" target="_blank" name="bookmark555">You might have disagreed when I said URLs are names. URLs are a good example of Zooko’s triangle. While URLs are globally unique, they aren’t memorable, and most people hate typing them into things. If I’m looking for IBM, I’m happy to type </a><a href="http://ibm.com/" class="s31" target="_blank">ibm.com</a> <span class="p">into my browser. But what if I’m looking for a technical report by IBM from 2012? Even if I know the URL, I’m not likely to type it into the browser. Instead, I’ll just search for it using a few keywords. Most of the time that works so well that we’re surprised when it doesn’t.</span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_199.png"/></span></p><p style="padding-top: 5pt;padding-left: 29pt;text-indent: -24pt;line-height: 174%;text-align: left;">We often distinguish between names, identifiers, and addresses. Let’s recap: URIs are universal <i>identifiers</i>, as we’ve discussed.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_200.png"/></span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 13pt;text-align: left;"><a name="bookmark556">URLs are </a><i>addresses</i>. They are a form of URI, which also give the location of something.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_201.png"/></span></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">URNs are <i>names</i>.</p><p style="padding-top: 10pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Neither identifiers nor addresses are the same thing as a name, but these three things are often conflated and confused. When we don’t have good names, or where names are impractical,</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">discovery provides an alternative. The World Wide Web solved several important problems, but discovery wasn’t one of them. As a result, Aliweb, Yahoo!, and a host of other companies or projects sprung up to solve the discovery problem. Ultimately Google won the discovery wars of the late ’90s with a search engine that gave meaningful results on the first page.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Typing keywords into a search engine is a good example of discovery. Web pages don’t have names, at least not that are globally unique. And even if they did, who’d be able to remember them all? But search engines allow us to discover the address of a web page using attributes of the page, including its content.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Discovery is a hard problem because whether we’re talking about searching for web pages on Google, looking for an old high school friend on Facebook, or finding an API for a particular purpose, finding matches requires some level of understanding what the search target is about. In other words, discovery is often a semantic problem involving meaning, not merely a syntactic problem.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Determining relevance is an important goal of discovery. Discovery determines relevance using algorithms to find the meaning of metadata. One of the reasons search engines like Google succeeded is because they solved two problems. First, they automated the generation of metadata about web pages (e.g., Google web crawler). Second, they developed simple, fast algorithms for determining which addresses mattered most for any given set of metadata attributes (e.g., Google’s PageRank algorithm).</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Directories</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark557">Directories are one of the most widely deployed discovery tools. Most systems have multiple directories, for address books, password files, the list of authorized users for applications, and so on. IT departments maintain large, enterprise-wide directories. In fact, the average IT organization maintains dozens of different directories of all types.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Over the last decade, however, these directories have largely been absorbed into other tools, so we often don’t see the directory as a standalone product. For example, if you use a cloud-based identity provider like Okta or SailPoint, there will be directories of users, but they will simply be part of the larger identity service.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;">A <i>directory service </i>is a network-aware directory that allows a directory to be centrally managed and at the same time supply directory information to distributed applications. While we typically think of directories associating information with people, directories are useful for a wide range of IT and business needs.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">A directory service contains a structured repository of information, often with complex interrelationships. The structure is defined in a schema—the metadata that defines the overall relationship of each piece of data stored in each entry in the directory to the others. The schema specifies what properties can be associated with an entry, the allowed format or type of property, and whether it is optional or mandatory. Each entry in a directory is defined as an object with attributes, given as name-value pairs, that conform to the schema.</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark558">Standalone directories like Microsoft’s Active Directory (AD) support complex, configurable schemas. Consequently, AD and others like it have been used in a wide variety of enterprise applications—many not directly related to identity. One of AD’s primary uses is organizing IT assets like computers or printers in addition to users. In contrast, directories that are part of other services, especially those in the cloud, often have simple schemas that are not as flexible and designed to support just the features of the service they are part of.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark559">As we’ve seen, it is not unusual for a namespace to be hierarchical, and so too with directories. The hierarchical structure of the directory is stored in the directory tree. The directory objects at the nodes of the tree are called container objects, which can contain other container objects, or leaves or terminal objects. For example, there might be a container object that represents the organization that holds other container objects for the major organizational departments, and so on until you get to the people, printers, offices, and other resources at the leaves.</a><a name="bookmark560">&zwnj;</a><a name="bookmark561">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">A directory service provides methods for querying the directory and managing the entries. These methods may be accessed by client programs designed for human interaction, or by other programs that need access to the information contained in the directory.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s104" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Directories are not databases</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;"><a name="bookmark562">From the description just given, it may be hard to distinguish a directory service from a standard database. Indeed, directories can be built inside databases, and many of the directories in use are just that. Still, directories are usually different from databases in some significant ways:</a></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_202.png"/></span></p><p style="padding-top: 8pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Directories are usually hierarchical whereas databases are not. A directory can tell you all the people whose manager is Mary Jones and all the people who work in Salt Lake City, but it can’t easily tell you all the people whose manager is in Salt Lake City—a trivial query with a relational database.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_203.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Retrieval is more important than updating in a directory, and consequently, directories are optimized for reads over writes. Typically, about 90% of the accesses in a directory are retrievals or queries with the remainder being additions or updates.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_204.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Directories are optimized for storing and managing many millions of small, relatively simple objects.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_205.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Directories do not usually support transactions, meaning that operations on the directory cannot be coordinated with the operations of other applications so that they are atomic (i.e., all happen or none happen).</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_206.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Directories offer extensive support for matching, partial matching, filtering, and other query operations.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_207.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Most directories have preconfigured schemas so that they are immediately usable for common purposes and are customizable only in very specific ways. Databases typically require considerable work on the schema before any data can be stored.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_208.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">Directories are usually simpler to manage than relational databases.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_209.png"/></span></p><p style="padding-top: 3pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Because queries and retrievals predominate, directories are easier to replicate for redundancy and performance reasons.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s104" style="padding-top: 4pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">LDAP</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark393" class="s33" name="bookmark563">No discussion of directories would be complete without talking about LDAP. LDAP, the Lightweight Directory Access Protocol, was created to provide simplified access to some of the functionality of an earlier, much more complicated protocol called X.500 (which we referenced in our discussion of digital certificates in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 9</span>). LDAP specifies an API for clients, something that X.500 lacked. Having an API allows standard software development kits (SDKs) to be created that contain much of the code necessary to use the directory service.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">LDAP is a protocol that many different directories support. Because several applications understand LDAP, they can work with those directories. Support for interoperability between products from different vendors has been an important characteristic of LDAP.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The LDAP protocol includes operations for creating, retrieving, updating, and deleting entries from the directory. LDAP also provides search operators for discovering information in the directory.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark564">Several native LDAP directory servers exist on the market. LDAP specifies a network-based server with a hierarchical namespace. LDAP also specifies a method for doing referrals to other directories so that multiple LDAP servers can cooperate to create a single virtual namespace from the namespaces of the individual servers. Most commercial directories are LDAP compliant, meaning they support the LDAP client API.</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Domain Name System</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark565">The issue of discovery on the internet is more complicated than it is inside an enterprise. Whereas enterprise directories are under the control of a single organization that has the power to dictate policy and enforce naming, online systems must work cooperatively with other organizations not under their control.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The Domain Name System (DNS) is the best-known example of this and forms the basis for most online name systems. We’ve already seen, for example, how domain names form the basis of URLs.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 107%;text-align: left;"><a name="bookmark566">When I first started using Unix in the mid-1980s, DNS was not widely used. Instead, we FTPed a </a><span class="s49">hosts </span>files from a computer at UC Berkeley, merged it with a local <span class="s49">hosts </span>file, and installed it in the <span class="s49">/etc </span>directory. Mail addresses sometimes had an exclamation mark (!) in them to specify explicit internal routing from a well-known host to the local machine. We had machine names, but no global system for looking them up, or <i>dereferencing </i>them.</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">DNS changed all that by providing a decentralized naming service that based lookup on a hierarchy. DNS—the universal directory that maps domain names to IP addresses—is built around the hierarchical domain namespace that we discussed earlier. DNS is a decentralized, distributed, hierarchical directory and serves as the enabling infrastructure for a single, global</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">directory of domain names. This directory is built from thousands of servers owned by thousands of organizations around the world. The architecture of DNS allows those machines to answer queries regarding domain name mappings efficiently and cooperatively and, at the same time, provide for delegated control over the mappings for any given namespace.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">When a machine needs to resolve a domain name into an IP address, it queries a DNS server, looking to one of a few, often local, servers for the answer. The local server may know the answer because the query regards a local machine or because it regards a machine that the DNS server has recently looked up. If it does not, the hierarchical structure of the name is used to arrive at an answer.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;"><a href="http://www.windley.com/" class="s33" target="_blank" name="bookmark567">Suppose that a distant machine is looking for </a><i>www.windley.com </i><a href="#bookmark568" class="s33">(</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 10-2</span>). The machine contacts its DNS local server, but that server does not know the answer. The local server contacts one of the root DNS servers. The IP numbers for the set of root DNS servers are well known and built into DNS software bundled with the operating system. The root servers return the IP addresses for the TLD servers, in this case <span class="s49">.com</span><a href="http://www.windley.com/" class="s33" target="_blank">. The TLD server does not know the mapping for </a><a href="http://www.windley.com/" class="s32" target="_blank">www.windley.com</a>, but it does know the addresses of every DNS server for its domains. The TLD server refers the local server to the DNS server handling &gt;<i>windley.com </i>and the local server contacts the DNS server handling <i>windley.com</i>. Since that server <i>does </i><a href="http://www.windley.com/" class="s33" target="_blank">know the address for </a><a href="http://www.windley.com/" class="s32" target="_blank">www.windley.com</a>, the address is returned to the local server, cached, and sent to the original requester. Of course, domain namespaces can be more than three layers deep and so can the associated servers. This process just goes on longer in those cases, but an answer is eventually returned if the mapping exists and the servers are properly configured and registered.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="594" height="393" alt="image" src="Image_210.jpg"/></span></p><p style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a href="http://www.windley.com/" class="s135" target="_blank" name="bookmark568">Figure 10-2. DNS query, referral, and answer pattern for www.windley.com</a></p><p class="s61" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark574">WebFinger</a></p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 107%;text-align: left;"><a name="bookmark569">The Unix </a><span class="s70">finger </span>command allowed users of time-shared Unix systems to find out information about users. One of the interesting architectural features of <span class="s70">finger </span>is that it was a hybrid directory that used information the system knew as well as information the user provided to create the response. Users were responsible for creating files in their home directory that were used to give the person using <span class="s70">finger </span>information about the user.<a name="bookmark570">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;"><a name="bookmark571">WebFinger is a similarly architected system for the web. Although the Unix </a><span class="s70">finger </span>command and WebFinger are very different protocols, they both allow users to attach metadata to an identifier. The official specification says that “WebFinger is used to discover information about people or other entities on the internet that are identified by a URI using standard Hypertext Transfer Protocol (HTTP) methods over a secure transport.”</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark572">A WebFinger query returns a JSON object called a JSON Resource Descriptor (JRD). The JRD for a person might contain things like their email address, telephone number, public key, and so on. For other kinds of entities, the data can include whatever information is relevant. For example, the JRD may contain the location of a printer, the capabilities of a server, the author of a blog post, and so on.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 107%;text-align: left;">RFC 7033 is the specification that describes the WebFinger protocol. Entities in WebFinger are identified using a URI. For people (or more accurately accounts), the URL scheme <span class="s70">acct: </span>is used to create a URI. The format of the account URI is:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s76" style="padding-left: 17pt;text-indent: 0pt;text-align: left;">acct:&lt;identifier&gt;@&lt;domain&gt;</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">This may look like an email address, but note that this is a URI (i.e., we can tell because it uses the <span class="s70">acct: </span>scheme) so there’s no requirement that it work as an email address.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 107%;text-align: left;">WebFinger queries are made against a “well-known URI” for an identifier in the domain that the server represents. Well-known URIs are defined in a specification called RFC 5785 as “a URI whose path component begins with the characters <span class="s70">/.well-known/</span>, and whose scheme is <span class="s70">http</span>, <span class="s70">https</span>, or another scheme that has explicitly been specified to use well-known URIs.” WebFinger has registered the well-known URI <span class="s70">/.well-known/webfinger</span>.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;"><a href="#bookmark574" class="s33" name="bookmark573">Queries for the JRD of a particular URI are made using WebFinger’s well-known URI and a query string containing a key-value pair with the key resource identifying the subject URI as shown in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 10-3</span><a href="#bookmark601" class="s33">.</a><a href="#bookmark601" class="s42">4</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="592" height="154" alt="image" src="Image_211.jpg"/></span></p><p style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a href="mailto:phil@windley.org" class="s135" target="_blank">Figure 10-3. WebFinger query for </a><a href="mailto:phil@windley.org" class="s52" target="_blank">phil@windley.org</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">The returned JRD might look something like this:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s76" style="padding-left: 17pt;text-indent: 0pt;text-align: left;">{</p><p class="s76" style="padding-left: 22pt;text-indent: 0pt;line-height: 106%;text-align: left;"><a href="mailto:phil@windley.org" class="s77" target="_blank">&quot;subject&quot;: &quot;</a>acct:phil@windley.org&quot;, &quot;aliases&quot;:</p><p class="s76" style="padding-left: 33pt;text-indent: 0pt;line-height: 10pt;text-align: left;">[</p><p class="s76" style="padding-left: 38pt;text-indent: 0pt;line-height: 106%;text-align: left;"><a href="mailto:phil@windley.com" class="s77" target="_blank">&quot;https://phil.windley.org&quot;, &quot;</a>acct:phil@windley.com&quot;</p><p class="s76" style="padding-left: 33pt;text-indent: 0pt;line-height: 10pt;text-align: left;">],</p><p class="s76" style="padding-left: 33pt;text-indent: -16pt;line-height: 106%;text-align: left;">&quot;links&quot;: [</p><p class="s76" style="padding-left: 38pt;text-indent: 0pt;line-height: 10pt;text-align: left;">{</p><p class="s76" style="padding-left: 44pt;text-indent: 0pt;line-height: 106%;text-align: left;"><a href="http://openid.net/specs/connect/1.0/issuer" class="s77" target="_blank">&quot;rel&quot;: &quot;</a>http://openid.net/specs/connect/1.0/issuer&quot;, &quot;href&quot;: &quot;https://openid.windley.com&quot;</p><p class="s76" style="padding-left: 38pt;text-indent: 0pt;line-height: 10pt;text-align: left;">},</p><p class="s76" style="padding-left: 44pt;text-indent: -5pt;line-height: 106%;text-align: left;"><a href="http://kynetx.org/rel/well-known-eci" class="s77" target="_blank">{&quot;rel&quot;: &quot;</a>http://kynetx.org/rel/well-known-eci&quot;, &quot;property&quot;:</p><p class="s76" style="padding-left: 103pt;text-indent: 0pt;line-height: 10pt;text-align: left;">{</p><p class="s76" style="padding-left: 71pt;text-indent: 37pt;line-height: 106%;text-align: left;"><a href="http://kynetx.org/rel/eci" class="s77" target="_blank">&quot;</a>http://kynetx.org/rel/eci&quot;, &quot;76161abcd-18d4-00163-abcd12&quot;</p><p class="s76" style="padding-left: 65pt;text-indent: 0pt;line-height: 10pt;text-align: left;">}</p><p class="s76" style="padding-left: 38pt;text-indent: 0pt;text-align: left;">},</p><p class="s76" style="padding-left: 38pt;text-indent: 0pt;text-align: left;">{</p><p class="s76" style="padding-left: 44pt;text-indent: 0pt;line-height: 106%;text-align: left;"><a href="http://webfinger.net/rel/profile-page" class="s77" target="_blank">&quot;rel&quot;: &quot;</a>http://webfinger.net/rel/profile-page&quot;, &quot;href&quot;: &quot;https://phil.windley.org&quot;</p><p class="s76" style="padding-left: 38pt;text-indent: 0pt;line-height: 10pt;text-align: left;">},</p><p class="s76" style="padding-left: 38pt;text-indent: 0pt;text-align: left;">{</p><p class="s76" style="padding-left: 44pt;text-indent: 0pt;line-height: 106%;text-align: left;"><a href="http://webfinger.example/rel/businesscard" class="s77" target="_blank">&quot;rel&quot;: &quot;</a>http://webfinger.example/rel/businesscard&quot;, &quot;href&quot;: &quot;https://phil.windley.org/phil.vcf&quot;</p><p class="s76" style="padding-left: 38pt;text-indent: 0pt;line-height: 10pt;text-align: left;">}</p><p class="s76" style="padding-left: 33pt;text-indent: 0pt;text-align: left;">]</p><p class="s76" style="padding-left: 17pt;text-indent: 0pt;text-align: left;">}</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 4pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">A JRD response contains name-value pairs:</p><p class="s35" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Subject</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">A name-value pair whose value is the subject of the JRD. This value might be different from the value in the query if the subject has moved or there is a canonical identifier.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Aliases</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">A name-value pair whose value is an array of strings giving other URIs that also identify this entity. This name-value pair is optional.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Properties</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">A name-value pair whose value is an object with name-value pairs that identify a property (using a property URI) and a value. This name-value pair is optional.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Links</p><p style="padding-top: 3pt;padding-left: 23pt;text-indent: 0pt;line-height: 141%;text-align: left;">A name-value pair whose value is an array of objects with name-value pairs that give a relation type and (optionally) an <span class="s70">href</span>, set of properties, types, and titles. This name-value pair is optional.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Of course, you might not be interested in all this information when you make a query. The WebFinger specification allows the query to be restricted to certain relationship types of the subject resource in the query string. For example, the following query:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 38pt;text-indent: -21pt;line-height: 106%;text-align: left;"><a href="http://webfinger.net/rel/profile-page" class="s77" target="_blank">GET /.well-known/webfinger? resource=acct:phil@windley.com&amp; rel=http://webfinger.net/rel/profile-page</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">would return the JRD:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s76" style="padding-left: 17pt;text-indent: 0pt;text-align: left;">{</p><p class="s76" style="padding-left: 22pt;text-indent: 0pt;line-height: 106%;text-align: left;"><a href="mailto:phil@windley.org" class="s77" target="_blank">&quot;subject&quot;: &quot;</a>acct:phil@windley.org&quot;, &quot;aliases&quot;:</p><p class="s76" style="padding-left: 33pt;text-indent: 0pt;line-height: 10pt;text-align: left;">[</p><p class="s76" style="padding-left: 38pt;text-indent: 0pt;line-height: 106%;text-align: left;"><a href="mailto:phil@windley.com" class="s77" target="_blank">&quot;https://phil.windley.org&quot;, &quot;</a>acct:phil@windley.com&quot;</p><p class="s76" style="padding-left: 33pt;text-indent: 0pt;line-height: 10pt;text-align: left;">],</p><p class="s76" style="padding-left: 33pt;text-indent: -16pt;line-height: 106%;text-align: left;">&quot;links&quot;: [</p><p class="s76" style="padding-left: 38pt;text-indent: 0pt;line-height: 10pt;text-align: left;">{</p><p class="s76" style="padding-left: 44pt;text-indent: 0pt;line-height: 106%;text-align: left;"><a href="http://webfinger.net/rel/profile-page" class="s77" target="_blank">&quot;rel&quot;: &quot;</a>http://webfinger.net/rel/profile-page&quot;, &quot;href&quot;: &quot;https://phil.windley.org&quot;</p><p class="s76" style="padding-left: 38pt;text-indent: 0pt;line-height: 10pt;text-align: left;">}</p><p class="s76" style="padding-left: 33pt;text-indent: 0pt;text-align: left;">]</p><p class="s76" style="padding-left: 17pt;text-indent: 0pt;text-align: left;">}</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The returned JRD contains only the relationship we asked for. Since there could be hundreds of relationship types for a complex entity, this reduces the amount of work the client must do to find relevant resource links.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 107%;text-align: left;"><a href="mailto:phil@windley.com" class="s33" target="_blank">Because WebFinger is based on HTTP, you can use redirects to service accounts in multiple domains from a single WebFinger server. For example, in the previous example </a><a href="mailto:phil@windley.com" class="s136" target="_blank">acct:phil@windley.com</a><span class="s70"> </span><a href="mailto:phil@windley.org" class="s33" target="_blank">is an alias for </a><a href="mailto:phil@windley.org" class="s136" target="_blank">acct:phil@windley.org</a>. The same WebFinger server could service deliver the appropriate JRD for both <span class="s49">windley.com </span>and <span class="s49">windley.org </span>using a redirect from those servers.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">WebFinger does present some privacy and security concerns. In particular, the JRD could contain information that would allow for more sophisticated phishing attacks. The WebFinger specification states that “systems or services that expose personal data via WebFinger MUST provide an interface by which users can select which data elements are exposed through the WebFinger interface” and “WebFinger MUST NOT be used to provide any personal data unless publishing that data via WebFinger by the relevant service was explicitly authorized by the person whose information is being shared.”</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">There is nothing that prevents WebFinger servers from only allowing access to information based on an authorization scheme or limiting what data is returned to different clients based on authenticated role or other authorization method.</p><p class="s70" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 107%;text-align: left;"><a name="bookmark575"><span class="p">WebFinger provides a good way to provide metadata and additional information about a resource. Used in conjunction with the </span></a>acct: <a href="mailto:phil@windley.org" class="s33" target="_blank">scheme, WebFinger allows a single, easy-to- remember identifier to be used to find additional information that might be identified only using a longer, more complicated identifier. For example, using </a><a href="mailto:phil@windley.org" class="s136" target="_blank">acct:phil@windley.org</a> <span class="p">might allow you to retrieve my complete vCard record or portions of my public calendar, which likely have more complex URIs.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Heterarchical Directories</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark576">You might have noticed that DNS and WebFinger have very similar architectures. Both allow a client to retrieve properties of a given identifier from decentralized sources. There is no centralized database of domain names or WebFinger URIs. Both systems allow for the records associated with an identifier to be maintained by the entity responsible for that information. This has advantages in both scale and accuracy.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark577">But, while DNS and WebFinger are decentralized, they are still hierarchical (WebFinger’s hierarchy is inherited from its dependence on DNS). Hierarchies have a significant limitation in that they introduce a single point of failure (SPOF) even in a decentralized system. In DNS, for example, there are a limited set of root servers. How well the root registry is architected can have a significant impact on its availability in the face of network failures or attacks.</a><a name="bookmark578">&zwnj;</a><a name="bookmark579">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark580">The hierarchical structure of DNS has a further drawback in that it enables censorship. A despotic regime can limit access to certain TLDs or even proxy them and return different results for any given query. One of the key provisions of the Stop Online Piracy Act (fortunately never enacted) would have required DNS servers to censor websites deemed to be infringing on copyrighted material.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark32" class="s33">DNS is subject to SPOF and censorship despite being distributed and decentralized, The problem is in its hierarchical architecture. As we discussed in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 2</span>, the alternative to hierarchy is heterarchy. This section looks at directories that have a heterarchical architecture.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Personal Directories and Introductions</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark581">As we discussed, discovery is often used to get around the limitations expressed by Zooko’s triangle. But discovery isn’t the only way to solve the problem. Think about your house address. It’s a long, unwieldy, difficult-to-remember string of digits and letters. There’s no global way to resolve a person’s name to their address. Put another way, there’s no global directory (except maybe at Acxiom or the NSA) that maps names to addresses. Even the Postal Service in over 200 years of existence hasn’t thought “Hey! We need to create a global directory of names and addresses!” Or if they have, it didn’t succeed.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">So how do people remember addresses? We exchange addresses with people and keep our own</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">directories. We avoid security issues by exchanging or verifying addresses out of band. For most applications, this is good enough.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark582">Address exchange is an example of the “introduction pattern,” a powerful way to create distributed, heterarchical directories. So long as there is some trusted way to communicate with the party you’re connecting to, long addresses aren’t as big a problem as we might think. We resort to names and discovery when we don’t have a trusted channel.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Personal directories are also how people exchange Bitcoins and other cryptocurrencies. I give you my Bitcoin address in a separate channel (e.g., email, my website, etc.). You store it in a personal directory on your own system. When you want to send me money, you put my Bitcoin address in your wallet. To make it even more interesting, since Bitcoin addresses are just public- private key pairs, I can generate a new one for every person, creating personal, peer-to-peer channels for exchanging money.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Personal directories are heterarchical since they are unranked. We each prefer our address book to others. The problem with personal directories is that they make global lookup difficult. Unless I have some preexisting relationship with you or a friend who’ll make an introduction, a personal directory does me little good. One way to solve this problem is with systems that support global resolution of identifiers for other information like DNS but still are heterarchical. One such system is a distributed hash table.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Distributed Hash Tables</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark583">A distributed hash table (DHT) is a heterarchical directory with no central service. DHTs automatically heal when nodes fail. New nodes can also join at any time. DHTs form a ring in the address space with each node knowing about its successor and predecessor nodes. As a ring, you might object to me classifying a DHT as a heterarchical discovery mechanism. But the heterarchical classification is justified by the relationship of the nodes. They are peers and no node is more or less important than another. You can query any node and get the same answer.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">A simple lookup algorithm is to linearly ask down the chain until the key is found, but that’s slower than it needs to be, requiring on average <i>N</i>/2 queries. Instead, with an address space of <i>N</i>, a table of log(<i>N</i>) entries can give us sufficient data so that log(<i>N</i>) hops will get us the value associated with a particular key. This means that a DHT with a key space of 2<span class="s103">128</span> entries—a very large space—can be queried in at most 128 steps. DHTs provide a fast and efficient decentralized directory system.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;"><a href="#bookmark584" class="s33">There are many DHT algorithms. The most popular may be Kademlia. For the example that follows we’ll use the Chord algorithm since it’s relatively easy to understand. Let’s see how Chord manages lookup in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 10-4</span>.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">The variable <span class="s70">m </span>represents the logarithmic size of the address space. For simplicity, we’ll let <span class="s70">m =</span></p><p class="s70" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">5<span class="p">. With </span>m = 5<span class="p">, we can support as many as 32 nodes in the system.</span></p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark584" class="s33">DHTs are sparsely populated. In </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 10-4</span>, only 9 out of 32 nodes exist. Each node is responsible for knowing the values associated with all the keys between itself and the previous</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark584">node. So, in the figure, Node 18 is responsible for keys 15, 16, 17, and 18. Data can be replicated in other nodes so that the network can withstand nodes leaving unexpectedly.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 106%;text-align: left;">The DHT in the example is much more densely populated than most DHTs, since with <span class="s70">m =  128 </span>or <span class="s70">m = 160 </span>we’d have lots of space (2<span class="s103">128</span> or 2<span class="s103">160</span> keys) and even millions of nodes would be a small fraction. In the DHT, each node knows its predecessor and successor in the ring. Thus, in our example, node 14 knows that it comes after 11 and before 18—like a doubly linked list.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><table style="border-collapse:collapse" cellspacing="0"><tr style="height:20pt"><td style="width:23pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt" colspan="2"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:24pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s137" style="padding-top: 1pt;padding-left: 3pt;text-indent: 0pt;line-height: 16pt;text-align: center;">1</p></td></tr><tr style="height:19pt"><td style="width:23pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt" colspan="2"><p class="s137" style="padding-top: 1pt;padding-left: 8pt;text-indent: 0pt;line-height: 16pt;text-align: left;">2</p></td><td style="width:24pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s137" style="padding-top: 1pt;padding-left: 3pt;text-indent: 0pt;line-height: 16pt;text-align: center;">1</p></td></tr><tr style="height:19pt"><td style="width:23pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt" colspan="2"><p class="s137" style="padding-top: 1pt;padding-left: 8pt;text-indent: 0pt;line-height: 16pt;text-align: left;">3</p></td><td style="width:24pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s137" style="padding-top: 1pt;padding-left: 3pt;text-indent: 0pt;line-height: 16pt;text-align: center;">1</p></td></tr><tr style="height:20pt"><td style="width:23pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-right-style:solid;border-right-width:2pt" colspan="2"><p class="s137" style="padding-top: 1pt;padding-left: 7pt;text-indent: 0pt;line-height: 17pt;text-align: left;">4</p></td><td style="width:24pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s137" style="padding-top: 1pt;padding-left: 3pt;text-indent: 0pt;line-height: 17pt;text-align: center;">4</p></td></tr><tr style="height:20pt"><td style="width:9pt;border-left-style:solid;border-left-width:2pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:14pt;border-top-style:solid;border-top-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s138" style="text-indent: 0pt;text-align: left;">5</p></td><td style="width:24pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s137" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: center;">14</p></td></tr></table><p style="text-indent: 0pt;text-align: left;"/><p class="s139" style="text-indent: 0pt;line-height: 13pt;text-align: right;">, -</p><p class="s140" style="text-indent: 0pt;line-height: 3pt;text-align: right;">- &quot;&#39; I</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s141" style="padding-left: 3pt;text-indent: 0pt;line-height: 52%;text-align: left;">31<span class="s139">..&#39;. </span><span class="s142">I</span></p><p class="s139" style="padding-top: 10pt;padding-left: 4pt;text-indent: 0pt;line-height: 28pt;text-align: left;">,&#39;0<span class="s143">-</span><span class="s144">..</span>\</p><p style="text-indent: 0pt;text-align: left;"><span><img width="276" height="558" alt="image" src="Image_212.png"/></span></p><p class="s145" style="text-indent: 0pt;line-height: 80pt;text-align: left;">•</p><p style="text-indent: 0pt;text-align: left;"/><table style="border-collapse:collapse" cellspacing="0"><tr style="height:20pt"><td style="width:48pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s146" style="padding-top: 3pt;padding-right: 8pt;text-indent: 0pt;text-align: right;">4</p></td></tr><tr style="height:21pt"><td style="width:48pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s147" style="padding-top: 2pt;padding-right: 6pt;text-indent: 0pt;text-align: right;">2<span class="s148"> </span>4</p></td></tr><tr style="height:22pt"><td style="width:48pt;border-left-style:solid;border-left-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s149" style="padding-top: 2pt;padding-right: 4pt;text-indent: 0pt;text-align: right;">3<span class="s150"> </span>9</p></td></tr><tr style="height:21pt"><td style="width:48pt;border-left-style:solid;border-left-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s149" style="padding-top: 2pt;padding-right: 4pt;text-indent: 0pt;text-align: right;">4<span class="s150"> </span>9</p></td></tr><tr style="height:18pt"><td style="width:48pt;border-left-style:solid;border-left-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s151" style="padding-top: 2pt;padding-right: 3pt;text-indent: 0pt;line-height: 13pt;text-align: right;">5 18</p></td></tr><tr style="height:5pt"><td style="width:48pt;border-right-style:solid;border-right-width:2pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td></tr></table><p style="text-indent: 0pt;text-align: left;"/><table style="border-collapse:collapse" cellspacing="0"><tr style="height:19pt"><td style="width:26pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s137" style="padding-top: 1pt;padding-left: 4pt;text-indent: 0pt;line-height: 16pt;text-align: center;">1</p></td><td style="width:25pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s137" style="padding-top: 1pt;padding-right: 2pt;text-indent: 0pt;line-height: 16pt;text-align: center;">9</p></td></tr><tr style="height:20pt"><td style="width:26pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s137" style="padding-top: 1pt;padding-left: 6pt;text-indent: 0pt;line-height: 16pt;text-align: center;">2</p></td><td style="width:25pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s137" style="padding-top: 1pt;padding-left: 1pt;text-indent: 0pt;line-height: 16pt;text-align: center;">9</p></td></tr><tr style="height:20pt"><td style="width:26pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s137" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;line-height: 16pt;text-align: center;">3</p></td><td style="width:25pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s137" style="padding-top: 1pt;text-indent: 0pt;line-height: 16pt;text-align: center;">9</p></td></tr><tr style="height:20pt"><td style="width:26pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s137" style="padding-top: 1pt;padding-left: 3pt;text-indent: 0pt;line-height: 17pt;text-align: center;">4</p></td><td style="width:25pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s137" style="padding-top: 1pt;padding-left: 3pt;text-indent: 0pt;line-height: 17pt;text-align: center;">14</p></td></tr><tr style="height:19pt"><td style="width:26pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s138" style="padding-left: 6pt;text-indent: 0pt;text-align: center;">5</p></td><td style="width:25pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:1pt"><p class="s137" style="padding-left: 3pt;text-indent: 0pt;text-align: center;">20</p></td></tr></table><p style="text-indent: 0pt;text-align: left;"/><p class="s140" style="padding-left: 28pt;text-indent: 0pt;line-height: 5pt;text-align: left;">I <span class="s152">, </span><span class="s153">\</span></p><p class="s154" style="text-indent: 0pt;line-height: 14pt;text-align: left;">\ <span class="s155">,</span></p><p style="text-indent: 0pt;text-align: left;"/><p class="s156" style="text-indent: 0pt;line-height: 24pt;text-align: left;">..<span class="s157">,</span><span class="s158">_</span></p><p style="text-indent: 0pt;text-align: left;"/><p class="s161" style="padding-left: 133pt;text-indent: 0pt;line-height: 13pt;text-align: left;"><span class="s159">,-  </span><span class="s160">... </span>.<span class="s162">\</span>&#39;3<span class="s160">, </span>0 &#39;.. -&#39; &#39;... -&#39;</p><p class="s140" style="padding-left: 32pt;text-indent: 0pt;line-height: 13pt;text-align: left;">I <span class="s163">2 </span>I <span class="s159">, </span>- &quot;&#39; <span class="s164">\</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s165" style="padding-top: 22pt;text-indent: 0pt;line-height: 21pt;text-align: right;">, <span class="s166">-</span><span class="s167">..</span><span class="s168">\</span></p><p class="s140" style="padding-left: 32pt;text-indent: 0pt;line-height: 16pt;text-align: left;">I <span class="s161">29 ,.-</span></p><p class="s169" style="padding-left: 33pt;text-indent: 0pt;line-height: 4pt;text-align: left;">\</p><p class="s140" style="padding-left: 73pt;text-indent: 0pt;line-height: 14pt;text-align: left;">&quot;&#39; - I <span class="s170">3 </span>I</p><p class="s171" style="text-indent: 0pt;line-height: 21pt;text-align: left;">-</p><p style="text-indent: 0pt;text-align: left;"/><p class="s172" style="text-indent: 0pt;line-height: 14pt;text-align: right;">\ <span class="s173">...</span><span class="s174">,</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s167" style="padding-top: 1pt;text-indent: 0pt;line-height: 81%;text-align: left;">..<span class="s175">,</span><span class="s176">_ </span><span class="s177">-</span><span class="s178">..</span></p><p style="text-indent: 0pt;text-align: left;"/><p class="s179" style="padding-left: 10pt;text-indent: 0pt;line-height: 21pt;text-align: left;">,  <span class="s180">-</span><span class="s167">..</span><span class="s181">\</span></p><p class="s140" style="padding-left: 15pt;text-indent: 0pt;line-height: 11pt;text-align: left;">I <span class="s163">5 </span>I</p><p class="s182" style="padding-left: 18pt;text-indent: 0pt;line-height: 4pt;text-align: left;">\</p><p class="s183" style="padding-top: 2pt;text-indent: 0pt;line-height: 65%;text-align: left;">...<span class="s184">, </span><span class="s185">_</span><span class="s186">-</span></p><p style="text-indent: 0pt;text-align: left;"/><table style="border-collapse:collapse" cellspacing="0"><tr style="height:20pt"><td style="width:24pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s137" style="padding-top: 2pt;padding-right: 5pt;text-indent: 0pt;line-height: 16pt;text-align: right;">1</p></td><td style="width:23pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s137" style="padding-top: 2pt;padding-left: 9pt;text-indent: 0pt;line-height: 16pt;text-align: left;">11</p></td></tr><tr style="height:20pt"><td style="width:24pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s137" style="padding-top: 1pt;padding-right: 1pt;text-indent: 0pt;line-height: 16pt;text-align: right;">2</p></td><td style="width:23pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s137" style="padding-top: 1pt;padding-left: 9pt;text-indent: 0pt;line-height: 16pt;text-align: left;">11</p></td></tr><tr style="height:20pt"><td style="width:24pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s137" style="padding-top: 1pt;padding-right: 2pt;text-indent: 0pt;line-height: 17pt;text-align: right;">3</p></td><td style="width:23pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s137" style="padding-top: 1pt;padding-left: 8pt;text-indent: 0pt;line-height: 17pt;text-align: left;">14</p></td></tr><tr style="height:20pt"><td style="width:24pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s137" style="padding-top: 1pt;padding-right: 4pt;text-indent: 0pt;text-align: right;">4</p></td><td style="width:23pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:1pt"><p class="s137" style="padding-top: 1pt;padding-left: 8pt;text-indent: 0pt;text-align: left;">18</p></td></tr><tr style="height:19pt"><td style="width:24pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:1pt"><p class="s187" style="padding-right: 3pt;text-indent: 0pt;line-height: 16pt;text-align: right;">5</p></td><td style="width:23pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:1pt"><p class="s137" style="padding-left: 8pt;text-indent: 0pt;text-align: left;">28</p></td></tr></table><p style="text-indent: 0pt;text-align: left;"/><p class="s170" style="padding-left: 33pt;text-indent: 0pt;line-height: 11pt;text-align: left;">, <span class="s182">\</span></p><p class="s173" style="padding-top: 3pt;text-indent: 0pt;line-height: 57%;text-align: left;"><span class="s188">-</span>..<span class="s189">,</span>. <span class="s185">_</span></p><p style="text-indent: 0pt;text-align: left;"/><p class="s140" style="padding-left: 70pt;text-indent: 0pt;line-height: 13pt;text-align: left;">I <span class="s190">26 </span>I</p><p class="s182" style="padding-left: 73pt;text-indent: 0pt;line-height: 4pt;text-align: left;">\</p><p class="s167" style="text-indent: 0pt;line-height: 23pt;text-align: left;">.. <span class="s191">_</span><span class="s192">,</span></p><p style="text-indent: 0pt;text-align: left;"/><p class="s193" style="padding-top: 2pt;padding-left: 54pt;text-indent: 0pt;line-height: 10pt;text-align: left;">, <span class="s173">...</span><span class="s194">\</span></p><p class="s140" style="padding-left: 54pt;text-indent: 0pt;line-height: 13pt;text-align: left;">I <span class="s155">6 </span>I</p><p class="s182" style="padding-left: 57pt;text-indent: 0pt;line-height: 4pt;text-align: left;">\</p><p class="s140" style="text-indent: 0pt;line-height: 15pt;text-align: left;">I <span class="s170">7 </span>I</p><p style="text-indent: 0pt;text-align: left;"/><p class="s173" style="padding-top: 2pt;padding-left: 56pt;text-indent: 0pt;line-height: 11pt;text-align: left;">,</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s173" style="text-indent: 0pt;line-height: 14pt;text-align: left;">...<span class="s194">\</span></p><p class="s140" style="padding-left: 61pt;text-indent: 0pt;line-height: 13pt;text-align: left;">I <span class="s170">25 </span>I</p><p class="s169" style="padding-left: 63pt;text-indent: 0pt;line-height: 9pt;text-align: left;">\ <span class="s195">-</span></p><p class="s196" style="padding-left: 3pt;text-indent: 0pt;line-height: 22pt;text-align: center;">\ <span class="s197">..</span><span class="s177">-</span><span class="s198">,</span><span class="s180">-</span><span class="s199">..</span></p><p class="s200" style="text-indent: 0pt;line-height: 81pt;text-align: left;">•</p><p style="text-indent: 0pt;text-align: left;"/><p class="s201" style="text-indent: 0pt;line-height: 15pt;text-align: left;">I <span class="s158">8 </span>I</p><p style="text-indent: 0pt;text-align: left;"/><p class="s165" style="padding-left: 3pt;text-indent: 0pt;line-height: 6pt;text-align: center;">, <span class="s173">...</span><span class="s168">\                                                                                                             </span><span class="s202">,    </span><span class="s169">\</span></p><p class="s203" style="text-indent: 0pt;line-height: 85%;text-align: left;">\ <span class="s156">..</span><span class="s204">,</span><span class="s205">-</span><span class="s206">_</span><span class="s207">..</span></p><p style="text-indent: 0pt;text-align: left;"/><p class="s140" style="padding-top: 3pt;padding-left: 59pt;text-indent: 0pt;text-align: left;">I <span class="s161">24 </span>I</p><p class="s140" style="text-indent: 0pt;text-align: left;">I <span class="s161">23 </span>I</p><p style="text-indent: 0pt;text-align: left;"/><p class="s155" style="padding-top: 6pt;padding-left: 66pt;text-indent: 0pt;line-height: 13pt;text-align: left;">, <span class="s154">\</span></p><p class="s208" style="padding-left: 66pt;text-indent: 0pt;line-height: 24pt;text-align: left;">\ <span class="s209">..</span><span class="s210">, </span><span class="s171">-</span></p><p class="s211" style="padding-left: 14pt;text-indent: 0pt;line-height: 26pt;text-align: center;">\<span class="s197">.. </span><span class="s212">_</span><span class="s192">,</span></p><p class="s200" style="text-indent: 0pt;line-height: 81pt;text-align: left;">•</p><p style="text-indent: 0pt;text-align: left;"/><p class="s140" style="text-indent: 0pt;line-height: 15pt;text-align: left;">I <span class="s213">10 </span>I</p><p style="text-indent: 0pt;text-align: left;"/><p class="s179" style="padding-top: 15pt;padding-left: 3pt;text-indent: 0pt;line-height: 26pt;text-align: center;">,  <span class="s166">-</span><span class="s173">...</span><span class="s214">\</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s145" style="text-indent: 0pt;line-height: 80pt;text-align: left;">•</p><p style="text-indent: 0pt;text-align: left;"/><p class="s155" style="text-indent: 0pt;line-height: 27pt;text-align: left;">... <span class="s166">-</span></p><p style="text-indent: 0pt;text-align: left;"/><table style="border-collapse:collapse" cellspacing="0"><tr style="height:20pt"><td style="width:24pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:24pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s137" style="padding-top: 1pt;padding-left: 2pt;text-indent: 0pt;line-height: 17pt;text-align: center;">28</p></td></tr><tr style="height:19pt"><td style="width:24pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s150" style="padding-top: 1pt;padding-left: 3pt;text-indent: 0pt;text-align: center;">2</p></td><td style="width:24pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s137" style="padding-top: 1pt;padding-left: 2pt;text-indent: 0pt;line-height: 17pt;text-align: center;">28</p></td></tr><tr style="height:19pt"><td style="width:24pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s150" style="padding-top: 1pt;padding-left: 1pt;text-indent: 0pt;text-align: center;">3</p></td><td style="width:24pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s137" style="padding-top: 1pt;padding-left: 2pt;text-indent: 0pt;line-height: 16pt;text-align: center;">28</p></td></tr><tr style="height:19pt"><td style="width:24pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s146" style="padding-top: 2pt;text-indent: 0pt;text-align: center;">4</p></td><td style="width:24pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td></tr><tr style="height:20pt"><td style="width:24pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s138" style="padding-left: 3pt;text-indent: 0pt;text-align: center;">5</p></td><td style="width:24pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s215" style="padding-top: 1pt;padding-left: 3pt;text-indent: 0pt;text-align: center;">9</p></td></tr></table><p style="text-indent: 0pt;text-align: left;"/><table style="border-collapse:collapse" cellspacing="0"><tr style="height:19pt"><td style="width:26pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s137" style="padding-top: 1pt;padding-left: 4pt;text-indent: 0pt;line-height: 16pt;text-align: center;">1</p></td><td style="width:25pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s137" style="padding-top: 1pt;padding-left: 3pt;text-indent: 0pt;line-height: 16pt;text-align: center;">14</p></td></tr><tr style="height:20pt"><td style="width:26pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s137" style="padding-top: 2pt;padding-left: 7pt;text-indent: 0pt;line-height: 16pt;text-align: center;">2</p></td><td style="width:25pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s137" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;line-height: 16pt;text-align: center;">14</p></td></tr><tr style="height:19pt"><td style="width:26pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s137" style="padding-top: 1pt;padding-left: 6pt;text-indent: 0pt;line-height: 17pt;text-align: center;">3</p></td><td style="width:25pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s137" style="padding-top: 1pt;padding-left: 3pt;text-indent: 0pt;line-height: 17pt;text-align: center;">18</p></td></tr><tr style="height:20pt"><td style="width:26pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s137" style="padding-top: 1pt;padding-left: 2pt;text-indent: 0pt;text-align: center;">4</p></td><td style="width:25pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s137" style="padding-top: 1pt;padding-left: 3pt;text-indent: 0pt;text-align: center;">20</p></td></tr><tr style="height:19pt"><td style="width:26pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s150" style="padding-left: 4pt;text-indent: 0pt;text-align: center;">5</p></td><td style="width:25pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:1pt"><p class="s137" style="padding-left: 3pt;padding-right: 1pt;text-indent: 0pt;text-align: center;">28</p></td></tr></table><p style="text-indent: 0pt;text-align: left;"/><p class="s216" style="text-indent: 0pt;line-height: 22pt;text-align: right;">, <span class="s166">-</span><span class="s173">...</span><span class="s217">\</span></p><p class="s140" style="text-indent: 0pt;line-height: 15pt;text-align: left;">I <span class="s170">13 </span>I</p><p style="text-indent: 0pt;text-align: left;"/><p class="s161" style="text-indent: 0pt;line-height: 40%;text-align: right;"><span class="s218">,    </span><span class="s219">- </span><span class="s220">&#39;</span><span class="s221">I </span><span class="s222">\   </span>1<span class="s223">,</span>2 <span class="s201">I</span></p><p class="s224" style="padding-left: 8pt;text-indent: 0pt;line-height: 17pt;text-align: left;">\ <span class="s173">... </span><span class="s185">_ </span><span class="s225">,</span></p><p class="s140" style="text-indent: 0pt;line-height: 15pt;text-align: left;">I <span class="s158">15 </span>I</p><p style="text-indent: 0pt;text-align: left;"/><p class="s226" style="padding-top: 6pt;text-indent: 0pt;line-height: 24pt;text-align: right;">,     <span class="s180">-</span><span class="s173">...</span><span class="s194">\</span></p><p class="s163" style="padding-top: 1pt;padding-left: 8pt;text-indent: 0pt;text-align: left;">2 <span class="s161">28</span></p><p style="text-indent: 0pt;text-align: left;"/><table style="border-collapse:collapse" cellspacing="0"><tr style="height:20pt"><td style="width:25pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s137" style="padding-top: 1pt;padding-left: 4pt;text-indent: 0pt;line-height: 16pt;text-align: center;">1</p></td><td style="width:26pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s137" style="padding-top: 1pt;padding-left: 2pt;text-indent: 0pt;line-height: 16pt;text-align: center;">18</p></td></tr><tr style="height:20pt"><td style="width:25pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s137" style="padding-top: 2pt;padding-left: 6pt;text-indent: 0pt;line-height: 16pt;text-align: center;">2</p></td><td style="width:26pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s137" style="padding-top: 1pt;padding-left: 2pt;text-indent: 0pt;line-height: 16pt;text-align: center;">18</p></td></tr><tr style="height:19pt"><td style="width:25pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s137" style="padding-top: 1pt;padding-left: 6pt;text-indent: 0pt;line-height: 16pt;text-align: center;">3</p></td><td style="width:26pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s137" style="padding-top: 1pt;padding-left: 2pt;text-indent: 0pt;line-height: 16pt;text-align: center;">18</p></td></tr><tr style="height:20pt"><td style="width:25pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s137" style="padding-top: 1pt;padding-left: 1pt;text-indent: 0pt;text-align: center;">4</p></td><td style="width:26pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s137" style="padding-top: 1pt;padding-left: 3pt;text-indent: 0pt;text-align: center;">28</p></td></tr><tr style="height:19pt"><td style="width:25pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s150" style="padding-left: 4pt;text-indent: 0pt;text-align: center;">5</p></td><td style="width:26pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s137" style="padding-left: 1pt;text-indent: 0pt;text-align: center;">1</p></td></tr></table><p style="text-indent: 0pt;text-align: left;"/><p class="s211" style="text-indent: 0pt;line-height: 16pt;text-align: right;">\ <span class="s173">... </span><span class="s185">_</span><span class="s227">,</span></p><p class="s228" style="padding-top: 3pt;padding-left: 33pt;text-indent: 0pt;text-align: left;">\ <span class="s209">..</span><span class="s229">, </span><span class="s180">-</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s230" style="padding-top: 1pt;padding-left: 8pt;text-indent: 0pt;text-align: left;">3<span class="s155"> </span><span class="s231">28</span></p><p class="s232" style="padding-top: 4pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">4<span class="s139"> </span><span class="s231">28</span></p><p class="s170" style="padding-top: 4pt;padding-left: 8pt;text-indent: 0pt;text-align: left;">5 4</p><table style="border-collapse:collapse" cellspacing="0"><tr style="height:19pt"><td style="width:26pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s137" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;line-height: 16pt;text-align: center;">1</p></td><td style="width:25pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s137" style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;line-height: 16pt;text-align: left;">20</p></td></tr><tr style="height:19pt"><td style="width:26pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s137" style="padding-top: 3pt;padding-left: 6pt;text-indent: 0pt;line-height: 14pt;text-align: center;">2</p></td><td style="width:25pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s137" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;">20</p></td></tr><tr style="height:19pt"><td style="width:26pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s137" style="padding-top: 3pt;padding-left: 6pt;text-indent: 0pt;line-height: 15pt;text-align: center;">3</p></td><td style="width:25pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s137" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 15pt;text-align: left;">28</p></td></tr><tr style="height:19pt"><td style="width:26pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s137" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;line-height: 14pt;text-align: center;">4</p></td><td style="width:25pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:1pt"><p class="s137" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;">28</p></td></tr><tr style="height:19pt"><td style="width:26pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:1pt"><p class="s150" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;line-height: 14pt;text-align: center;">5</p></td><td style="width:25pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:1pt"><p class="s137" style="padding-top: 3pt;padding-left: 8pt;text-indent: 0pt;line-height: 14pt;text-align: left;">4</p></td></tr></table><p style="padding-left: 84pt;text-indent: 0pt;text-align: left;"><span style=" color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; vertical-align: 41pt;">	</span></p><p class="s60" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: center;">Figure 10-4. Chord DHT showing the lookup of key 26 from node 1</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;">Chord uses a data structure called a finger table to hold information used for looking up keys. Each node keeps its own finger table with <span class="s70">m </span><a href="#bookmark584" class="s33">rows. So, in the example in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 10-4</span>, each node keeps information about five other nodes. Even in a system with an address space of 2<span class="s103">160</span> possible nodes and millions of actual (populated) nodes, each node only needs a table with 160 entries.</p><p class="s70" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><span class="p">Line </span>i <span class="p">in node </span>p<span class="p">’s table shows the node that is a logarithmic number of hops from </span>p <span class="p">using the formula </span>succ(p+2<span class="s233">i-1</span>)<span class="p">. Note that </span>succ() <a href="#bookmark584" class="s33">here is the next node, not an increment. Study the finger tables for each node in </a><a href="#bookmark584" class="a">Figure 10-4</a><span class="s55"> </span><span class="p">and try to convince yourself that they are correct.</span></p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Looking up key 26 from node 1 involves forwarding the request to a series of nodes that are progressively and exponentially closer to the node responsible for that key. In the figure, no value in node 1’s finger table is greater than 26, so we hop to the highest value, 18, taking the request halfway around the ring.</p><p class="s59" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark602" class="s33" name="bookmark585">Since 20 &lt; 26 &lt; 28, node 18 forwards to 20. Similarly, since 21 &lt; 26 &lt; 28, 20 forwards to 21. Finally, 26 is less than any entry in 21’s finger table, so the value in row 1, namely 28, is the node responsible for key 26.</a><a href="#bookmark602" class="s42">5</a> <span class="p">Node 28 will respond with a value (if one exists) for 26.</span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Distributed hash tables provide a convenient, scalable way to create distributed directories of information. While they are not suitable for storing personally identifying information (PII), they are efficient and stand up well in the face of unreliable nodes. The primary disadvantages are that they are not immune to Byzantine and Sybil attacks. As a result, DHT usage is best limited to trusted environments where the node operators are identified and can be held accountable. For example, I have used a DHT for indexing a large number of processing nodes to distribute the load and avoid a SPOF. Since the DHT nodes could be run by a trusted entity, there was no danger of Byzantine and Sybil attacks.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark586">Using Blockchains for Discovery</a></p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark587">Directories require consensus about entries to be useful. If we don’t agree on what a name means, then the directory is useless. Enterprise directories achieve consensus through centralized technology and policy. DNS achieves distributed consensus but using a hierarchy that, as we’ve discussed, is not as resistant to failure, attack, and censorship as we’d like.</a></p><p class="s59" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark393" class="s33" name="bookmark588">We discussed the basic operation and features of blockchains in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 9</span><a href="#bookmark603" class="s33">. Blockchains provide a way of creating consensus about shared information that is resistant to both Byzantine and Sybil attacks.</a><a href="#bookmark603" class="s42">6</a> <span class="p">Other means of providing distributed consensus, like distributed hash tables, don’t have blockchains’ resistance to these attacks. Consequently, blockchains provide a unique solution to creating a decentralized directory.</span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Blockchains have some limitations that must be considered when using them as a directory, though:</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_213.png"/></span></p><p style="padding-top: 8pt;padding-left: 3pt;text-indent: 0pt;text-align: center;">Blockchains are immutable. You cannot just delete an entry like you can in a traditional</p><p style="padding-top: 3pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">directory.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_214.png"/></span></p><p style="padding-top: 8pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Blockchains are expensive. Blocks are written after confirmation by third-party actors who are usually compensated in some way. The process and cost vary from blockchain to blockchain.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_215.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Blockchains are space constrained. Most blockchains have limited capacity to store data based on the size of their blocks.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_216.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Blockchains are not databases with built-in query languages. Most aren’t even designed to function well as key-value stores.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_217.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Blockchains are, usually, publicly accessible, so they are not appropriate places to store PII, even if that information is hashed or encrypted.</p><p style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Considering these limitations, it may seem that using a blockchain as a directory is a bad idea, but with careful design, blockchains can be useful tools for discovery. The details of how to use a blockchain as a global, distributed registry vary depending on the blockchain’s architecture and features. There are three general approaches to this.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The first approach is to augment an existing blockchain, usually Bitcoin, with other systems to support the needed features. Bitcoin was designed as a digital currency, and so its native capabilities are very much aimed at that use case. Bitcoin makes it easy, for example, to verify a specific transaction has occurred by checking the hashes of the block that holds the transaction and ensuring it is properly situated in the chain.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;"><a name="bookmark589">Sidetree is a protocol from the Decentralized Identity Foundation (DIF) that uses a blockchain to anchor a bundle of operations stored on some other content-addressable storage (CAS). Sidetree operates as a overlay network, with Sidetree nodes operating independently of the underlying nodes operating the blockchain and CAS. For example, ION is a system for storing, updating, recovering, and deactivating decentralized identifiers (DIDs) that uses the Sidetree protocol. ION uses Bitcoin and the InterPlanetary File System (IPFS) as the blockchain and CAS in a Sidetree- based system to implement the </a><span class="s70">did:ion </span><a href="#bookmark604" class="s33">DID method.</a><a href="#bookmark604" class="s42">7</a><a href="#bookmark594" class="s43"> </a><a href="#bookmark594" class="a">Figure 10-5</a> shows the nodes of a Sidetree network and their relationship to the ledger and the CAS.<a name="bookmark590">&zwnj;</a><a name="bookmark591">&zwnj;</a><a name="bookmark592">&zwnj;</a><a name="bookmark593">&zwnj;</a></p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The advantage of this method is that ION can use well-resourced, decentralized infrastructures like Bitcoin and IPFS to provide the underlying functionalities without the implementers having to build them. The primary disadvantage is that overlay networks depend on the underlying systems. For example, the cost of using the ION network depends on the value of Bitcoin at any given time, so fluctuations can increase (or decrease) cost.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s234" style="padding-top: 4pt;padding-left: 3pt;text-indent: 0pt;line-height: 14pt;text-align: center;"><a name="bookmark594">(3) Content addressable storage (CAS) network</a></p><p class="s235" style="padding-left: 3pt;text-indent: 0pt;line-height: 4pt;text-align: center;">(e.g., <span class="s236">IPFS)</span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="263" height="154" alt="image" src="Image_218.jpg"/></span></p><p class="s237" style="text-indent: 0pt;line-height: 66pt;text-align: right;">e</p><p style="text-indent: 0pt;text-align: left;"><span><img width="97" height="79" alt="image" src="Image_219.jpg"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="508" height="396" alt="image" src="Image_220.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="30" height="77" alt="image" src="Image_221.jpg"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="73" alt="image" src="Image_222.png"/></span></p><p class="s238" style="padding-left: 57pt;text-indent: 0pt;line-height: 37pt;text-align: center;">••   <span class="s239">•</span></p><p class="s240" style="padding-top: 31pt;padding-left: 12pt;text-indent: 0pt;line-height: 48%;text-align: left;">•<span class="s241">•</span><span class="s242">•</span></p><p class="s243" style="text-indent: 0pt;line-height: 43pt;text-align: left;">D</p><p style="text-indent: 0pt;text-align: left;"/><p class="s244" style="padding-left: 38pt;text-indent: 0pt;line-height: 73pt;text-align: center;">0 <span style=" color: #016D34;">eG•</span></p><p class="s243" style="text-indent: 0pt;line-height: 43pt;text-align: left;">D</p><p style="text-indent: 0pt;text-align: left;"/><p class="s234" style="padding-top: 15pt;padding-left: 183pt;text-indent: 0pt;line-height: 13pt;text-align: left;">(2) Sidetree network</p><p class="s245" style="padding-left: 68pt;text-indent: 0pt;line-height: 13pt;text-align: left;">- - - - <span style=" color: #013118;">- </span>- - - - - - <span style=" color: #013118;">-+-</span>_ <span style=" color: #016D34;">_,</span>_ _</p><p class="s234" style="padding-left: 185pt;text-indent: 0pt;line-height: 12pt;text-align: left;">Peerl Peer2</p><p class="s248" style="padding-top: 11pt;padding-left: 8pt;text-indent: 0pt;line-height: 26pt;text-align: left;">0 0</p><p class="s249" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 80%;text-align: center;">Batch <span class="s250">Txn </span><span class="s251">writer</span></p><p style="text-indent: 0pt;text-align: left;"/><p class="s251" style="padding-top: 6pt;padding-left: 5pt;text-indent: -2pt;line-height: 80%;text-align: center;"><span class="s249">Batch </span><span class="s250">Txn </span>w<span style=" color: #261313;">r</span>iter</p><p style="text-indent: 0pt;text-align: left;"/><p class="s243" style="padding-left: 21pt;text-indent: 0pt;line-height: 39pt;text-align: left;">D D</p><p class="s248" style="padding-left: 8pt;text-indent: 0pt;line-height: 24pt;text-align: left;">0 <span class="s253">0</span></p><p class="s243" style="padding-left: 21pt;text-indent: 0pt;line-height: 42pt;text-align: left;">D D</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s254" style="padding-left: 18pt;text-indent: 0pt;text-align: left;"><span><img width="1" height="43" alt="image" src="Image_223.png"/></span>	<span><img width="5" height="43" alt="image" src="Image_224.jpg"/></span></p><ol id="l15"><li><p class="s234" style="padding-top: 3pt;padding-left: 170pt;text-indent: -15pt;text-align: left;">Decentralized ledger system</p></li></ol><p class="s60" style="padding-top: 3pt;padding-left: 9pt;text-indent: 0pt;text-align: left;">Figure 10-5. Sidetree is a network of nodes that interact with a public ledger (1) and a content addressable storage network (3)</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The second approach applies to blockchains that support smart contracts. Smart contracts are programs stored on a blockchain, and the nodes operating the blockchain execute these programs on demand, in a trustworthy way due to the cryptographic nature of the underlying blockchain.</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Smart contract programming languages allow data to be persistently stored on and retrieved from the underlying chain.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The advantage of using smart contracts is similar to the advantages of the first method. Well- resourced, decentralized platforms for running smart contracts (e.g., Ethereum) exist and are operated by others. Smart contracts discovery systems operate on this public infrastructure. Smart contracts can be self-sufficient, meaning that they can collect money, carry out transactions, and distribute resources, including funds. The code for the contract is generally inspectable, providing transparency. Again, like the first method, smart contracts depend on the underlying infrastructure and how it operates.</p><p class="s59" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark605" class="s33" name="bookmark595">The third approach uses blockchains specifically architected for the directory operations. For example, the Hyperledger Indy blockchain is designed to store information associated with verifiable credentials, including DIDs, credential schema, credential definitions, and credential revocation accumulators. Indy does this by coupling the underlying blockchain with a database to provide the key-value store. Indy transaction history can be replayed to build a state record—a Merkle Patricia trie is used to prove the values in the database match the transaction history.</a><span style=" color: #8E0011; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; vertical-align: 4pt;">8</span> <a href="#bookmark606" class="s33">The details of how this works are beyond the scope of this book,</a><a href="#bookmark606" class="s42">9</a> <span class="p">but the result is a very fast, cryptographically trustworthy key-value store.</span><a name="bookmark596">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The biggest advantage of the custom blockchain approach to discovery is that all the necessary functionalities can be built into the code from the start, and needed changes can be made without worrying about the features or functionality of the underlying infrastructure since there isn’t any. And that’s also the biggest disadvantage: someone must operate the blockchain. If it’s permissionless, getting the incentive structure right can be tricky and the blockchain will live or die based on how well designed the incentives are. In my experience, this is very hard. If it’s permissioned, then an organization must be created to govern the operation of the nodes. Many may object to the structure of the organization or that there’s any organization at all, since many in the blockchain world believe that real decentralization cannot be achieved in permissioned systems.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark875" class="s33" name="bookmark597">In </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 14</span>, you’ll learn that each of these methods has been used to implement the discovery mechanism for public DIDs.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Discovery Is Key</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Discovery is one of the fundamental activities in any digital identity infrastructure. Many organizations can solve their most pressing identity management problems with a good directory strategy. As the world has become more interested in user-centric or decentralized identity solutions, discovery beyond the walls of the enterprise has become increasingly important. We’ll</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">explore specific ways this is playing out in upcoming chapters.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="624" height="1" alt="image" src="Image_225.png"/></span></p><ol id="l16"><li><p class="s45" style="padding-top: 5pt;padding-left: 32pt;text-indent: -11pt;text-align: left;"><a href="https://oreil.ly/9KZwD" class="s68" target="_blank" name="bookmark598">Crosbie Fitch,</a><a href="https://oreil.ly/9KZwD" class="s46" target="_blank"> </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 9pt;">“Ideating Identity”</span>, July 11, 2007, accessed September 21, 2021.</p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 32pt;text-indent: -11pt;text-align: left;"><a href="https://oreil.ly/0ezrQ" class="s68" target="_blank" name="bookmark599">Prescod, Paul,</a><a href="https://oreil.ly/0ezrQ" class="s46" target="_blank"> </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 9pt;">“Roots of the REST/SOAP Debate”</span>, accessed September 22, 2021.</p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 32pt;text-indent: -11pt;text-align: left;"><a href="https://oreil.ly/3e-nT" class="s68" target="_blank" name="bookmark600">Zooko Wilcox-O’Hearn,</a><a href="https://oreil.ly/3e-nT" class="s46" target="_blank"> </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 9pt;">“Names: Distributed, Secure, Human-Readable: Choose Two”</span>, 2001.</p></li><li><p class="s67" style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a href="#bookmark574" class="s68" name="bookmark601">Note in </a>Figure 10-3 <span style=" color: #000;">and elsewhere in this section, I am not URL-encoding the query string for clarity even though this would be done in practice.</span></p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 32pt;text-indent: -11pt;text-align: left;"><a name="bookmark602">Note that some lookups loop across the top. Tables use modulo arithmetic to stay within the address space.</a></p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark603">I’m going to use the word “blockchain” in this section to refer generally to distributed ledgers of all kinds regardless of their specific architectural details.</a></p></li><li><p class="s67" style="padding-top: 6pt;padding-left: 32pt;text-indent: -11pt;text-align: left;"><a href="#bookmark875" class="s68" name="bookmark604">We’ll discuss DIDs in detail in </a><a href="#bookmark875" class="s64">Chapter </a>14<span style=" color: #000;">.</span></p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 32pt;text-indent: -11pt;text-align: left;"><a name="bookmark605">A trie is a type of search tree where the node’s position in the trie defines the key with which it is associated.</a></p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 32pt;text-indent: -11pt;text-align: left;"><a href="https://oreil.ly/7hTME" class="s68" target="_blank" name="bookmark606">For more information, see the</a><a href="https://oreil.ly/7hTME" class="s46" target="_blank"> </a><a href="https://oreil.ly/7hTME" class="s47" target="_blank">Indy </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 9pt;">documentation</span>.</p></li></ol><p class="s21" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark607">Chapter 11. Authentication and Relationship Integrity</a><a name="bookmark608">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="624" height="1" alt="image" src="Image_226.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Authentication <span class="p">(often abbreviated as “authn”) is the process we use to recognize other entities online.</span></p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark192" class="s33">As </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 5</span> <span style=" color: #000;">discussed, online relationships depend on knowing that you’re interacting with the same entity each time you connect. I’ve defined functional digital identity as recognizing, remembering, and responding to a person, organization, or thing online. Because of the proximity problem, we are forced to do this recognition without the familiar methods we use in the physical world. Put another way, the integrity of the relationship depends on the authenticity of each connection—being able to identify to whom or what you’re connected.</span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark609">Authentication prevents outsiders from gaining fraudulent access to a system. This also protects the requester from identity theft. Ensuring authentication is sufficiently robust is vital to the security and relationship integrity of a system.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Identification usually starts with declaring an identifier. Depending on the type of relationship and its uses, you may need to ensure the authenticity of that declaration. There are numerous methods for doing so.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;"><a href="mailto:someone@some.domain" class="s33" target="_blank">The internet routes packets between machines. When email and other internet services were developed, their creators assumed that people were using a particular machine or domain, so no one needed a method for identifying people. This assumption is the reason emails are addressed to </a><a href="mailto:someone@some.domain" class="s255" target="_blank">someone@some.domain</a>. This worked well until the web caused an explosion in internet use. Suddenly many more people were using different services (sometimes hundreds) and needing accounts on almost all of them. These had to be easy to use—with so many passwords to track—but also balance the attendant security and privacy concerns. In short, an authentication crisis arose, with accounts too often under attack and personal data too often lost or inappropriately shared.</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The foundational purpose of digital identity is architecting and installing an authentication system that maintains the integrity of the relationships it manages and mitigates these concerns. This chapter discusses critical factors in designing useful and usable authentication systems.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Enrollment</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark610">Enrollment initiates a new relationship. Specifically, </a><i>enrollment </i>is the process of creating an account for a person, organization, or thing (we’ll call this entity the <i>requester</i>) and associating it with whatever authentication factors will be used to prove that the requester has control of the account. The most familiar enrollment process is registering a new account in an app or on a website. In this familiar flow, the requester picks an identifier (often an email address) and a</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">password. After these are accepted, the requester may be asked to supply other attributes. But this is just the most common enrollment experience. There are many more. Let’s explore a few of the important components of the enrollment process.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Identity Proofing</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark611">Identity proofing </a><span class="p">is the process of ensuring that an account is associated with a specific requester. The type and rigor of identity proofing depends on the relationship type. For many web accounts, there is essentially no identity proofing. To cut down on denial-of-service attacks, many enrollment processes use a CAPTCHA to ensure the requester is human.</span><a name="bookmark612">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">CAPTCHA, which stands for “Completely Automated Public Turing test to tell Computers and Humans Apart” is undoubtedly familiar to you. A CAPTCHA is a challenge response system that is designed to protect against automated systems filling out forms that are meant for humans. Sometimes these ask you to identify all the pictures that have a specific quality (for example, they depict a boat) in an <i>N </i>by <i>M </i>matrix of pictures. Sometimes you’re asked to type letters and numbers from an image that has them obscured in ways to make text capture difficult.</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">CAPTCHAs can be attacked in various ways, such as outsourcing the image-recognition tasks to a real human, but they remain an important way to avoid denial-of-service attacks and mass enrollment for fraudulent purposes.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Often, if the account needs an email or phone number, identity proofing will include checking that these have been entered correctly and belong to the requester, usually by sending a one-time code to the email address or phone number and having the person enter it while logged in.</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Sometimes account services are unavailable until the email address or mobile number is proofed, but not always.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark291" class="s33">For many types of relationships, the identity proofing process is much more involved. When you are hired, for example, your employer will ask you to supply identity documents like birth certificates or passports, usually in person. Similarly, opening a bank account requires stricter identity proofing because of the Anti-Money-Laundering and Know-Your-Customer regulations you learned about in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 8</span>.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Since the data needed to support an employee-employer or a bank-customer relationship is much richer than that needed for establishing an account at an online retailer, the enrollment process is more involved. Historically, rich enrollment processes have happened in person, but that is changing with the increase in remote work: numerous companies now offer remote identity- proofing services.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Biometric Collection</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark613">Establishing an account often involves collecting biometric data in the form of photographs, fingerprints, handprints, voice prints, facial scans, and so on. Sometimes, as I’ll discuss below, this biometric data is collected to strengthen the authentication process and ensure that only a specific person can authenticate for the account. But it has other purposes, too, such as a picture for an employee badge or fingerprints for a background check. These attributes, even when not</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">used for authentication directly, are associated with the account and attest to the identity of the account controller (requester).</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Attribute Collection</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark614">Attributes like name and address are often collected as part of the enrollment process. These provide basic information needed to service the relationship. Not all such information is necessarily collected at the time of enrollment. For example, to reduce friction, new shoppers at an online retailer may register for an account without supplying any other information. But when they check out, they are given the opportunity to save their shipping address or credit card information for future visits, augmenting the attributes associated with the account.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark615">Incremental attribute collection is more common than you might think. Relationships are constantly changing. Often those changes are just more of what’s already there. My Netflix account is constantly being updated with my viewing data—attributes that increase the utility of the relationship between me and Netflix.</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Authentication Factors</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark616">Authentication requires proof that an identifier and the account it is connected to belongs to or is controlled by the requester providing that identifier. I use </a><i>proof </i>here in the broadest possible sense: the nature of the proof varies, depending on the degree of authenticity demanded by the relationship type and use.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;"><a name="bookmark617">You’ll sometimes hear people describe authentication factors as </a><i>credentials</i><a href="#bookmark701" class="s33">, but I will reserve that word to refer to cryptographic documents used to carry attributes.</a><a href="#bookmark701" class="s42">1</a><span class="s59"> </span>Instead, I’ll refer to the information people supply to authenticate simply as <i>authentication factors</i>.<a name="bookmark618">&zwnj;</a></p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark619">Undoubtedly, you’ve heard of </a><i>two-factor authentication </i>(2FA) or <i>multifactor authentication </i>(MFA). These terms are meant to convey the strength of the proof of authenticity by indicating how many authentication factors were used. Authentication factors can be categorized as follows:<a name="bookmark620">&zwnj;</a></p><p class="s35" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Knowledge factor</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">Something you know</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Possession factor</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">Something you have</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Inherence factor</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">Something you are</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Behavior factor</p><p style="padding-top: 3pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">Something you do</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Location factor</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">Somewhere you are</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Temporal factor</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">Some time you’re in</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">I’ll discuss each of these in more detail.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Knowledge Factor: Something You Know</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark621">This is the most familiar authentication factor because passwords are a knowledge factor, and they are ubiquitous. Personal identification numbers (PINs), like those used in automatic teller machines (ATMs), are an example. The </a><i>something you know </i><a href="#bookmark393" class="s33">should ideally be a shared secret that only you and the authenticating service know, so your username or email isn’t normally considered a knowledge factor. As you saw in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 9</span>, shared secrets suffer from several weaknesses, including the need to safely share the secret, their susceptibility to theft, and the ability to brute-force guess them. Reusing passwords; using short, well-known, or easy-to-guess passwords; and storing passwords insecurely are practices that exacerbate these problems.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Password managers and smartphones make it more manageable to keep track of all the things you know. When used properly, they reduce some of these risks by allowing people to use longer, less easily guessed, and single-use passwords.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Possession Factor: Something You Have</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark622">Physical possession is a time-honored method of proving authenticity. In the Middle Ages, letter writers used signet rings with a unique, engraved symbol to create wax seals to prove the authenticity of a letter. Some examples of possession factors are:</a></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_227.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_228.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_229.png"/></span></p><p style="padding-top: 8pt;padding-left: 29pt;text-indent: 0pt;line-height: 165%;text-align: left;">Physical keys ATM cards Identification cards</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_230.png"/></span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark623">So-called “magic links”: hyperlinks with an embedded one-time code, emailed to the address associated with the account. Clicking on the link proves you control (possess) the email account. This can be done to prove the email address is valid when the account is initialized and then later used for authentication.</a><a name="bookmark624">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_231.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark625">Recovery passcodes: services generate a group of passcodes when you sign up and tell you to save them in case you need to recover your account.</a></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_232.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">The one-time codes that some services send via SMS for authentication; the thing you</p><p style="padding-top: 5pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark702" class="s33" name="bookmark626">possess is the SMS account.</a><a href="#bookmark702" class="s42">2</a></p><p style="padding-top: 10pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark627">One way to create one-time codes that don’t have to be delivered to the authenticating party is to use hardware devices like the RSA SecurID token. These devices generate a one-time code (generated using one of several open standards) that you can use to prove you possess a specific token. Tokens based on HMAC-based One-Time Password (HOTP) generate a code that does not expire until it is used, at which time the next code in the unique sequence is generated.</a><a name="bookmark628">&zwnj;</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark629">Tokens based on Time-based One-Time Password (TOTP) generate a unique number that expires automatically after a set period (usually 30 seconds). Instead of producing a code you type into the login form, some hardware tokens use a cryptographic protocol built into a browser or application. I’ll talk more about these later in the chapter.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;">Apps use possession of your smartphone as a means of authentication, often with the assumption you’ve protected it with a PIN or biometric. But software authentication apps can be used in lieu of service-specific hardware tokens to generate TOTP codes for services that accept them.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Inherence Factor: Something You Are</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark630">The more common term for the </a><i>inherence factor </i>is <i>biometrics</i>: measurements of something unique about your physical body. Fingerprints, handprints, retinal scans, voice scans, and facial scans are known as <i>morphological biometrics </i>because they have to do with the structure of your body. There are also <i>biological biometrics, </i>like DNA, blood scans, and other tests, that can yield unique data about you. When people talk about biometrics for authentication, they are almost always talking about morphological biometrics.<a name="bookmark631">&zwnj;</a><a name="bookmark632">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">When you do an initial morphological scan to open an account, it is reduced to a data structure and stored. When you attempt to authenticate, an algorithm scans you again and compares the new scan with the stored one. The comparison is not an equality test, since any two scans will differ in some ways. Biometric algorithms are designed to take this into account and still yield accurate results.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Biometrics are popular because they offer good proof of authenticity while being convenient. Most people prefer to unlock their phone using their finger or face as opposed to typing in a pin or password.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Behavior Factor: Something You Do</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark633">Behavior factors </a><span class="p">are not used very often. The “picture password” in Microsoft Windows is an example of a behavior factor: requesters authenticate by drawing shapes, tapping on the right points on the screen, or making the right gestures on a prechosen image. Another example is typing behavior: people’s typing is remarkably unique, especially on a relatively long phrase.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Location Factor: Somewhere You Are</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark634">A </a><i>location factor </i>is based on geofencing something that is accessed remotely and ensuring that the requester’s location makes sense. Traveling with a credit card is a familiar example: if you</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">fail to notify your bank you’ll be out of the country, your charges may be declined because they don’t fit a familiar pattern. We can do the same thing with IP addresses, network routes, Global Positioning System data, or ping latency to ensure that the requesting device is where it’s expected to be. Location factors are not generally secure enough to be used for authentication on their own but are combined with other factors.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Temporal Factor: Some Time You’re In</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark635">Like a location factor, a </a><i>temporal factor </i>is not something you’d use on its own to perform authentication, but it’s evidence that a particular authentication falls inside or outside a recognizable pattern of common access times. For example, a system might notice if someone is accessing it after normal work hours. We can also combine time and location. If location changes more rapidly than is reasonable with modern transportation services, that can also be a red flag.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark636">Relying on location and temporal factors can lead to unintended consequences. A friend of mine located in the US recently logged into his bank account from his phone and also from his laptop, forgetting he’d been using a virtual private network (VPN) on the laptop to access websites in Germany. This made it appear to the system that he was somehow in both the US and Germany at the same time. The bank assumed, wrongly, that his account had been hacked, locked him out, and started a fraud investigation. He spent several days sorting this out.</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Authentication Methods</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;"><a name="bookmark637">Authentication methods use authentication factors, alone or in combination. Presenting yourself to a remote service to be identified has two steps. First, you assert an identifier. Second, you use some combination of authentication factors to prove you control that identifier.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark524" class="s33">As you learned in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 10</span>, identifiers are (usually) subject to Zooko’s triangle, which states that an identifier can have at most two of three desirable properties: decentralized, secure, and human readable. Most familiar authentication systems like those in mobile apps opt for human- readable identifiers without much thought for the others. Email addresses are perhaps the most common, since they are guaranteed to be globally unique and they’re easy to remember. They might or might not be secure, depending on the email service the requester uses. This forces the service performing the authentication to depend on the security of some other system that is not under its control.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_233.png"/></span></p><p style="padding-top: 5pt;padding-left: 29pt;text-indent: -24pt;line-height: 174%;text-align: left;">The remainder of this section will discuss four different categories of authentication methods: Identifier only</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_234.png"/></span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 13pt;text-align: left;">Identifier and authentication factors</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_235.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_236.png"/></span></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 165%;text-align: left;">Challenge-response Token-based</p><p class="s61" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Identifier Only</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark638">Identifier-only authentication is really “no-factor authentication,” since no authentication factors are used. The requester asserts an identifier, and the relying party accepts it without any further proof. Identifier-only identification is widespread; the most common such system is the browser cookie.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark639">Most people don’t think of cookies as an authentication system, but they </a><i>are </i>used to lay claim to a particular session. The <i>Hacker’s Dictionary </i>defines a <i>cookie </i>as a handle, transaction ID, or other token of agreement between cooperating programs. The claim check you get from a dry cleaning shop is a good example of a cookie; the only thing it’s useful for is making sure that you get your clothes back, which it does by relating two transactions that happen at different times.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">On the internet, whenever a requester’s browser makes a request to the server, the server generates and sends back an HTTP cookie, allowing the server to correlate all requests from that browser. The requester’s browser stores the cookie for future use. These cookies serve the same purpose as the dry cleaning claim check: they tie transactions together that are otherwise difficult to connect.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="http://foo.com/" class="s33" target="_blank">To see how this works, suppose Alice uses her browser to visit a website she’s never been to before: </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: italic; font-weight: normal; text-decoration: underline; font-size: 12pt;">foo.com</span>. The administrators for <i>foo.com </i>have configured their server to return a cookie with every HTTP response. So, when Alice visits the site, the server passes a cookie back to her browser. Alice’s browser dutifully stores the cookie in a file on her computer used especially for this purpose. The next time she requests a page from <i>foo.com </i>(which could happen in the same browsing session or days or even weeks later), her browser sends back the cookie it received on the previous visit. This allows <i>foo.com </i>to correlate Alice’s visits and create a session that spans individual HTTP transactions.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">So, let’s review what happens in this process:</p><ol id="l17"><li><p style="padding-top: 10pt;padding-left: 29pt;text-indent: -15pt;line-height: 109%;text-align: left;">The server asks Alice’s browser to store some information as a cookie, knowing that it will be sent back verbatim when the browser makes its next request.</p></li><li><p style="padding-top: 7pt;padding-left: 29pt;text-indent: -15pt;text-align: left;">The server chooses the information in the cookie it gave to her browser.</p></li><li><p style="padding-top: 9pt;padding-left: 29pt;text-indent: -15pt;text-align: left;">Alice’s browser doesn’t add any information to the cookie, just passes it back.</p></li><li><p style="padding-top: 9pt;padding-left: 29pt;text-indent: -15pt;text-align: left;">Alice’s browser stores the cookie in a special file that it, not the server, chooses.</p></li><li><p style="padding-top: 9pt;padding-left: 29pt;text-indent: -15pt;line-height: 109%;text-align: left;">The next time Alice retrieves a page from that website, her browser sends the string back to the server.</p></li></ol><p style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The cookie does not necessarily contain any information about Alice, but it could. Remember, the server chooses the string used for the cookie. The cookie is not a program, either; it can’t be executed and has no ability to access other information on Alice’s computer. It represents an identifier for the session, not necessarily for Alice. If it is stored on a public computer, for example, anyone using that computer will be in the same session, from the server’s perspective.</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">To make it Alice’s identifier for the session, the cookie must be set when Alice is authenticated in some other way, then deleted or invalidated when she logs out.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Cookie-based correlation is foundational to the modern web. Because HTTP is a stateless protocol, every request looks like a different session. The ability to link together time-separated transactions is what allows a website to run a shopping cart, remember who you are, or fill in forms for you. Just like you wouldn’t return to a dry cleaner who couldn’t match customers with their clothes, websites without the ability to link transactions across time don’t do much besides serve simple pages.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;"><a href="http://foo.com/" class="s33" target="_blank">There is a dark side to cookies. As I’ve described them, they sound largely innocuous—but the devil is in the details. If Alice is shopping on </a><span style=" color: #0000ED; font-family:&quot;Courier New&quot;, monospace; font-style: italic; font-weight: normal; text-decoration: underline; font-size: 12pt;">foo.com</span>, she wants the site to keep track of her session because that provides utility and convenience. But it turns out that most web pages are not a single chunk of HTML that the server sends down. They have lots of other things, like JavaScript files and images, embedded in them too. These other things don’t have to be from the same server and are identified by their own URL. Each of those servers can set its own cookie as well. And since the cookies know where they were linked from, they can correlate activity across multiple websites.</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark291" class="s33" name="bookmark640">This is how (simple) ad tracking works. When you see an ad on website A, it’s being served from a server owned by an ad company with which website A has an agreement. The ad server plants a cookie in your browser. Now suppose you visit website B, which displays ads from the same ad server. Your browser dutifully reports the cookie back to the ad server, along with the information that the ad was on website B. The company running the ad server now knows you were on websites A and B (along with lots of other metadata). Rather than correlating requests on a single site, it’s using cookies to correlate your activity across the web, well beyond the utility of a shopping cart or a chat server. It doesn’t stop with your browsing history. The ad company learns other things about you from the sites you visit, and soon it can develop a comprehensive dossier. This is the basis for surveillance capitalism, discussed in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 8</span>.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Identifier-only authentication is a weak form of authentication because there’s no way to ensure that the same entity is using the cookie from visit to visit. Not only might the cookie be on a shared computer, but cookies can be moved from one browser to another. Even with these problems, identifier-only authentication is useful in a variety of circumstances.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Identifier and Authentication Factors</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark641">We often classify authentication systems by how many different factors they use. Every authentication factor I’ve discussed here has unique security vulnerabilities that limit its effectiveness as a proof of authenticity. Combining factors can reduce those vulnerabilities, since the strength of one factor can compensate for the weakness of another.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark642">Username/password is a </a><i>single-factor authentication </i>scheme: the password, something you know, is the only authentication factor used. As we’ve seen, the weakness of passwords is that the shared secret may become known to attackers through hacking. Using <i>two-factor authentication </i>(2FA), combining something you know, the password, with something you<a name="bookmark643">&zwnj;</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">possess, like a one-time code from your phone, mitigates this limitation, since the hacker must gain access to your phone somehow in addition to stealing your password.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark644">2FA is becoming more commonly available, even if it’s not often required. You could even consider the one-time code from an authenticator app, combined with a password, to be </a><i>three</i>- factor authentication in some circumstances. Not only is the password a knowledge factor and the one-time code a possession factor, but using a biometric to access the authenticator app can provide a third factor, an inherence factor, in the overall proof of authenticity. The service could also use location or temporal factors. Consequently, the name <i>multifactor authentication </i>(MFA) has gained popularity in describing the general idea of combining factors.</p><p class="s104" style="padding-top: 11pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Passwords</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark645">By far, the most common form of identifier and authentication factor is a username and password. If you’re like me, you have hundreds of username/password pairs for various computer systems around the internet. By entering a username, you lay claim to an account, and the password is used to authenticate that you are allowed to do so. The system uses the account that the username represents to associate attributes with the account holder. In a web session, for example, the authenticating party is laying claim to a specific web session and the attributes the service has stored for them.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark647" class="s33" name="bookmark646">The flow for password registration and use is shown in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 11-1</span>. With passwords and other factors like one-time security codes, the authentication factor (such as the password or one-time password, OTP) flows from the authenticating party to the authenticating service.</p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="592" height="589" alt="image" src="Image_237.jpg"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s104" style="padding-top: 11pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark647">Password management</a></p><p class="s60" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Figure 11-1. Password registration and use</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark648">The biggest advantage of username and password systems is their simplicity and familiarity. The largest drawback is their reliance on passwords. In theory, because passwords are secret (something you know), they are secure, and only the entity with the secret can reveal it to the authentication system. In practice, passwords suffer from several serious limitations:</a></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_238.png"/></span></p><p style="padding-top: 8pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">People can remember only a limited number of items with perfect accuracy (around eight, on average). Furthermore, they usually have multiple passwords to remember. As a result, people tend to create passwords that are short and simple. They also often use the same password for multiple accounts.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_239.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">Easy-to-remember passwords can be easily guessed by an attacker. Even passwords that</p><p style="padding-top: 3pt;padding-left: 29pt;text-indent: 0pt;line-height: 108%;text-align: left;">have no relation to the requester can be effectively guessed if they are what are known as “dictionary words.” The best passwords are long, random strings of characters, but people can’t remember those.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_240.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark649">People (and even machines) can be tricked into revealing passwords to an attacker. One common method is creating fake login screens, a technique called </a><i>phishing</i>. Another is known as <i>social engineering</i>, in which the attacker contacts the account holder and tricks them into revealing their password by posing as an administrator or someone else the person trusts.<a name="bookmark650">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_241.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">People write passwords down or store them in files on computers. This makes them vulnerable to theft and misuse.</p><p style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Many IT departments institute password aging policies that force users to change their passwords on a periodic basis to mitigate the dangers posed by loss or sharing. They also frequently enforce rules about password structure to make passwords less guessable. For example, the rules may disallow dictionary words, require passwords longer than eight characters, or require passwords to contain a mixture of letters, numbers, and punctuation. These policies often result in people giving up trying to remember their passwords and simply writing them down and pasting them to their monitors or sticking them in the pencil drawer.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">When it’s poorly implemented, password aging can be a detriment in other ways. Some password-aging implementations, for example, allow a person to immediately change their password back to the previous password, defeating the purpose. Also, many systems surprise the person with a requirement to select a new password when logging in. Faced with having to select a new password quickly, many people select simple variations on older passwords.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The best tool for making passwords better is a password manager, an app that provides a secure, convenient way to generate, store, and use passwords. Solving the memory problem means people can choose better passwords. But this tool doesn’t answer other problems, like phishing, hacking, and social engineering.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s104" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Password reset</p><p class="s59" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark703" class="s33" name="bookmark651">Managing passwords is a significant challenge for any service with many accounts. Password issues can make up 40% of all calls to an IT help desk—which can cost as much as $70 per call, making this an expensive proposition.</a><a href="#bookmark703" class="s42">3</a> <span class="p">To mitigate password management costs, many organizations have implemented self-service password-reset systems that don’t require knowing the old password.</span><a name="bookmark652">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Password reset services can work in various ways. One of the most common methods is to ask security questions that must be answered correctly before the reset proceeds. The questions can be canned (“What is your mother’s maiden name?”) or free-form, allowing the users to enter their own questions and answers when establishing their accounts. Another common technique is the so-called <i>magic link</i>, where a password reset link is sent to a verified email address associated with the account.</p><p class="s104" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Biometric factors</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark653">As you’ve seen, inherence factors or biometrics tie an authentication to a specific person. This property allows biometrics to be used for identification, not just authentication. This can prevent account sharing. To understand the difference, consider the problem of ensuring that a person receives a government entitlement like food assistance only once per month. By fraudulently obtaining usernames and passwords, crooks apply for entitlements under different names.</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Biometrics determine whether that specific person, rather than just someone with the right username and password, is known to the system and whether that person has previously been enrolled.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark654">The flip side of this advantage represents the most significant </a><i>disadvantage </i><a href="#bookmark704" class="s33">of inherence factors: biometric characteristics can be duplicated or cheated. Once a biometric identification characteristic is compromised, there is little recourse. You can’t easily issue new irises or fingerprints to replace the compromised feature. This is not a hypothetical concern: the US Office of Personnel Management was hacked in 2015 and cybercriminals made off with the fingerprints of 5.6 million government employees.</a><a href="#bookmark704" class="s42">4</a><a name="bookmark655">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;">There are also privacy concerns if people are automatically identified without their knowledge. Some biometrics, like facial or iris scans, are easy to perform even at a distance, without people knowing.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">You can significantly reduce these risks by using biometrics in ways that limit theft, such as storing the data locally on each device instead of keeping a large database of scans: collecting a large trove of biometric data would require hacking millions of computers rather than just one. In general, local biometrics present many fewer security and privacy concerns than global, general- purpose applications.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark656">Another thing to keep in mind when considering biometrics is that there are individuals who don’t fit into the standard patterns. Imagine a scenario in which a data center installs hand- geometry scanners at each of its doors and relies on them for perimeter security. These devices cannot successfully identify the hand geometry of individuals with polydactylism (one or more extra fingers), which occurs in 0.2% of the general population. If the data center hires a polydactyl individual, in the US and many other countries, it would be required to accommodate this disability. Most reasonable accommodations would create a special-purpose breach in the security wall or reduce the automation level of the authentication system.</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: justify;">Challenge-Response Systems</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark657">In challenge-response authentication, the system generates a random string of characters, and the requester is required to manipulate the string according to some predefined algorithm and send it back to the server. The algorithm may be secret or use cryptographic keys. Usually, some sort of computer performs the manipulation to make the algorithm more complicated and thus more difficult to guess.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark658">The simple version of this uses shared secrets. Suppose Alice and Bob agree to meet at the zoo to exchange a package. They do not know each other by sight and agree to verify their identities by</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;">way of a spoken password, like in spy movies. The two parties approach each other, one says something, and the other responds with a predetermined response. This is a simple challenge- response system.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">In a more sophisticated challenge-response system, Bob might be instructed ahead of time to add 3,133 to the number Alice gives him and repeat it back. Alice then gives Bob a number: say, 5,634. He responds with 8,767. Alice performs the same calculation, gets the same answer, and knows that Bob is the party she’s to meet. She could distinguish between multiple parties by giving them different challenges: telling another party to reverse the number and add 3, for example.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Challenge-response systems have an advantage over identifier and authentication factor methods because their algorithms can be made so complex that they are nearly impossible to guess. The disadvantages are that the algorithm must be coded on a special-purpose device or run on the person’s computer or smartphone and might be subject to loss or theft.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark659">Challenge-response systems can also be built using a </a><i>cryptographic shared secret</i>. In this scheme, both the requester and the service know the secret key. The service generates a challenge phrase and sends it to the requester. The requester creates a message digest for the challenge phrase using the secret key and sends the result back to the service. The service calculates a message digest for the phrase with the shared secret key and compares it to the response. If they match, the service knows that the requester possesses the secret key, without ever having to send it across the network. If the message digest algorithm and the way it’s combined with the password are not cryptographically sound, an attacker may be able to deduce the secret key from the network traffic.</p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark393" class="s33">As </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 9</span> <span style=" color: #000;">discussed, shared secrets are problematic because they must be communicated securely, usually on a separate channel. When the shared secret must be rotated, the new secret must be communicated again. As you learned, asymmetric-key cryptography is a better fit for challenge-response systems. This is often done using digital certificates, but any asymmetric-key system can be used if both parties trust it. The challenge response proves that the requester controls the private key associated with the public key.</span></p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 11-2</span> <span style=" color: #000;">shows the flow for a generic challenge-response system using public keys. During registration, Alice sends the public key to the service. In the authentication portion, the service sends a challenge to Alice, who signs the response and returns it. The service uses the public key to determine if the signed response is valid and, if so, authenticates Alice.</span></p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="594" height="589" alt="image" src="Image_242.jpg"/></span></p><p class="s60" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark660">Figure 11-2. Key registration and challenge-response flow</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark660" class="s33">Figures </a><a href="#bookmark660" class="a">11-2</a> <a href="#bookmark647" class="s33">and </a><a href="#bookmark647" class="a">11-1</a> <span style=" color: #000;">shows an important difference between the challenge-response and identifier-authentication-factor flows. In the identifier-authentication-factor flow, Alice sends the secret (a password or OTP) to the service. In the challenge-response system, the secret is not exchanged during authentication. In an asymmetric-key-based challenge-response system, the secret never leaves Alice’s device.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s104" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Digital certificates and challenge-response</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark661">Because digital certificates based on public-key infrastructure (PKI) aggregate identity attributes with a public key signed by a third party, they can easily be used for authentication. As you saw above, a public key can be used in authentication, with a digital-signing algorithm creating a message digest of the challenge. The certificate can serve as a trustworthy means of distributing the public key. By authenticating, the requester proves they are in control of the private key</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;">associated with the public key in the certificate. Once verified, the identifying information in the certificate can be assumed to belong to the certificate’s subject, if the verifier trusts the certificate issuer.</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Digital certificates have been a runaway success in securing exchanges between browsers and web servers using Transport Layer Security (TLS). Most websites now use TLS to authenticate the server to the browser or app and encrypt the conversation. In TLS, the challenge is a string that the client encrypts, using the public key in the server’s certificate, and sends to the server. If the server has the private key associated with the public key in the certificate, it uses the string the client sent to generate a secret key. The client has also generated a secret key. The response is the establishment of an encrypted channel, using the secret key both sides have independently generated. By successfully setting up that channel, the client also authenticates the server.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark662">Using certificates for client authentication is a different story. Microsoft, IBM, and other tech companies have invested millions of dollars building systems for creating, administering, and using client-side certificates for authentication. But outside of high-security applications, client- side certificates have not had much success. The primary problem is that they are complicated for users to manage and involve considerably more difficult concepts than simpler systems like ID and password systems. And managing private keys can be difficult.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">A secondary problem is that commercially issued digital certificates cost money. They must be renewed regularly, and people frequently forget their access codes or lose the certificate entirely, leading to costly refreshes. This ongoing expense can deter organizations from adopting digital certificates as their primary authentication mechanism.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Client-side certificates also present a privacy problem. Because of the cost, most people would use only a few client-side certificates. Consequently, every place the client-side certificate is used has a strong single global identifier (the public key) that can be used to correlate activities across the internet—which is, as you learned, not privacy-friendly.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">All this doesn’t mean that digital certificates have no place in an authentication strategy, but you should understand why you’re using them and compare the expected benefit with the additional complexity and expense. Certificate-based authentication has found the most success in special- purpose applications where security is of particular concern.</p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark875" class="a">Chapter 14</a> <span style=" color: #000;">will discuss cryptographic identifiers, a good alternative to client-side certificates for authentication that solves the cost, management, and privacy problems.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s104" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">FIDO authentication</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark663">Fast Identity Online (FIDO) is a challenge-response protocol that uses public-key cryptography. Rather than using certificates, it manages keys automatically and beneath the covers, so it’s as user-friendly as possible. I’m going to discuss the latest FIDO specification, FIDO2, here, but the older FIDO U2F (Universal Second Factor Framework) and UAF (Universal Authentication Framework) protocols are still in use as well. The FIDO Alliance, which governs the FIDO standards, uses the name </a><i>passkey </i>for FIDO2 credentials. You might also hear them called <i>discoverable credentials </i>or <i>resident credentials</i>.</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark664">FIDO uses an </a><i>authenticator </i>to create, store, and use authentication keys. Authenticators come in several types. <i>Platform authenticators </i>are devices that a person already owns, like a laptop or smartphone. <i>Roaming authenticators </i>take the form of a security key that connects to the laptop or smartphone using USB, NFC, or Bluetooth.<a name="bookmark665">&zwnj;</a><a name="bookmark666">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">When Alice registers with an online service, her authenticator creates a new cryptographic key pair, securely storing the private key locally and registering the public key with the service. The online service may accept different authenticators, allowing Alice to select which one to use.</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;">Alice unlocks the authenticator using a PIN, fingerprint reader, or face ID.</p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark667" class="s33">When Alice authenticates, she uses a client such as a browser or app to access the service (</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 11-3</span>). The service presents a login challenge, including an account identifier, which the client passes to the authenticator. It prompts Alice to unlock the authenticator and uses the account identifier in the challenge to select the correct private key and sign the challenge. Alice’s client sends the signed challenge to the service, which uses the public key it stored during registration to verify the signature and authenticate Alice.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="594" height="305" alt="image" src="Image_243.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark667">Figure 11-3. FIDO authentication flow</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark668">FIDO2 uses two standards. The </a><i>Client to Authenticator Protocol </i>(<i>CTAP</i>) describes how a browser or operating system establishes a connection to a FIDO authenticator. The <i>WebAuthn </i>protocol is built into browsers and provides an API that JavaScript from a web service can use to register a FIDO key, send a challenge to the authenticator, and receive a response to the challenge.<a name="bookmark669">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">FIDO provides a secure and convenient way to authenticate users without resorting to passwords, SMS codes, or TOTP authenticator applications. Modern computers and smartphones and most mainstream browsers understand FIDO natively. While roaming authenticators are available, for most use cases, platform authenticators are sufficient. This makes FIDO an easy, inexpensive way for people to authenticate. The biggest impediment to its widespread use is probably that</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">people won’t believe something so easy is secure.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Token-Based Authentication</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark670">A movie ticket is a real-world example of a token. The ticket says nothing about its bearer, simply that the holder has the right to sit in a certain theater at a specific time. A season pass at an amusement park might be even less specific, indicating that the holder can access any ride whenever the park is open.</a><a name="bookmark671">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark672">Similarly, an </a><i>authentication token </i><a href="#bookmark705" class="s33">is a string that contains no usable information; it merely represents the power to do something.</a><a href="#bookmark705" class="s42">5</a><span class="s59"> </span>As long as the token remains valid, the holder can access the service. Just as you can’t get a movie ticket without handing over some money, authentication tokens are usually issued based on some other authentication activity and are associated with a specific account and permissions on the service.<a name="bookmark673">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark765" class="s33">Tokens have several advantages. First, even though they rely on other methods of authentication, they reduce the need to authenticate over and over. Second, tokens let you use an authentication service that’s separate—even in a different domain—from the primary service. (As you’ll see in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 13</span>, this has distinct advantages for identity federation.) Third, tokens are useful for granting time-bound or event-based access, because they can be set to expire and to allow refreshing or not, depending on context or circumstance.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Token-based authentication has proven useful in APIs because the service accessing the API, like a mobile app or single-page web application, is doing so repeatedly, sometimes without the requester being present to authenticate. The requester authenticates, and the mobile app or web application gets a token it can use for the access it needs. Tokens might remind you of cookies, and the two have some features in common, but tokens are generally designed to be cryptographically verifiable and usable in circumstances where cookies are not natively supported, like API access.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Classifying Authentication Strength</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark674">“Identity is the new perimeter” is a frequent refrain at conferences and in the trade press. If you’re new to information security, you might not understand what this means. Back in the dark ages, security depended strongly on firewalls to prevent intruders from gaining access to corporate networks. This worked fine when most IT assets were on premises. But as more and more services have moved to the cloud, it’s harder to put walls, virtual or not, around your IT systems. As a result, authentication has become the primary means of protecting people, money, and systems from attack. This is true for individuals as much as for enterprises.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark675">I noted earlier that of the primary means of attack against authentication systems is called </a><i>phishing</i>. Phishing is essentially a man-in-the-middle attack that relies on the target not paying attention to clues that the site or app they’re logging into is fake. In a phishing attack, the intruder poses as a legitimate organization, application, or website to steal whatever authentication factors are being used. Phishing relies on two things: setting up a fake login screen</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">(or app) that mirrors the one from which the attacker is stealing authentication factors; and sending a notification to the target that entices them to open the fake site or app. The notification often comes as an email or text with a strong call to action.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark678" class="a" name="bookmark676">Figure 11-4</a> shows how phishing works. Alice believes she’s connected to the origin server, but her client is <i>actually </i><a href="#bookmark706" class="s33">connected with a phishing server controlled by Malfoy. Malfoy uses the information Alice enters at his phishing server to log into the origin server. Some phishing attacks are extremely sophisticated, even mimicking second-factor collection mechanisms (like a page for entering an OTP sent via SMS or from a TOTP authenticator app). What usually gives them away is the URL: the phishing site might use a domain name that looks like the real domain name and often has a certificate so that the browser displays a TLS lock.</a><a href="#bookmark706" class="s42">6</a><span class="s59"> </span>Still, people don’t pay enough attention to URLs (and browsers sometimes hide them), making phishing a profitable online sport.<a name="bookmark677">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="592" height="290" alt="image" src="Image_244.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark678">Figure 11-4. Phishing is a man-in-the-middle attack</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">The Authentication Pyramid</p><p class="s55" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark681" class="a" name="bookmark679">Figure 11-5</a> <a href="#bookmark707" class="s33">shows the strengths of various authentication methods as a pyramid.</a><a href="#bookmark707" class="s42">7</a><span class="s59"> </span><span style=" color: #000;">Methods are progressively more secure as you move from the bottom of the pyramid to the top.</span><a name="bookmark680">&zwnj;</a></p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="592" height="585" alt="image" src="Image_245.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark681">Figure 11-5. Authentication pyramid</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Let’s look at each method in more detail:</p><p class="s35" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Passwords</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a name="bookmark682">Passwords, to summarize, are the least secure and most widely used of the methods in the pyramid. While they’re familiar, they are inconvenient, costly, and the most common cause of breaches. Companies often make it worse by failing to hash passwords stored on their systems or forcing people to rotate their passwords.</a></p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">OTP via SMS</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;text-align: left;"><a name="bookmark683">MFA protects against password compromise; the most common second factor is an OTP sent</a></p><p style="padding-top: 3pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: justify;">via SMS or email, which has the advantage of simplicity. The chief disadvantage is that SMS and email aren’t secure communication channels. NIST recommends against using SMS as a second factor.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">OTP</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">FIDO authenticator apps and TOTP devices are both examples of OTPs not based on a code pushed through SMS. These are generally more secure than SMS-based OTPs but tend to be inconvenient. Some password managers make this easier by incorporating the OTP application and automating much of the work.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Push notifications</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a name="bookmark684">Some services or apps, like Google, are so popular that push notifications directly to the app make sense. When you log in, you get a notification on your phone asking if it’s you; this is convenient because it’s usually just a click on the screen. This has the advantage of using a separate channel for the notification that is likely already authenticated.</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark686" class="s33" name="bookmark685">All the methods at the bottom of the pyramid have the big disadvantage of being phishable, even push notifications. As shown in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 11-6</span>, if Alice thinks she’s at the real site, she’ll push the “Yes, This Is Me” button on a push notification, and the origin server will receive it and assume Malfoy is Alice. There’s a technique called <i>prompt bombing </i>that sends the target multiple push notifications—sometimes close together, sometimes spread out over days—on the theory that they’ll eventually approve one of them. The only defense against phishing with these systems is wariness, suspicion, and care on the part of the person authenticating.</p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="592" height="456" alt="image" src="Image_246.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark686">Figure 11-6. Phishing attack with a push notification</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark687">FIDO and PKI, the top two layers of the pyramid, are different. They are resistant to phishing when properly implemented and used because they’re directly connected to the browser or app. Both are challenge-response systems based on asymmetric-key cryptography.</a></p><p class="s35" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">FIDO</p><p style="padding-top: 7pt;padding-left: 23pt;text-indent: 0pt;line-height: 109%;text-align: left;">When a client passes a challenge on to the FIDO authenticator, it uses the private key to sign the challenge and includes the URL to which the browser is connected. As shown in</p><p style="padding-left: 23pt;text-indent: 0pt;line-height: 109%;text-align: left;"><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 11-7</span>, Malfoy can’t instruct Alice’s client to lie, so her client uses the phishing site’s URL. When Malfoy passes the signed response to the challenge back to the origin server, it detects that the URL in the signed response is invalid and rejects the response, disallowing access.</p><p style="padding-left: 34pt;text-indent: 0pt;text-align: left;"><a name="bookmark690"><span><img width="569" height="345" alt="image" src="Image_247.jpg"/></span></a></p><p class="s60" style="padding-top: 2pt;padding-left: 23pt;text-indent: 0pt;text-align: center;"><a name="bookmark688">Figure 11-7. FIDO authenticator signing challenge</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">PKI</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a name="bookmark689">PKI, the infrastructure for digital certificates, works a little differently: through the client, not adjacent to it. I’ve placed PKI above FIDO on the pyramid because, done right, a digital certificate can include identity proofing that ties it to a specific entity. TLS uses the keys associated with certificates to create a shared secret to provide an encrypted channel. The client can authenticate the server and know that it controls the private key associated with the public key in the certificate. PKI-based authentication uses client-side certificates to the same effect. When both the server and client have certificates, they can mutually authenticate, and the phisher can’t prove they control the private key used to sign the client’s challenge.</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark691" class="a">Figure 11-8</a> <span style=" color: #000;">shows the PKI certificate exchange between the client and server. Alice requests access to a protected resource on the server using her browser. The client and server exchange certificates; each can use the public keys in the certificates to authenticate the other using a challenge-response protocol. The certificate for the server contains the URL. Similarly, Alice’s certificate has information about who is authenticating, allowing the server to validate her.</span></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;">Malfoy is left out because he doesn’t have either Alice’s or the server’s private key.</p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="592" height="348" alt="image" src="Image_248.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark691">Figure 11-8. PKI certificate exchange</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Authentication Assurance Levels</p><p class="s59" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;"><a href="#bookmark708" class="s33" name="bookmark692">NIST’s authenticator assurance levels classify the strength of various authentication methods used in US government systems.</a><a href="#bookmark708" class="s42">8</a> <span class="p">Seeing how this agency views authentication assurance is instructive:</span><a name="bookmark693">&zwnj;</a></p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Authentication Assurance Level 1</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">AAL1 requires a single factor. This could be passwords or just a hardware token. AAL1 doesn’t count biometrics by themselves as an authentication factor; they must be associated with some physical authenticator.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Authentication Assurance Level 2</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">AAL2 requires two factors: a password and hardware authenticator or a hardware authenticator and a biometric used to access it. In addition, AAL2 requires shorter reauthentication time, replay resistance, standards (FIPS 140 Level 1) for hardware tokens, and authenticator intent (which means that the system can’t be triggered by malware without alerting the requester).</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Authentication Assurance Level 3</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">AAL3 requires a hardware token as one factor that offers authenticator intent, verifier</p><p class="s35" style="padding-top: 6pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">impersonation resistance <span class="p">(protection against phishing), and verifier compromise resistance</span></p><p style="padding-top: 3pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">(the keys in the authenticator are destroyed if it is physically compromised).</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark694">These levels are primarily used by the US government and its contractors and vendors. But they can be a useful tool for understanding the strength of your own authentication system since they represent the collective wisdom of the team of identity and security professionals who collaborated to create them.</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Account Recovery</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark695">No matter which authentication method you use, remember, it’s only as secure as your account- recovery process. For example, if you are using FIDO but your system allows Alice to use passwords with an OTP to recover her account if she loses her authenticator, then your system is only as secure as a password with OTP.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark696" class="a">Figure 11-9</a> shows the fallbacks for one of my Google accounts for my second factor. When I log in on my computer, if I click the link labeled <i>Try Another Way</i>, Google will let me use a FIDO security key that I have registered with the account; a one-time code (using email or SMS); an app push; a code from my TOTP authenticator app; or one of the backup codes I stored when the account was created.</p><p style="padding-left: 51pt;text-indent: 0pt;text-align: left;"><span><img width="494" height="734" alt="image" src="Image_249.jpg"/></span></p><p class="s60" style="padding-top: 7pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark696">Figure 11-9. Second-factor options for Google</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Since the one-time security code is SMS, my account is protected only to that level. The other methods might be more convenient for me in various circumstances, but my security isn’t improved by having, for example, a FIDO security key. Google lets you tailor these options to some degree in the <i>Security </i>tab on the account page.</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">If I click <i>account recovery </i><a href="#bookmark696" class="s33">on the screen in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 11-9</span><a href="#bookmark697" class="s33">, I see the screen in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 11-10</span><a href="#bookmark697" class="s33">(a). Since I have the Google app installed on my phone, when I check it, I see </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 11-10</span>(b) asking if it’s really me. Clicking <i>yes </i><a href="#bookmark697" class="s33">shows the screen in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 11-10</span>(c). Picking the right number, 97, logs me in.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="593" height="374" alt="image" src="Image_250.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark697">Figure 11-10. Account recovery for Google</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Because I have the Google app, account recovery defaults to using a push notification. Google sends me several email notifications as part of this process. Of course, if my email is compromised, the attacker could choose to get the code via email and delete that message and the security notifications. To combat this, Google also notifies a second email address, controlled by you or someone you trust to be aware of suspicious activity. I’m the second account for my wife and my kids, so I see a lot of these. I always contact them using another channel to make sure it was them.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Google’s doing all of this to keep accounts safe because it runs a large public system that billions of people around the world rely on. It involves defense in depth, good decisions about defaults, and a sophisticated account infrastructure. You can likely tailor your system’s account-recovery processes more specifically to your account holders, making them simpler.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Authentication System Properties</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark698">This section describes nine important characteristics that authentication systems should have. You can use these properties to create an evaluation process for authentication systems in your organization. The most effective method is to prioritize these properties based on design criteria</a><a name="bookmark699">&zwnj;</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">for the overall system, then evaluate different designs against the prioritized list.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Practicality</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Practicality is probably the most important feature that any authentication system can have. From the requester’s standpoint, the authentication system should be easy to use and nonintrusive. No one likes an authentication system that asserts itself too frequently or asks for authentication when none is needed. People also dislike using multiple authentication systems for multiple resources when they see those resources as related. For example, if your employee benefits are administered by an outside organization, you might have to access them using a different authentication process from the one you use to access your employer’s self-service functions.</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;">This has been known to cause employees to grumble.</p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">From the service or enterprise’s viewpoint, the authentication system should scale well, provide the appropriate level of protection, and be cost-effective. Easy-to-use systems are a priority as well, due to high support costs. Organizations frequently manage authentication by several large, diverse groups, such as customers, employees, and the employees of partners and suppliers. They all need access to resources that the organization controls. Each of these groups has unique needs, and the authentication system should adapt to those needs.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Systems that require people to install new software—or, worse yet, new hardware (like biometric devices and smart card readers)—are difficult and costly to deploy and maintain. That doesn’t mean they shouldn’t be used when warranted, but it does need to be factored into the choice.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Appropriate Level of Security</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Different applications require different levels of security. As we’ve seen, there are many ways to authenticate credentials with authentication factors. While the security of an authentication method is directly dependent on the number and type of authentication factors used, so is its cost. Good design will match the level of authentication to security requirements.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Evaluating authentication strength can be subjective. You need expert knowledge to evaluate the weaknesses of complex systems like cryptographic key systems. Comparing two systems and judging their relative strength is easier, provided they are not too similar. Deciding the relative strength of two different multifactor systems that differ only in policy details is much more difficult.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Locational Transparency</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Smartphones, remote work, global customer bases, and international partners mean mobility is an important factor in modern IT systems. You often can’t count on the requester being in a specific location. Using location as an authentication factor requires good prediction algorithms and flexibility.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Integrable and Flexible</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Take care to ensure that the authentication system and various servers interoperate. New tools offer developers easy access to authentication, but it may not be as easy to create systems that <i>inter</i>operate. Most organizations never create an authentication system from scratch, but they will integrate various systems with it. Carefully choose vendors with appropriate SDKs, libraries, and APIs to maximize flexibility.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Appropriate Level of Privacy</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The extent to which user data is kept private depends on the organization and the resources being protected. For example, in the US at least, companies can log and track employee access to company resources (including computers, smartphones, and email) to whatever extent the employer feels is appropriate. On the other hand, on a system that allows patients at a medical center to view their treatment records, the authentication mechanism must provide more privacy protection because of laws and regulations such as HIPAA.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Reliability</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Reliability is crucial because the authentication system controls access to mission-critical resources. Reliability requires appropriate redundancy, operational excellence, configuration management, close monitoring, and proactive capacity planning. When other organizations use the authentication system, they may require a service-level agreement that stipulates specific uptimes and penalties for failing to meet them.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Auditability</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Accountability requires that the system be auditable. Transactions logs are the heart of an auditable system: they make it possible to review and track authentication activities.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Logs can be made at various levels. Aggregate logs do not track individual transactions but aggregate data such as totals, averages, and trends. These can be useful for capacity planning and understanding the overall operation of the system. Detailed logs track individual actions and are required for some problems, like responding to security breaches. Authentication system logs provide an important resource for dealing with system intrusions but may be subject to legal and other regulations or policies.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">If not properly protected, detailed logs can raise privacy and security concerns, even when the data they contain seems relatively innocuous. Traffic analysis is the art of deducing information from the patterns in messages. For example, if I know that the chief financial officer (CFO) always accesses certain company investor resources before announcing a big deal, and I have access to the authentication logs for those resources, I may be able to use that information to trade ahead of the market or, worse, conduct a targeted phishing attack (known as <i>spear phishing</i>) on the CFO’s executive assistant to gain access to those resources.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Manageability</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Manageability means that the operator of the authentication system can easily add, update, or delete accounts. The system should allow new classes of accounts and provide for different configurations among groups. Operators will add, renew, and delete certificates; maintain licenses; and update the system as new releases become available. The interfaces to the authentication system should be well documented.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Federation Support</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark765" class="s33" name="bookmark700">Modern organizations have resources that must be accessed by diverse groups across other organizations. An authentication system that supports federation will allow those resources to be managed by their respective organizations. This requires trust in the partner organization and significant planning. It’s crucial for the organization to agree with its partner’s policies about resource access and its processes for verifying identity when it issues credentials. If they’re going to trust the partner’s authentication system to make authentication assertions, they must understand the policies surrounding that system and the system’s relative strength. (I’ll discuss federation in more detail in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 13</span>.)</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Authentication Preserves Relationship Integrity</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Authentication, or the way digital systems recognize people, organizations, and things online, is a fundamental function of a digital identity system and is required for relationship integrity.</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;">Integrity is a prerequisite for any authorization and access-control determinations.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="624" height="1" alt="image" src="Image_251.png"/></span></p><ol id="l18"><li><p class="s67" style="padding-top: 5pt;padding-left: 32pt;text-indent: -11pt;text-align: left;"><a href="#bookmark945" class="s64" name="bookmark701">C</a>hapter 15 <span style=" color: #000;">discusses verifiable credentials at length.</span></p></li><li><p style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a href="https://oreil.ly/e89D9" class="s68" target="_blank" name="bookmark702">While this is very common, the National Institute of Standards and Technology (NIST) Digital Identity Guidelines (800– 63B) recommends against using SMS for presenting one-time codes because the possibility of social engineering or compromise of the SMS number makes it less secure than other methods. See</a><a href="https://oreil.ly/e89D9" class="s46" target="_blank"> </a><a href="https://oreil.ly/e89D9" class="s52" target="_blank">Digital Identity Guidelines: Authentication and Lifecycle Managemen</a><a href="https://oreil.ly/e89D9" class="s256" target="_blank">t</a><a href="https://oreil.ly/e89D9" class="s68" target="_blank">, NIST Special Publication 800-63B, June 2017, accessed March 15, 2022.</a></p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 32pt;text-indent: -11pt;text-align: left;"><a href="https://oreil.ly/5lbN6" class="s47" target="_blank" name="bookmark703">“</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 9pt;">Resetting Passwords (and Saving Time and Money) at the IT Help Desk”</span>, Duo Security, accessed June 28, 2022.</p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a href="https://oreil.ly/xqVOd" class="s47" target="_blank" name="bookmark704">“</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 9pt;">Hacking of Government Computers Exposed 21.5 Million People”</span>, <i>The New York Times</i>, July 10, 2015, accessed March 15, 2022.</p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark705">As you saw in the section on factors, possession factors like those using TOTP are sometimes called </a><i>tokens</i>. The tokens discussed in this section are not hardware tokens.</p></li><li><p class="s67" style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a href="#bookmark393" class="s68" name="bookmark706">As you saw in </a>Chapter 9<span style=" color: #000;">, most digital certificates simply verify that a given public key is associated with a given domain name. They don’t necessarily provide any useful information about the organization behind the domain name.</span></p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a href="https://oreil.ly/XS-Q4" class="s68" target="_blank" name="bookmark707">Damien Bowden first introduced me to this method of viewing the relative strengths of authentication schemes using a</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 9pt;"> pyramid</span><a href="https://oreil.ly/WJOxo" class="s68" target="_blank">. Later, I saw the same concept from</a><a href="https://oreil.ly/WJOxo" class="s46" target="_blank"> </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 9pt;">Intercede</span>. The authentication pyramid shown here is adapted from these to fit our discussion.</p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a href="https://oreil.ly/hnRME" class="s47" target="_blank" name="bookmark708">N</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 9pt;">IST Special Publication 800-63B</span>, <i>Digital Identity Guidelines: Authentication and Lifecycle Management</i>, accessed March 29, 2022.</p></li></ol><p class="s21" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark709">Chapter 12. Access Control and Relationship Utility</a><a name="bookmark710">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="624" height="1" alt="image" src="Image_252.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark711">Authentication provides evidence that the remote entity is authentic—the same entity who first created the account. This allows the system to recognize the other party at a distance and underpins relationship integrity. But identity requires more than merely recognizing the other party; the system must also remember them and react appropriately. The goal is to allow authenticated entities to take permissible actions and capitalize on the relationship. The utility of a relationship depends on allowing each party to act in ways that are appropriate and secure.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark712">Consequently, </a><i>access control </i>is one of the most fundamental concepts in digital identity. Access control is the process of granting specific accounts access to a resource while denying access to others. Here are some examples:</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_253.png"/></span></p><p style="padding-top: 8pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">An email system grants each employee access to their email box but not to anyone else’s. Email administrators are granted access to everyone’s email accounts.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_254.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">The bank grants me access to my bank account but limits that access. For example, I can withdraw only up to some preset limit at the ATM. Certain bank employees have read access to the account in some situations and even write access in very controlled situations.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_255.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">The software I use to manage my website has access to the website and can create new files and delete or update existing ones. Anyone is granted access to the files for reading.</p><p style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Crafting a set of permissions for an account also defines the nature of the relationships that it supports. Without restrictions on an email system, for example, the recipient can’t be sure who their emails come from. Restricting the withdrawal amount at an ATM balances the inconvenience of not being able to get sufficient funds with the convenience of relatively light authentication requirements (for example, possessing the debit card and knowing the four-digit pin). Granting public access to my website provides me a relationship with a reading public.</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;">Remember that designing access policies determines the nature of relationships.</p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Access control requires determining a set of <i>authorizations </i>for a given account. The terms <i>access control </i>and <i>authorization </i>(often abbreviated as “authz”) are often used interchangeably. Even the notion of granting access is too coarse-grained—in many cases, an administrator must determine what actions a subject is allowed to take on a resource. This chapter explores some of the issues, patterns, and technology surrounding access control.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Policy First</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark713">Access control is first and foremost a policy question. Access control technology is designed to automatically enforce access policies. Policy reflects security objectives, application architecture,</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">implementation choices, generally accepted practices of industrial and professional organizations, regulatory and legal requirements, and, most importantly, organizational goals.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_256.png"/></span></p><p style="padding-top: 5pt;padding-left: 29pt;text-indent: -24pt;line-height: 174%;text-align: left;">Here are some simple examples of access control policies: Everyone is allowed to read the website.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_257.png"/></span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 14pt;text-align: left;">Applications with a valid OAuth token can <span class="s70">GET </span>and <span class="s70">POST </span>to the application API.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_258.png"/></span></p><p style="padding-top: 8pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">Alice is allowed to read and write the “orders” table in “sales” database.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_259.png"/></span></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">All members of the marketing department can read the marketing materials on the internal web server.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_260.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">HR employees who are managers or above can modify salaries during working hours if they are accessing the salary application from the corporate intranet.</p><p style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">I’ve purposely ordered this list so that the policies progress from simple and specific to complex and abstract. The first, for example, is relatively straightforward to implement. Some of these policies talk about the role rather than identifying specific people (“manager” is a role, for example).</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The last policy assumes that the system can identify which employees work in HR, what their grade is, and when “working hours” are (a temporal factor). Are working hours from 8 to 5? Does it change with each employee? Can the system reliably tell who is accessing it from the corporate intranet (a location factor)? There are business and technology aspects to these questions. For example, the idea of working hours is a business concept, but can the access control infrastructure support locking users out of resources based on the time of day?</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Responsibility</p><p class="s59" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark762" class="s33" name="bookmark714">The most important questions in access control have to do with responsibility. There are typically three categories of classification: owners, custodians, and users.</a><a href="#bookmark762" class="s42">1</a> <span class="p">The owner of the resource may be the person who created it, the head of the organization that owns it, or some other person or role. Ownership can be delegated or assigned. When you can’t figure out who owns a resource, the natural default is the organization itself.</span><a name="bookmark715">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">You might have noticed that these responsibility roles are like those used in data governance. This isn’t an accident, of course. Access control is closely related to data governance. In many ways, access control represents the implementation of the policies made in the data governance process, providing the means for their enforcement.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark716">Access control is more effective when data governance processes explicitly designate data owners. </a><i>Owners </i>have ultimate decision-making authority and responsibility for ensuring resources under their control are appropriately accessed. In government organizations, it is not unusual for owners to be designated in statute or by regulation. Your organization may not be as legalistic, but specifically designating owners and holding them responsible is an important part of information security.</p><p class="s35" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark717">Custodians </a><span class="p">manage resources from day to day. Every person in an organization might be a custodian for some set of resources. Custodians are responsible for ensuring that access control policies are enforced and that resources are available for authorized entities to use. Often the custodian and the owner are the same person—for example, when the resource is a document or other information created in the course of daily work. Someone other than the owner usually maintains larger resources, such as databases and websites.</span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Custodians play an important role in access control because they implement and monitor the access control policies that the owner specifies. Often, custodians are system administrators or technical operations personnel. Custodians have significant responsibility and are often entrusted with numerous resources. They usually have “superuser” powers and can access any resource under their purview. Consequently, it’s important to choose custodians with care and build identity infrastructures that allow cross-checks and auditing of custodial actions.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark718">A </a><i>user </i>is the person, group, corporation, software program, app, API, or other entity that wants access to resources. Users might be the customers or employees of the organization that owns the resource. They might also be the employees, or even the customers, of partners and suppliers.</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Users might be responsible for ensuring that a resource is protected while in use, becoming custodians for a time. Often, access control systems do not or cannot have the level of granularity needed to protect a resource completely, so it becomes the user’s responsibility to act in accordance with the owner’s instructions.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">As an example, most document management systems can control access to the document itself but not individual parts of the document. The owner of a document might share it with a coworker with specific instructions about what sections can be modified and which cannot. The coworker, as a user of the resource, has responsibility to treat the document in accordance with the owner’s instructions, but these cannot be enforced by an access control system.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Principle of Least Privilege</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark719">One of the fundamental ideas upon which access control policies are founded is the </a><i>principle of least privilege</i>. This principle says that users should be given no more access to resources than they need to accomplish necessary functions. Least privilege is a good guideline to follow in creating policy and makes some decisions easier. In practice, however, it has limitations that are not easily overcome by real-world access control systems, including the following:</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_261.png"/></span></p><p style="padding-top: 8pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Fully implementing least privilege requires extremely fine-grained permissions. Essentially, every action that might ever be taken by any user on any resource needs a permission defined.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_262.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">The types and levels of authorization necessary to perform a given task may change over time.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_263.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Any given individual will need different levels of privilege depending on the task they are currently performing.</p><p style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">These limitations have led to systems that implement least privilege imperfectly, sometimes to ill</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">effect. I include examples of this later in this chapter. Even so, the principle of least privilege represents an ideal to shoot for as you build access control policies.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Accountability Scales Better Than Enforcement</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark720">The limitations of the principle of least privilege have led to an additional principle to guide the development of access control policies: accountability scales better than enforcement. The simplest access control policies to implement are based on trust and accountability. User actions are logged, and the logs are audited. When the logs show unauthorized access by a user, appropriate action is taken. Accountability is a log-processing problem that can be done offline by a separate system and thus scales very well.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">As an example, consider the problem of documents shared by email. Companies generally have no idea whether one of their employees is using the corporate email system to send important, even vital, company secrets to their competitors. One approach to this problem would attempt to create some sort of access control infrastructure that uses access control and policies to govern what documents can be attachments in external email. This is largely impractical.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">But a system to solve this problem based on accountability <i>is </i>practical. It is much easier to create a system that logs external email, notes any with attachments, and records the sender, date, and a hash of the document. The system may not be able to stop the document from being sent, but someone will at least know about it and be able to take the appropriate next steps.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark721">Obviously, real-world scenarios cannot accept the risk of an access control policy based solely on accountability. But accountability can augment the access control policy to provide protections that are difficult or expensive using traditional permissions-based access control. Carefully consider what risk you can tolerate, because accountability-based systems are considerably cheaper to implement and operate than enforcement systems.</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Authorization Patterns</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark722">Real-world systems live somewhere in between a perfect enforcement of least privilege and a system based solely on accountability. As computing and networking technology has matured, various access control schemes have been developed to try to balance these needs. These schemes represent broad philosophical frameworks that aid the development of access control policies as well as specifying implementations for a particular scheme.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">In practice, most organizations use a hybrid approach to access control, where the resource owner tightly controls certain resources and custodians control other resources. For example, most organizations control access to the HR system in a very formal way, while allowing individual employees to determine who will see documents that they produce within some very broad guidelines.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;">Many of the patterns I’ll discuss have been around for decades, but even though the resources may have expanded from files on a local disk to Lambda functions on Amazon Web Services (AWS), the concepts still apply.</p><p class="s61" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Mandatory and Discretionary Access Control</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark723">The US Department of Defense was one of the first organizations to look systematically at access control on computer systems. Its 1983 publication </a><i>Trusted Computer System Evaluation Criteria </i>(commonly referred to as “the orange book” because of the color of its cover) defined two modes of access control: mandatory and discretionary. In <i>mandatory access control </i>(<i>MAC</i>), the owner or the owner’s representative sets the policy, and custodians and users are obligated to follow it. In <i>discretionary access control </i>(<i>DAC</i>), the custodian is left to determine what users will be granted access. Once granted access, the user becomes, in effect, a custodian, because they can grant access to other users.<a name="bookmark724">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Significant research has been conducted on military security standards, with some important discoveries. Among the most important is an undecidability result that showed that a DAC-based system initially judged to be safe, with respect to a specific policy, cannot be shown to remain safe over time. The takeaway is that user actions may eventually result in an unauthorized user being granted access.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark725">Another important result involves what is known as “tapping-out information.” Consider a system where there are two levels of access control: classified and unclassified. In any system with shared resources between access control levels (for instance, classified and unclassified documents stored on the same filesystem), it is impossible to keep users of classified information from sharing that information with unclassified users. In short, enforcing MAC on a shared system is impossible, because users with access to classified data can always find ways to encode classified information in system resources (such as by manipulating the presence of a particular file, or even just its size). Since these resources can be viewed by both sets of users, unclassified users can decode the message and see classified data.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Taken together, these results lead to a fundamental and important conclusion: <i>it is not possible to build a practical access control system that does not rely, to some extent, on trusting custodians and users to follow the policies</i>.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">User-Based Permission Systems</p><p class="s55" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark727" class="s33" name="bookmark726">Perhaps the best-known and most widely used access control scheme is a user-based permission system made popular by the Unix file permission system and continued today in Linux and (with some modifications) macOS. </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 12-1</span> <span style=" color: #000;">shows a schematic representation of how user and group permissions work in this system. The system is conceptually simple: both users and groups have access rights to resources directly, and users belong to groups.</span></p><p style="padding-left: 56pt;text-indent: 0pt;text-align: left;"><span><img width="489" height="259" alt="image" src="Image_264.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark727">Figure 12-1. Permission hierarchy for users and groups</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;">As embodied in the Unix filesystem, there are three permission levels: read (r), write (w), and execute (x). These permission levels are applied as attributes of the files and directories on the system. For simplicity, I’ll just speak of files here, but the concepts also apply to directories.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark728">Files belong to </a><i>owners</i>, specific users on the system, and <i>groups</i>, collections of users. Each of the permission levels can be set for the file’s owner, the file’s group, and everyone else. For example, it is possible to set permissions on a file so that it is readable and writable by its owner, read-only by its group, and not readable by anyone else. User-based permission systems are simple to use and administer and have served nicely for decades. Still, they suffer from the following drawbacks:<a name="bookmark729">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_265.png"/></span></p><p style="padding-top: 8pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Most users ignore groups altogether and few understand them, because user-interface issues in Unix make using groups problematic. For example, each user in a group can own files and, therefore, control the permissions. But when users create files meant for the group, they often forget to set group permissions correctly, resulting in a flurry of messages asking that the owner fix the group permissions.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_266.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">The group system is inflexible. Since only one group owns a file, it is difficult to create a set of files that can be accessed by multiple groups. The only way to do this is to create a third group and put everyone in the other two groups into the new group. But because groups cannot contain subgroups, if the membership of one of the subgroups is changed, the third group would not be updated automatically.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_267.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Groups work best for long-standing file-sharing relationships. If someone wants to quickly share a file, there’s considerable overhead in creating a new group, adding users to the group, and making the file owned by the new group. Also, on most systems, creating groups requires superuser authority, so most users can’t do it.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_268.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">There are few tools for managing groups other than editing text files, and the commands that users must issue to set up group-shared directories are somewhat arcane, even for Unix experts.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_269.png"/></span></p><p style="padding-top: 3pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Because both users and groups have access to resources, merely deleting a group does not necessarily delete group members’ permissions to access the resource. In fact, because the permissions are associated directly with the resource, it is almost impossible to determine what resources any given user has access to.</p><p style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">These drawbacks led system designers to search for something more flexible and easier to understand and use.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Access Control Lists</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark730">Access control lists </a><span class="p">(ACLs) are lists of specific users and groups who have access to a resource, designed to offer a more flexible permissions system that grants individual users access to specific resources. In filesystems, ACLs are stored as attributes of the files, encompass the standard file-permissions system, and expand it to enable specific users or groups to be designated as having a particular level of access.</span></p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 12-2</span> <a href="#bookmark727" class="s33">shows a schematic representation of ACLs. The primary difference between this diagram and </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 12-1</span> <span style=" color: #000;">is the insertion of a permissions structure between the resources and the users and groups. Rather than users and groups being directly associated with a given resource, the resource has a set of permissions that includes both users and groups. This indirection gives ACL-based permission systems additional flexibility at the cost of some additional complexity.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="593" height="299" alt="image" src="Image_270.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark731">Figure 12-2. Permissions hierarchy for ACLs</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">One problem with ACLs is that permissions are stored as attributes of the resources and are thus distributed across the filesystem, making it difficult to manage individual user access. For example, when a user no longer requires access to a set of resources due to a change in a job or process, there is no single place where those permissions can be changed. You have to visit the resources one by one and remove permissions for that user.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Still, ACLs have proven to be a good solution for access control in cloud-based resources, and</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">are used in AWS and Google Docs, among others.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Role-Based Access Control</p><p class="s55" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark733" class="s33" name="bookmark732">Role-based access control (RBAC) is based on the idea that users are typically granted access to resources based on their role in an organization. </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 12-3</span> <span style=" color: #000;">shows a schematic representation of RBAC.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="594" height="159" alt="image" src="Image_271.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark733">Figure 12-3. Permission hierarchy for RBAC</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">A key feature of the RBAC model is that <i>all </i><a href="#bookmark727" class="s33">access is permissioned through roles. Contrast this with the user-based permission model shown in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 12-1</span>. In the RBAC model, some authority, such as the HR department, assigns roles and the resource owner assigns permissions.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark735" class="s33">A second key feature of RBAC-based authorization is that roles can be hierarchical, as shown in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 12-4</span>. If roles are created this way, assigning an employee a role as a developer also automatically assigns that person roles as a member of the engineering department and as an employee. In addition to being hierarchical, roles can be parameterized to aid in administration.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Role-based authorization schemes are based on three rules:</p><p class="s35" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Role assignment</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">All users of the system are assigned roles; users without roles cannot take any action.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Role authentication</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">Before a user can take on a role, that role must be authenticated for them.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Action authorization</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;text-align: left;"><a name="bookmark734">A user can take an action only if that action is authorized for their current, authenticated role.</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Group-based access control systems can be used to implement roles, but they often lack features that make RBAC easy to administer and more secure. Role-based authorization is more flexible than an authorization scheme based on simple groups and more secure than one in which users can be authorized independently of their group or role membership. Furthermore, role-based authorization makes it relatively easy to add and remove a user’s access to resources as their organizational function changes, even if they change tasks day to day.</p><p style="padding-left: 42pt;text-indent: 0pt;text-align: left;"><span><img width="525" height="526" alt="image" src="Image_272.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark735">Figure 12-4. Role hierarchy for an engineering department</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Attribute- and Policy-Based Access Control</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark736">The terms </a><i>attribute-based access control </i>(ABAC) and <i>policy-based access control </i>(PBAC) are usually interchangeable. The term PBAC emphasizes policy rather than attributes. RBAC can be seen as a special case of ABAC where the only attribute is the role. In RBAC, an assigned role is used to determine access to a resource. This is simple and relatively quick. For ABAC, the policy will potentially be evaluated with respect to many more attributes from various systems.<a name="bookmark737">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Compared to RBAC, ABAC is more flexible and multidimensional, but is usually more computationally expensive. A role is just one of many attributes an ABAC policy might use to make an access decision. For example, an RBAC policy may allow anyone in the role “dean” to access student accounts, whereas an ABAC policy might state that the resource can be accessed by anyone with the job title “dean” who is serving in the same college as the student when authenticated using MFA.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">ABAC uses potentially complex Boolean rulesets to describe access control policies. A standard</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark738">way to define these rules is using eXtensible Access Control Markup Language (XACML, a standard language for access control policies), which I will discuss in greater detail in the following sections. These rules take into account attributes of the party requesting access as well as information about the resource and the context, which could include any detectable environmental characteristic. The obvious ones are things like time of day or location but could include other factors. For example, a pharmaceutical company might not allow a sample door to be opened if the room temperature is above a certain amount, or if there’s insufficient humidity.</a><a name="bookmark739">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Abstract Authorization Architectures</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark763" class="s33" name="bookmark740">Authorization follows a set pattern that allows us to use an abstract architecture to discuss the common needs of authorization systems even though they may vary in their details. This abstract architecture was first described as part of the XACML specification, but it’s general enough that it’s used even when the system doesn’t use XACML. These roles have since been codified by the US National Institute for Standards and Technology (NIST).</a><a href="#bookmark763" class="s42">2</a><a name="bookmark741">&zwnj;</a><a name="bookmark742">&zwnj;</a></p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 12-5</span> <span style=" color: #000;">shows the abstract authorization architecture in action:</span></p><ol id="l19"><li><p style="padding-top: 10pt;padding-left: 29pt;text-indent: -15pt;text-align: left;">Alice requests a protected resource.</p></li><li><p style="padding-top: 9pt;padding-left: 29pt;text-indent: -15pt;text-align: left;"><a name="bookmark743">The </a><i>policy enforcement point </i>(PEP) sees the request and sends it to a <i>policy decision point</i><a name="bookmark744">&zwnj;</a></p><p style="padding-top: 1pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">(PDP) to verify if Alice is authorized.</p></li><li><p style="padding-top: 9pt;padding-left: 29pt;text-indent: -15pt;line-height: 109%;text-align: left;"><a name="bookmark745">The </a><i>PDP </i>retrieves access control policies relevant to the resource from a <i>policy administration point </i>(PAP).</p></li><li><p style="padding-top: 7pt;padding-left: 29pt;text-indent: -15pt;line-height: 109%;text-align: justify;"><a name="bookmark746">The </a><i>PDP </i>uses information about the resource and the access control policy to retrieve relevant attributes about Alice and the resource from <i>policy information points </i>(PIPs), returning a “yes” or “no” answer to the <i>PEP</i>.</p></li><li><p style="padding-top: 7pt;padding-left: 29pt;text-indent: -15pt;text-align: left;">The <i>PEP </i>grants or denies access to the resource.</p></li></ol><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="594" height="520" alt="image" src="Image_273.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark747">Figure 12-5. Abstract authorization architecture</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The PEP is the point in the system where the user requests access to a resource. The PEP doesn’t have to be separate from the system serving the resource. For example, if Alice attempts to access a web page, the web server could serve as the PEP. The PDP is where the decision is made about whether Alice will be allowed to access the page.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark748">When a PDP makes a decision about a particular subject’s right to access a particular resource, the decision is called an </a><i>authorization decision assertion </i>(ADA). An ADA can take any form that the PEP and PDP agree on, but it is usually simple and lightweight.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The PDP is often part of the same system that houses the PEP, but it needn’t be. PEPs are lightweight and are often positioned near the resource they protect (on a cloud-based service, for example). The PDP, on the other hand, is requesting policies and attributes from the PAP and PIP and might be better located near those services. The PAP, PEP, and PIP might be separate services or all running together.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Even when the PEP and the PDP are colocated in the same system or program, it is useful to see authorization as a coordinated effort between these two abstract systems. The PDP makes its</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;">determination of entitlements or permissions based on an access policy that has been set in advance.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark749">Representing and Managing Access Control Policies</a></p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark750">Access control policies help define the context within which systems are built and operated. However, merely writing a policy does not ensure that it’s correctly promulgated and implemented throughout the IT infrastructure. I have seen access control policies written in English by the data owner, then translated through the data custodian to the technical team, which implements the policy in programming logic. Not only is this difficult to change, it’s also hard to have confidence the code faithfully represents the data owner’s wishes.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Worse, access control policies are often written in English and then implemented on dozens or even hundreds of different systems individually. Each of these systems has a proprietary configuration language. Compounding the problem, every time the access control policy changes, the entire configuration must be redone.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark747" class="s33">When an access control architecture allows policy decisions to be made independently from the specific resource being accessed (</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 12-5</span><a href="#bookmark747" class="s33">), the system can treat access control policy as an artifact that can be reviewed, versioned, referenced, used, and maintained. Such an architecture needs a machine-readable policy language that can also be represented in ways that nontechnical business owners can understand. As illustrated in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 12-5</span>, a policy language allows different PDPs to use consistent policies from a policy repository (PAP) without constant manual configuration and reconfiguration.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/OsEVE" class="s33" target="_blank" name="bookmark751">XACML is an OASIS Standard XML-based language for storing and sharing access control policies, currently in its third generation. It is widely used in ABAC systems by PDP and PAP. XACML is not the only policy language. Others include the policy language used by </a><a href="https://oreil.ly/OsEVE" class="a" target="_blank">Open</a><a href="https://oreil.ly/OsEVE" class="s36" target="_blank"> </a><a href="https://oreil.ly/OsEVE" class="a" target="_blank">Policy Agent</a><a href="https://oreil.ly/OsEVE" class="s36" target="_blank"> </a><a href="https://oreil.ly/OsEVE" class="s33" target="_blank">and the</a><a href="https://oreil.ly/RTuG3" class="s33" target="_blank"> </a><a href="https://oreil.ly/OsEVE" class="a" target="_blank">JSON-based access policies of AWS</a>. Most of the concepts are similar, however, so we’ll use XACML as our example.<a name="bookmark752">&zwnj;</a><a name="bookmark753">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">XACML is a rule-based language, supporting declarative, rather than imperative, policies. Policy rules can be created to allow fine-grained control over access. These rules can be based on items such as:</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_274.png"/></span></p><p style="padding-top: 8pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Attributes of the requester (only people who work in accounting are allowed to access this document)</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_275.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_276.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 165%;text-align: left;">The action to be taken (reading a document versus updating a document) The time of day (personnel can log in only during their shifts)</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_277.png"/></span></p><p style="padding-left: 29pt;text-indent: 0pt;text-align: left;">The authentication mechanism (only allow entities authenticated with MFA)</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_278.png"/></span></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">The protocol used for access (allow HTTPS access but not HTTP access for this resource)</p><p style="padding-top: 10pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">These can be combined using Boolean connectives to create complex policies. For instance, they might allow users from accounting to update this document over HTTPS but allow users from</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">other departments to read it anytime over HTTP.</p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark754">Rules are the basic component of an XACML policy. In simplified terms, a </a><i>rule </i>contains a target, an optional condition, and an effect. The <i>target </i>defines the set or requests that the rule applies to. A <i>condition </i>further refines the applicability of the rule as a Boolean test. The <i>effect </i>defines the result of the rule if the target matches and the condition is true.<a name="bookmark755">&zwnj;</a><a name="bookmark756">&zwnj;</a><a name="bookmark757">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 107%;text-align: left;">Rules are contained in a <span class="s70">&lt;Policy/&gt; </span>element. This can also contain a <span class="s70">&lt;Target/&gt; </span><a href="https://oreil.ly/vtzKZ" class="s33" target="_blank">element that defines the class of subjects, resources, and actions to which the entire policy is applied. As an example, review the following rule taken from the </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">XACML 3.0 specification</span>:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s76" style="padding-left: 17pt;text-indent: 0pt;text-align: left;">&lt;Rule</p><p class="s76" style="padding-left: 27pt;text-indent: 0pt;line-height: 106%;text-align: left;">RuleId= &quot;urn:oasis:names:tc:xacml:3.0:example:SimpleRule1&quot; Effect=&quot;Permit&quot;&gt;</p><p class="s76" style="padding-left: 27pt;text-indent: 0pt;line-height: 10pt;text-align: left;">&lt;Description&gt;</p><p class="s76" style="padding-left: 44pt;text-indent: 0pt;line-height: 106%;text-align: left;">Any subject with an e-mail name in the med.example.com domain can perform any action on any resource.</p><p class="s76" style="padding-left: 27pt;text-indent: 0pt;line-height: 10pt;text-align: left;">&lt;/Description&gt;</p><p class="s76" style="padding-left: 27pt;text-indent: 0pt;text-align: left;">&lt;Target&gt;</p><p class="s76" style="padding-left: 44pt;text-indent: 0pt;text-align: left;">&lt;AnyOf&gt;</p><p class="s76" style="padding-left: 60pt;text-indent: 0pt;text-align: left;">&lt;AllOf&gt;</p><p class="s76" style="padding-left: 71pt;text-indent: 0pt;text-align: left;">&lt;Match</p><p class="s76" style="padding-left: 87pt;text-indent: 0pt;text-align: left;">MatchId=&quot;urn:oasis:names:tc:xacml:1.0:function:rfc822Name-match&quot;&gt;</p><p class="s76" style="padding-left: 103pt;text-indent: -21pt;line-height: 106%;text-align: left;"><a href="http://www.w3.org/2001/XMLSchema#string" class="s77" target="_blank">&lt;AttributeValue DataType=&quot;</a>http://www.w3.org/2001/XMLSchema#string&quot;</p><p class="s76" style="padding-left: 98pt;text-indent: 0pt;line-height: 10pt;text-align: left;">&gt;med.example.com&lt;/AttributeValue&gt;</p><p class="s76" style="padding-left: 98pt;text-indent: -16pt;line-height: 106%;text-align: left;">&lt;AttributeDesignator MustBePresent=&quot;false&quot; Category=</p><p class="s76" style="padding-left: 98pt;text-indent: 10pt;line-height: 106%;text-align: left;">&quot;urn:oasis:names:tc:xacml:1.0:subject-category:access-subject&quot; AttributeId=&quot;urn:oasis:names:tc:xacml:1.0:subject:subject-id&quot; DataType=&quot;urn:oasis:names:tc:xacml:1.0:data-type:rfc822Name&quot;/&gt;</p><p class="s76" style="padding-left: 71pt;text-indent: 0pt;line-height: 10pt;text-align: left;">&lt;/Match&gt;</p><p class="s76" style="padding-left: 49pt;text-indent: 0pt;text-align: left;">&lt;/AllOf&gt;</p><p class="s76" style="padding-left: 38pt;text-indent: 0pt;text-align: left;">&lt;/AnyOf&gt;</p><p class="s76" style="padding-left: 27pt;text-indent: 0pt;text-align: left;">&lt;/Target&gt;</p><p class="s76" style="padding-left: 17pt;text-indent: 0pt;text-align: left;">&lt;/Rule&gt;</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">In English, this rule states:</p><p class="s35" style="padding-top: 10pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">Any user with an email name in the “med.example.com” namespace is allowed to perform any action on any resource.</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="http://med.example.com/" class="s33" target="_blank">The XACML states that the subject-id attribute of the decision request must be a Name-match (a specific matching function) to a literal value, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">med.example.com</span>. If the Name-match function returns true, then this rule Target is applicable and the rule returns its effect, Permit.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark758">XACML also has a concept called a </a><i>combining algorithm</i>, which allows multiple (perhaps conflicting) rules to be applied to a resource and some action taken as a result. For example, if this rule were the only one in a policy that had a combining algorithm of deny-overrides, then the overall effect of the policy would be to deny the request unless this rule returned Permit.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Rules are evaluated in the context of a request. For example, consider the following XACML</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">request, again from the XACML 3.0 specification:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s76" style="padding-left: 17pt;text-indent: 0pt;text-align: left;">&lt;Request xmlns=&quot;urn:oasis:names:tc:xacml:3.0:core:schema:wd-17&quot;...</p><p class="s76" style="padding-left: 38pt;text-indent: 0pt;text-align: left;">ReturnPolicyIdList=&quot;false&quot;&gt;</p><p class="s76" style="padding-left: 27pt;text-indent: 0pt;text-align: left;">&lt;Attributes</p><p class="s76" style="padding-left: 49pt;text-indent: 0pt;text-align: left;">Category=&quot;urn:...:xacml:1.0:subject-category:access-subject&quot;&gt;</p><p class="s76" style="padding-left: 60pt;text-indent: -21pt;line-height: 106%;text-align: left;">&lt;Attribute IncludeInResult=&quot;false&quot; AttributeId=&quot;urn:oasis:names:tc:xacml:1.0:subject:subject-id&quot;&gt;</p><p class="s76" style="padding-left: 49pt;text-indent: 0pt;line-height: 10pt;text-align: left;">&lt;AttributeValue</p><p class="s76" style="padding-left: 65pt;text-indent: 0pt;text-align: left;">DataType=&quot;urn:oasis:names:tc:xacml:1.0:data-type:rfc822Name&quot;</p><p class="s76" style="padding-left: 60pt;text-indent: 0pt;text-align: left;"><a href="mailto:bs@simpsons.com" class="s77" target="_blank">&gt;</a>bs@simpsons.com&lt;/AttributeValue&gt;</p><p class="s76" style="padding-left: 38pt;text-indent: 0pt;text-align: left;">&lt;/Attribute&gt;</p><p class="s76" style="padding-left: 27pt;text-indent: 0pt;text-align: left;">&lt;/Attributes&gt;</p><p class="s76" style="padding-left: 27pt;text-indent: 0pt;text-align: left;">&lt;Attributes</p><p class="s76" style="padding-left: 49pt;text-indent: 0pt;text-align: left;">Category=&quot;urn:...:xacml:3.0:attribute-category:resource&quot;&gt;</p><p class="s76" style="padding-left: 60pt;text-indent: -21pt;line-height: 106%;text-align: left;">&lt;Attribute IncludeInResult=&quot;false&quot; AttributeId=&quot;urn:oasis:names:tc:xacml:1.0:resource:resource-id&quot;&gt;</p><p class="s76" style="text-indent: 0pt;line-height: 10pt;text-align: right;"><a href="http://www.w3.org/2001/XMLSchema#anyURI" class="s77" target="_blank">&lt;AttributeValue DataType=&quot;</a>http://www.w3.org/2001/XMLSchema#anyURI&quot;</p><p class="s76" style="text-indent: 0pt;text-align: right;">&gt;file://example/med/record/patient/BartSimpson&lt;/AttributeValue&gt;</p><p class="s76" style="padding-left: 38pt;text-indent: 0pt;text-align: left;">&lt;/Attribute&gt;</p><p class="s76" style="padding-left: 27pt;text-indent: 0pt;text-align: left;">&lt;/Attributes&gt;</p><p class="s76" style="padding-left: 27pt;text-indent: 0pt;text-align: left;">&lt;Attributes</p><p class="s76" style="padding-left: 49pt;text-indent: 0pt;text-align: left;">Category=&quot;urn:oasis:names:tc:xacml:3.0:attribute-category:action&quot;&gt;</p><p class="s76" style="padding-left: 60pt;text-indent: -21pt;line-height: 106%;text-align: left;">&lt;Attribute IncludeInResult=&quot;false&quot; AttributeId=&quot;urn:oasis:names:tc:xacml:1.0:action:action-id&quot;&gt;</p><p class="s76" style="padding-left: 49pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><a href="http://www.w3.org/2001/XMLSchema#string" class="s77" target="_blank">&lt;AttributeValue DataType=&quot;</a>http://www.w3.org/2001/XMLSchema#string&quot;</p><p class="s76" style="padding-left: 71pt;text-indent: 0pt;text-align: left;">&gt;read&lt;/AttributeValue&gt;</p><p class="s76" style="padding-left: 38pt;text-indent: 0pt;text-align: left;">&lt;/Attribute&gt;</p><p class="s76" style="padding-left: 27pt;text-indent: 0pt;text-align: left;">&lt;/Attributes&gt;</p><p class="s76" style="padding-left: 17pt;text-indent: 0pt;text-align: left;">&lt;/Request&gt;</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="mailto:bs@simpsons.com" class="s33" target="_blank">This &lt;Request/&gt; contains three attributes. The first contains the entity making the request:</a> bs@simpsons.com. The second contains the resource to which the subject has requested access: file://example/med/record/patient/BartSimpson. The third contains the action the subject wishes to take on the resource, read.</p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="http://simpsons.com/" class="s33" target="_blank">The policy engine evaluates the rules in the context of the request and produces a response. In this case, the preceding rule would not match, since the subject-id is </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">simpsons.com</span><a href="http://med.example.com/" class="s33" target="_blank">, not </a><a href="http://med.example.com/" class="a" target="_blank">med.example.com</a> <span style=" color: #000;">as required in the rule’s target. The response is also specified in XACML:</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s76" style="padding-left: 17pt;text-indent: 0pt;text-align: left;">&lt;Response xmlns=&quot;urn:oasis:names:tc:xacml:3.0:core:schema:wd-17&quot;...&gt;</p><p class="s76" style="padding-left: 27pt;text-indent: 0pt;text-align: left;">&lt;Result&gt;</p><p class="s76" style="padding-left: 38pt;text-indent: 0pt;text-align: left;">&lt;Decision&gt;NotApplicable&lt;/Decision&gt;</p><p class="s76" style="text-indent: 0pt;text-align: right;">&lt;/Result&gt;</p><p class="s76" style="text-indent: 0pt;text-align: right;">&lt;/Response&gt;</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">The PEP would deny access based on this decision.</p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">XACML is a complete, declarative rule language, and there is much more to it than is covered in this simple example. Most people don’t write raw XACML. Instead, they use a commercial or open source tool to write rules and policies that provides a human-friendly interface and generates XACML. People writing and reading rules still need to understand the overall concepts of how policies work, how subjects and resources are identified, the operation of the various</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">matching functions, and conditional logic—but they <i>don’t </i>have to be able to write XML.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 10pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Handling Complex Policy Sets</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark759">As presented in the last section, ABAC-based policy decisions seem simple to evaluate. When we’re only analyzing one policy for one resource, determining who has access is straightforward. But computer systems comprised of multiple compute nodes, storage locations, and network endpoints are the norm. Each of these can have its own access policies, so determining who can access what is complicated. Hackers exploit this complexity to find ingress paths that aren’t obvious. For example, policy may limit direct access to your database, but a weak policy for accessing the application server that uses the database might open an unintended path to your sensitive data.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Combatting this problem requires that you treat policies for what they are: code. Declarative code, to be sure, but still something that is executed. Versioning, formal reviews, testing, and static analysis are the tools developers commonly use to gain confidence that their code works correctly. Apply these same techniques to your policies, not only when they’re developed, but any time they change.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Digital Certificates and Access Control</p><p class="s55" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark608" class="a" name="bookmark760">Chapter 11</a> <span style=" color: #000;">showed how digital certificates can be used in an authentication infrastructure. Because the certificate is just a data structure that can be extended, it can also be used to store permissions and other authorization information, such as roles. The signature of the certificate authority ensures that these attributes can’t be tampered with. The use of certificates in this way makes two important assumptions:</span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_279.png"/></span></p><p style="padding-top: 8pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">The roles, permissions, and entitlements regarding the subject of the certificate are static, and thus can be encoded in a certificate that is updated infrequently.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_280.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">The chain of trust from the organization to the certificate authority is such that systems needing to use the permissions in the certificate can trust that they were set in accordance with the correct access control policy.</p><p style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The inflexibility of this system is its chief drawback. Changing access control permissions requires revoking the old certificate and issuing a new one. Its primary strength is that permissions move with the certificate in a trustworthy way, negating the need for a complicated database infrastructure to store the permissions.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Maintaining Proper Boundaries</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark761">Authorization complements authentication to form the basis for access control. In many ways, authorization is the focal point around which identity systems revolve. Access control is the basis of a security principle called </a><i>zero trust</i>. Zero trust uses identity and access control systems to</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">dynamically protect resources from unauthorized use instead of relying on static defenses like firewalls. As more and more of our lives are intermediated by information systems, boundaries are critical to living effective online lives. Access control systems are the basis for digital boundaries that support safe, functional relationships.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="624" height="1" alt="image" src="Image_281.png"/></span></p><ol id="l20"><li><p class="s45" style="padding-top: 5pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark762"><span class="s65">	</span></a>I try to avoid the term <i>user </i>because it is usually better to use a more specific term, but for this discussion I am using the language of access control.</p></li><li><p class="s65" style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark763">	</a><span class="s60">Guide to Attribute Based Access Control (ABAC) Definition and Considerations</span><span class="s45">, NIST Special Publication 800-162, January 2014.</span></p></li></ol><p class="s21" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark764">Chapter 13. Federated Identity— Leveraging Strong Relationships</a><a name="bookmark765">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="624" height="1" alt="image" src="Image_282.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark766">Aadhaar, the Indian universal identity system, was launched in 2009 with the aim of giving every Indian citizen a biometrically authenticated identifier. Just scanning the irises and fingerprints of one billion people is a stupefyingly large task. The even </a><i>bigger </i>task is making it useful in Indian life.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark867" class="s33" name="bookmark767">I traveled to Bangalore, India, in 2018 to help run a workshop that I and the other Internet Identity Workshop (IIW) organizers helped plan.</a><a href="#bookmark867" class="s42">1</a><span class="s59"> </span>By coincidence, the Digital Identity Research Initiative (DIRI) at the Indian School of Business sponsored an event the same week on Aadhaar. Attending the DIRI event help me learn more about Aadhaar, which is the foundation for many digital identity systems in India. In fact, <i>aadhaar </i>means “foundation” in Hindi.<a name="bookmark768">&zwnj;</a><a name="bookmark769">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The highlight of the week was visiting a village outside Vijayawada near India’s east coast, thanks to an Aadhaar field trip that Omidyar Network organized for me and a few others. We talked with fertilizer distribution agents, farmers, families receiving food distribution, people running the distribution centers, an insurance office at a local hospital, and a bank officer. They showed us how Aadhaar was being used in their respective areas. We saw challenges but also heard positive stories from people in the trenches.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Aadhaar’s goals are to reduce fraud, make taxation more efficient, and save money. The program has had a positive impact on the lives of Indian people, but there are concerns as well, including privacy loss (through account linking) and exclusion (because of limitations in the biometrics, system malfunctions, or errors).</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark770">Aadhaar is an example of a </a><i>federated </i>identity system operated by the Unique Identification Authority of India (UIDAI). UIDAI is a government agency that issues each person a 12-digit identifier and links it to the biometric information for that person. Other government agencies use UIDAI’s system to authenticate people. This is a classic federation pattern called <i>hub and spoke </i>that uses an <i>identity provider</i>, UIDAI in this case, and <i>relying parties</i><a href="#bookmark775" class="s33">, including food and fertilizer distribution centers like the ones I visited, as well as other direct benefit transfer programs, health agencies, and banks. </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 13-1</span> <a href="#bookmark868" class="s33">shows a woman using her fingerprint on an Aadhaar terminal to authenticate in a food distribution center. In fact, almost every government program uses or has plans to use Aadhaar for its digital services.</a><a href="#bookmark868" class="s42">2</a><a name="bookmark771">&zwnj;</a><a name="bookmark772">&zwnj;</a><a name="bookmark773">&zwnj;</a><a name="bookmark774">&zwnj;</a></p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="593" height="674" alt="image" src="Image_283.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark775">Figure 13-1. Scanning a thumbprint on an Aadhaar terminal (photo by the author)</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Aadhaar is impressive for its sheer size and scope. But federated identity systems are very much the global norm in 2022. Nearly anyone who uses the web or apps on a smartphone has used one organization’s identity system (like those of Google, Apple, Facebook, or GitHub) to authenticate to another organization’s application or service. In this chapter, I’ll discuss different types of federation and their underlying protocols.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">The Nature of Federated Identity</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark776">As I’ve noted throughout this book, the proliferation of identity accounts creates significant challenges. People have trouble remembering multiple usernames and passwords. Organizations are required to build and operate multiple identity-management systems. To address these challenges, </a><i>federation </i>links accounts across two or more systems. Federation has several advantages, including:</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_284.png"/></span></p><p style="padding-top: 8pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Reducing friction and enhancing user experience by reducing the number of accounts needed to gain services from diverse resources</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_285.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Enhancing security by reducing the number of passwords people must remember, instead focusing resources, policy, and operations on just one authentication service</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_286.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">Lowering costs because companies don’t need to build as many authentication systems</p><p style="padding-top: 10pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark777">Let’s contrast federated identity with </a><i>centralized </i><a href="#bookmark32" class="s33">identity. Using our terminology from </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 2</span>, we can call centralized identity systems <i>colocated</i>, since the point is that the account system is in the same domain as the resource it protects. In centralized identity, each domain authenticates the entity requesting service separately. Centralized identity systems have become rarer as the world has become more networked. A small example of a centralized identity system is the account system on your personal laptop. You likely created accounts for yourself and maybe some family members when you set it up. The accounts serve a single domain: your laptop. Even in this simple example, however, most people link their laptop accounts to their Apple iCloud or Microsoft Live accounts, creating a federation between the account on the laptop and the account in the cloud.<a name="bookmark778">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark779"><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 13-2</span></a> shows a generic federation pattern. Alice authenticates with the system on the left, called the <i>identity provider </i>(IdP). She then accesses a service or resource from the system on the right, called the <i>relying party </i>(RP). There is an existing trust relationship between the IdP and the RP, so the RP has confidence that Alice has been properly authenticated. The method by which the trust relationship is established, along with its nature and extent, is the primary distinction between different kinds of federation.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark781" class="s33" name="bookmark780">The result of the federation example in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 13-2</span> is identity data being transferred from the IdP to the RP. The data may be transferred directly from the IdP to the RP—this is called a <i>back- channel presentation—or </i>transferred through Alice (using a redirect), called a <i>front-channel presentation</i>.</p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="593" height="522" alt="image" src="Image_287.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark781">Figure 13-2. Generic federation pattern</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark781" class="s33">Federation doesn’t reduce the need for different systems to manage their own accounts. In </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 13-2</span>, the IdP and the RP both have an account for Alice. Federation <i>only reduces </i>the need for the RP to build, manage, and service an authentication system of its own. The nature of the relationships between Alice and the IdP and Alice and the RP will dictate different account structures and attributes. This is true even if the IdP shares some of Alice’s attributes with the RP through the trust relationship. The RP shouldn’t depend on Alice being in an active session with the IdP after she presents her identity data.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">SSO Versus Federation</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;"><a name="bookmark782">Single sign-on </a><span class="p">(SSO) and federation are related but not the same thing. All SSO systems use federation, but not all federated identity systems support SSO. You’ve likely experienced the difference at work.</span><a name="bookmark783">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">The promise of SSO is streamlined experiences that don’t ask you to authenticate over and over</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;">again. The reality is difficult to pull off in practice because of the technical limitations of identity systems, the limited will of many IT departments to do the hard work necessary to overcome those limitations, and security concerns.</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Nevertheless, as the use of federation has grown, so have the opportunities for SSO. For example, when I use systems at Brigham Young University (BYU), where I’m an adjunct faculty member, I often don’t have to reauthenticate as I move from system to system. But there are places where that breaks down.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">For example, BYU uses a third-party benefits manager. I don’t know all the reasons, but BYU and the benefits manager chose not to federate their systems, so I have a separate username and password at each. The benefits manager uses another company for retirement benefits. They have federated with each other, so I use the same username and password at the benefits manager’s website as I do on the retirement website. And if I update my password at the benefit manager’s site, it’s updated at the retirement website. But I have to log into the retirement system’s site every time I visit, even if I visit from the benefit manager’s site and have already logged in there. The benefit manager and retirement manager support federation, but not SSO.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">SSO is difficult with web and smartphone applications that are from different domains. For web applications, this is because cookies are used to manage authenticated sessions and the browser sends back cookies only for the domain it makes the request from. For example, BYU uses Canvas, from Instructure, as a learning management system. The URL that BYU faculty and students use for Instructure is <i>byu.instructure.com</i>, not <i>canvas.byu.edu</i>. As a result, even though Canvas is using BYU as an IdP, it is not SSO. While I might already be logged into BYU at <i>byu.edu</i>, the cookie storing the token that says I’m authenticated won’t be sent to services in the domain <i>instructure.com</i>.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Federation in the Credit Card Industry</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark784">The credit card industry provides many excellent lessons about the move from centralized to federated identity management, as well as the challenges of implementing a federated model. I will use it to illustrate some ideas because it is the most widespread, familiar example of a federated identity system.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">You may not have thought of Visa and Mastercard as identity systems. They are, of course, primarily concerned with payments, but at their foundations, they are sophisticated federated identity systems.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Let’s look at an example. Bank of America launched the first multi-merchant credit card, BankAmericard, in 1958 as a way to extend small consumer loans to Bank of America customers at the time of a purchase. Any merchant could choose to participate. In essence, the bank functioned as a central clearinghouse, vouching to merchants for its customers’ ability to pay.</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Before that, consumers had only had credit relationships directly with individual merchants. From an identity perspective, each of these independent credit accounts had its own identifiers and store of attributes.</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">BankAmericard was so successful that it attracted rampant competition. In 1966, five other California banks collaborated to issue a competing product, Master Charge, with a significantly larger customer base. In response, Bank of America began franchising BankAmericard to other banks across the US. This meant Bank of America no longer had direct relationships with all the merchants and consumers in the network. It had to establish mechanisms for merchants to verify cards through the card-issuing banks, and for the banks involved to settle transactions. What emerged was a federated financial network and an underlying federated identity system. Every bank controlled its own relationships with consumers and merchants. Federation allowed data about these relationships to stay in place at the issuing bank, using common policies and technologies for member banks to exchange information with each other.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Three Federation Patterns</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark785">Federations fall into one of three patterns:</a></p><p class="s35" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Ad hoc federation</p><p class="s35" style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Ad hoc federation <span class="p">is characterized by bilateral relationships between systems or organizations wishing to create a federated identity relationship.</span></p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Hub-and-spoke federation</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">In the <i>hub-and-spoke </i>pattern, many RPs use a single identity provider.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Identity federation network</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">An <i>identity federation network </i>allows many players to share identity information with each other without a central node. Nodes may act as both IdP and RP simultaneously.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">All three patterns require standards, architectures, protocols, and governance. I’ll discuss each pattern in turn.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Pattern 1: Ad Hoc Federation</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark786">Ad hoc federation is done between a few systems, inside the same organization or across organizational boundaries, usually to solve a specific problem. Before Bank of America launched BankAmericard in 1958, there were ad hoc credit arrangements that linked lenders to consumers through merchants (called </a><i>merchant-centric credit arrangements</i>). Ad hoc federations are usually bidirectional, but they can also be multiparty.<a name="bookmark787">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Ad hoc identity federation has been going on since networks were first invented and people on one system needed to access another. The example I gave above of Canvas using BYU as an IdP is an ad hoc federation. Every organization of any size has similar arrangements with various partners. The cloud and the rise of enterprise software delivered as a service have made ad hoc federation common.</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark788">Ad hoc federations typically use Security Assertion Markup Language (SAML) or OAuth (both discussed later in this chapter) to provide authentication services or share account data. You might run across some old federations (or just federations to old systems) that use LDAP to access directory information, but that’s fading away. The challenge for organizations is that they will likely have to support multiple protocols, because the software they buy will have picked its own standard.</a><a name="bookmark789">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;">The biggest problem with ad hoc federations is that they don’t scale well. Even with standards and protocols like SAML or OAuth, each federation must be set up independently, usually as a custom integration that must be designed, built, and maintained over time as systems change.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">For federations that cross organizational boundaries, legal agreements must be put in place. These are often custom agreements involving legal departments on both sides. Even internal federations require governance, although it’s not always recognized as such. Internal governance often takes the form of unwritten agreements between different parts of the organization. Don’t let this happen. Documenting all internal federations will save you downtime, money, and heartache.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: justify;">Pattern 2: Hub-and-Spoke Federation</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark790">Hub-and-spoke federation is one answer to the challenges of ad hoc federation. Hub-and-spoke federations are characterized by a single IdP and multiple RPs. The IdP is usually dedicated and functions as the single source of authentication for all the RPs.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">In our credit card example, hub-and-spoke describes Bank of America’s initial foray into credit, in which BankAmericard served as the only credit clearinghouse for Bank of America customers. A merchant who wanted to serve customers from multiple banks would need relationships with each. American Express and Discover still function as hub-and-spoke federations.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">When organizations set up a hub-and-spoke federation, it’s usually with a company-run identity service serving as the IdP and other systems within the organization acting as RPs. Most company-internal SSO, for example, relies on a hub-and-spoke federation. Various things get in the way of doing this perfectly: for instance, some of those internal systems may not use protocols that the identity service supports. Large organizations often have legacy ad hoc federations that are deemed too expensive to retool. And enforcing a single source of truth for something as foundational as identity information can be hard. Modern systems expect to have their own account structure.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The fallback is often to make the corporate identity service the sole means of authentication but still support multiple stores of identity information. These are synchronized using a variety of patterns. Reducing these ad hoc synchronizations is a laudable goal but can be expensive. As you’ve learned, identity is used to support relationships, and each system has specialized needs that go beyond whatever schema the identity service is configured with. As with ad hoc federation, it pays dividends to formalize the agreements between different services, even inside an organization.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Since 2005, hub-and-spoke federation between organizations has become extremely popular,</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark791">driven by the development of protocols like OAuth and OpenID Connect (OIDC) and the increased use of APIs to provide services to outside organizations. Aadhaar is a hub-and-spoke federation, as is the British government’s GOV.UK Verify.</a><a name="bookmark792">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark793">But hub-and-spoke identity federation goes well beyond national governments. Social login services like those through Facebook, Google, Twitter, Apple, and Amazon are based on OAuth</a></p><ol id="l21"><ol id="l22"><li><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">(which I’ll discuss later in this chapter). The agreements between the IdP and RP are standardized, and RPs can use the IdP on a self-service basis. Most IdPs also have software development kits (SDKs) for a variety of languages to ease the developer burden and eliminate the need for the RP to set up its own authentication service. These benefits have made such services very popular.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">If you’ve used social login to sign up for an app or service, you know that the RP app almost always maintains its own account information (sometimes called a <i>profile</i><a href="#bookmark794" class="s33">). The need for this is obvious when you consider that many allow you to pick from among several IdPs. One of the weaknesses of many RP implementations of social login is that they don’t allow for a single account to be linked to multiple IdPs—once you’ve picked, that’s it. At BYU, the system detects when you log in with an identifier it hasn’t seen before and prompts you to link that new identifier to your already established account (see </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 13-3</span>).</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="593" height="415" alt="image" src="Image_288.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark794">Figure 13-3. Catching new sign-ins so they can be linked to an existing account</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Account linking is a best practice to make social login more usable for ordinary people. Personally, I usually don’t use social login, because it’s hard for me to remember which IdP I</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;">used for which site—and my password manager does a reasonable job of making the standard username-password bearable.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="624" height="540" alt="image" src="Image_289.png"/></span></p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Over the last decade, a small number of powerful players have emerged as focal points of the identity domains that they control: Google, Facebook, Apple, Twitter, and Amazon. These IdPs wield enormous power. Smaller organizations seeking federation are left with little bargaining power, because the hubs set rules, often to their own advantage.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s30" style="padding-left: 3pt;text-indent: 0pt;text-align: center;">BANK OF AMERICA: A CAUTIONARY TALE</p><p style="padding-top: 6pt;padding-left: 14pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark795">This is precisely the scenario that unfolded in the credit card industry after Bank of America franchised its credit card. The licensing strategy worked—to a point. Bank of America did gain a certain level of ubiquity with its card, but it also gained a system that seemed incapable of holding up under strain. The BankAmericard system was beset with security problems, delays, and outages.</a></p><p style="padding-top: 5pt;padding-left: 14pt;text-indent: 0pt;line-height: 109%;text-align: left;">What’s more, the licensees were growing unhappy not only with the system but also with the licensing strategy itself. They saw the need for cooperation—for a credit card federation— but they did not enjoy being beholden to one large bank that was getting rich off their efforts and dictating the terms under which they were cooperating.</p><p style="padding-top: 5pt;padding-left: 14pt;text-indent: 0pt;line-height: 109%;text-align: left;">In the days when Bank of America controlled the system, it struggled under its technical and operational burdens. Having developed the credit card for its own use, Bank of America had neither the expertise nor the inclination to devote sufficient resources to the infrastructure necessary for interchange with other banks. Participating banks delayed processing payment requests to earn undeserved interest, distorted the “merchant discounts” and other processing fees they were entitled to retain, and squabbled over responsibility to cover fraud and other losses.</p><p style="padding-top: 5pt;padding-left: 14pt;text-indent: 0pt;line-height: 109%;text-align: left;">In social login, IdPs have kept federation simple—offering only authentication and perhaps a few self-attested attributes—to avoid disputes and keep others from gaming the system. IdPs, who sometimes compete in other areas with other members of the federation, never fully win the trust of those subject to their policies. As a result, social login has not been successful with some potential RPs. Banks, for example, are loath to use hub-and-spoke federation systems, because their authentication system and policies would be controlled by someone else.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark796">Pattern 3: Identity Federation Network</a></p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark131" class="s33" name="bookmark797">The third pattern is federation within an identity network, an independent entity focused solely on the technical, administrative, and governance aspects of identity federation. In </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 4</span>, I called this kind of system a <i>metasystem</i>: a system of systems. An identity network will typically gain support once a sufficient number of individual participants have become frustrated with the challenges of operating in an ad hoc multilateral environment, or when a hub-and-spoke network has begun to groan under its own weight.<a name="bookmark798">&zwnj;</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Just two years after Bank of America began franchising BankAmericard, the situation had become so unworkable that the bank called its licensees to a meeting in Columbus, Ohio, to try to address the problems. The meeting quickly turned into a session of acrimonious finger- pointing. Finally, Dee Hock, vice president at a licensee bank in Seattle, stood up and suggested that the group form a committee to study the core problem in more depth. The participants immediately created the committee and appointed him chair.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Hock’s committee recommended that the banks collectively create a new kind of organization that would be not only cooperative but also decentralized. Hock saw that the independent, competing organizations participating in the BankAmericard federation needed to cooperate on standards, rules, and processes for the cross-boundary use of a device (the BankAmericard).</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">However, the federation could not persist over time if the organization couldn’t address the needs of all issuers of the BankAmericard equally.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">In response, the BankAmericard federation became independent in 1970. The result was a unique entity, initially called National BankAmericard Inc. but later rebranded as Visa. Visa is an autonomous organization that exists to coordinate the cooperation required from an ever- expanding membership, enabling them to issue and manage credit cards even as they compete.</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;">Visa took the islands of banks that had grown weary of the autocratic BankAmericard licensing system and brought them together under shared governance, with a common purpose and a new vision. It created a genuine network.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Visa’s success illustrates the benefits of independent identity networks. Identity networks’ core mission is handling challenges that are peripheral to any member of the network—such as ensuring the smooth interchange among participating institutions, selecting technical standards, defining liability responsibilities, determining common policies, managing security and fraud risks, enforcing privacy policies, resolving disputes among members, and interfacing with governments. When federation occurs through an identity network, the network can avoid the redundancy inherent in the ad hoc and hub-and-spoke models and devote its full attention to ensuring that the network scales effectively and serves the needs of all its members.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Identity networks can provide an ordered ecosystem for enterprises and individuals to interact, transact, and compete. As of 2022, only a few identity networks exist, and they are still in their early stages of adoption. The technologies, standards, protocols, and governance necessary for their growth are still young. Unlike credit card networks, where strong legal organizations took on the challenge of developing the technologies, standards, and governance, identity networks are developing the way the internet has: with multiple organizations playing roles in various parts of the process. Later chapters will discuss identity networks’ technologies, standards, governance, and adoption in detail.</p><p class="s104" style="padding-top: 11pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">A secure, protected environment</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">By creating a quality-controlled environment for identity federation, the identity network both mitigates the risk of fraud or security breaches and reduces the likely damages of any breaches that do occur. The network is in a better position to design and implement monitoring, certification, tracking, and compliance mechanisms than any of its individual participants.</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Moreover, its ability to enforce its security standards ensures that there will be no weak links among network members: those who fail to adhere to policies can be subject to liability, recertification requirements, fines, suspensions, or even expulsion.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">By pooling data and experience, the network can identify theft patterns and create effective protections against criminal activity more quickly and less expensively than any individual organization. Fraudsters tend to repeat attack patterns against various targets until those targets recognize and close their vulnerabilities. The common practices and information-sharing possible in an identity network give members a security advantage over organizations that do not participate in the federation.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">An identity network also provides an environment perfectly suited to protecting the privacy of personal information online. In the identity network, access to personal information is permission-based, so no one company has a complete view of any individual’s PII. Indeed, the distributed nature of the identity network ensures that no one party could ever know more than one piece of the identity puzzle without the individual’s express consent. People can control access to their personal data, providing only what is absolutely necessary to gain access to a particular online resource.</p><p class="s59" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark869" class="s33" name="bookmark799">What’s more, when third-party authenticators authorize individual users and data is shared minimally and in zero knowledge,</a><a href="#bookmark869" class="s42">3</a> <span class="p">companies will be able to take advantage of personal data without actually seeing it. The strong privacy protections that identity networks can establish and enforce also shield member organizations from the significant potential costs of failures to protect privacy, including fines, legal awards, and reputation damage.</span></p><p class="s104" style="padding-top: 11pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Identity networks are more complicated than financial networks</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Establishing a federated identity network, or identity metasystem, is not an easy task. Unlike a credit card network, which can extract a small fee from each transaction to fund its operation, members of federated identity networks must fund them out of pocket. Also, issues like liability are more fully understood in financial services networks, and it’s relatively easy to charge higher fees for riskier transactions. What’s more, there is a large body of legal knowledge about financial services that helps to establish the ground rules. These problems are yet to be solved for federated identity networks.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">More importantly, the nature of identity transactions is more complex than that of financial transactions. Money is fungible—a dollar is a dollar. But attributes, authorizations, and permissions are not fungible. In fact, the whole point of many identity interactions is to <i>ensure </i>they are not fungible—we put great effort into ensuring that Alice cannot access a resource based on Bob’s authorization.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Additionally, identity networks must handle far more types of identity transactions: the number is orders of magnitude greater than those in a financial network. For example, your driver’s license is an identity document that contains a collection of attributes and some specific permissions (what kinds of vehicles you can legally drive). Your university transcript is a completely different identity document from a different type of institution, used for different purposes. An identity network should support transactions and the governance that goes along</p><p class="s55" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;"><a href="#bookmark131" class="s33" name="bookmark800">with them for both of these, and countless more. The metasystem discussion in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 4</span> <a href="#bookmark875" class="s33">provides some guidelines for how an identity system can be built that accommodates this; Chapters </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">14</span><a href="#bookmark945" class="s33">, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">15</span><a href="#bookmark1024" class="s33">, and </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">16</span> <span style=" color: #000;">will provide even more detail.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">Addressing the Problem of Trust</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark801">Federated identity can operate only in an environment in which trust has already been established between parties. In an ad hoc federation, trust is established one bilateral agreement at a time.</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Each trust relationship is a custom creation. In hub-and-spoke federations, the trust relationship is created between the IdP and the RPs—generally as take-it-or-leave-it contracts of adhesion that RPs must agree to if they use the service. In a networked federation, trust is established through a common governance model that apportions or limits liability for players in specific ecosystems.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">In each of these patterns, trust comes from the participants and the structure of their relationships; it cannot be created through technical specifications alone. SAML, for example, does not specify how much confidence should be placed in an identity assertion. Nor does it, or any other federated identity standard, directly address privacy policies. Each organization must decide what level of security precautions and privacy protections are sufficient, then negotiate baseline operational agreements with partners.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Federated identity cannot establish trust—it can only communicate it. Creating an environment in which digital identity can be strongly authenticated and used for high-value online transactions across identity domains is not simply a software engineering problem. It also requires well-established business, legal, and social processes.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Digital identity is not necessary for a single business process or relationship, but it is a fundamental element of a networked business. Ultimately, companies need trusted federated identity mechanisms that scale to different users, partners, and applications. An identity network is the only effective means to do so while ensuring that operational, legal, and security obligations are met.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Network Effects and Digital Identity Management</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/qPnIr" class="s33" target="_blank" name="bookmark802">You’ve probably heard of </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Metcalfe’s law</span>, which states that the value of a network grows as the square of the number of nodes. The reason is simple: the value is in the number of potential relationships, or links between nodes. Metcalfe’s law informs digital identity architectures because the difficulty of managing an identity and access-management system is proportional to the number of potential relationships.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark803">The internet uses a distributed, packet-switched architecture to manage the complexities arising from Metcalfe’s network effects. No centralized architecture could have scaled to the size of today’s internet. The only solution was to make each node smart enough to allow relationships between any two hosts on the internet to be established without any centralized coordination.</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Efforts to create large centralized digital identity systems fail to appreciate three important lessons of the internet’s distributed architecture:</p><p class="s35" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Distributed architectures are more secure</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">The distributed architecture and decentralized nature of the internet makes it difficult for attackers to break the network by concentrating their efforts in one place. In contrast, in a centralized system, the benefit of learning how to scam or break the system is very high, making it worthwhile for criminals to invest heavily in discovering a means of compromising the system.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Decentralized systems are less prone to commercial or political abuse</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">No one wants their data to be under someone else’s control because of the potential for it to be exploited. We put up with external control because the benefits are worth the risk. But problems like surveillance capitalism show the danger in centralized architectures.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Distributed architectures fail better</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">A distributed architecture degrades gracefully, making it less susceptible to catastrophic failure. By contrast, once a key part of a centralized system becomes compromised, the entire system, along with all its connected data, is untrustworthy.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Numerous real-world examples show why centralization is more difficult in practice than in theory. For years, enterprise software vendors have claimed strong return on investment from integrating customer or supply chain data. Though enterprise resource planning, customer relationship management, and enterprise application integration have delivered some value, it has seldom been without significant pain and implementation expense. The rise of “software as a service” (SaaS) cloud offerings has exacerbated these integration and synchronization problems, which often come down to identity.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Beyond the IT challenges, centralized digital identity systems run into significant perceptual and user-behavior obstacles. People have no desire to do the work of putting all their information in one place. They don’t necessarily want yet another username and password combination.</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Concerns that a single company could monopolize identity data, or that governments could use such a repository to gain access to personal data, inevitably dog centralized identity schemes.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Federation Methods and Standards</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark108" class="s33" name="bookmark804">In discussing the problems of online identity in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 3</span>, I stated that because the internet is missing an identity layer, over the last several decades every website, service provider, and application has solved the problem in a unique way. This explosion of different authentication</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">and authorization methods has created extreme interest in reducing the complexity of logging in. Consequently, the early 21st century has been a period of intense evolution in federated identity standards. Much of this evolution has played out in sessions at the IIW, which several of us started in 2005 to bring together various URL-based identifier schemes into a single standard.</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;">Despite dozens of meetings at IIW over the years, the work continues.</p><p class="s55" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark875" class="s33">This section will discuss four mature identity federation standards that are widely used both inside organizations and online. All these standards are applied both inside and across organizations and are focused on the hub-and-spoke federation pattern, although they also frequently serve ad hoc federations. </a><a href="#bookmark875" class="a">Chapter 14</a> <a href="#bookmark945" class="s33">and </a><a href="#bookmark945" class="a">Chapter 15</a> <span style=" color: #000;">will discuss emerging standards for networked federation.</span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">The federation standards discussed below offer several important benefits, including:</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_290.png"/></span></p><p style="padding-top: 10pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">The federation partners (RPs) don’t have to maintain expensive identity infrastructure or the support functions necessary to service accounts (such as password reset).</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_291.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">People (and systems) establish fewer authentication relationships and thus don’t have to remember as many passwords or store other authentication factors in as many places.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_292.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">The authentication flow is designed so that RPs never see the authentication factors. These are all contained on the IdP’s system. Reducing the parts of the system that handle sensitive information increases security.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">SAML</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark805">Identity and access management systems need a way of creating and distributing authentication and authorization assertions. The Security Assertion Markup Language, or SAML, is a standard that allows an IdP to pass authentication, authorization, and attribute information about a subject to an RP. The SAML specification calls the RP a </a><i>service provider </i>(SP), so that’s the language I’ll use in this section for consistency with the specification. The information the IdP sends the SP is contained in a <i>security token </i>that takes the form of a digitally signed XML message.<a name="bookmark806">&zwnj;</a><a name="bookmark807">&zwnj;</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;">SAML is primarily used for web-based, cross-domain SSO.</p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">SAML 2.0 was ratified as an OASIS Standard in March 2005, replacing SAML 1.1. The standard is composed of four primary specifications:</p><p class="s35" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Core</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">The <i>core </i>specification defines the main SAML protocols, including assertion query and request, authentication request, and artifact resolution.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Binding</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">The <i>binding </i>specification says how SAML is mapped onto various transport protocols (such as HTTP).</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Profile</p><p style="padding-top: 5pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">The <i>profile </i>specification describes how SAML messages can be embedded in or used with other types of messages (like SOAP).</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Metadata</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">The <i>metadata </i>specification provides an extensible standard for identifiers, binding support, endpoints, certificates and keys, and other metadata.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Its support for different bindings, profiles, and metadata extensions makes SAML extremely flexible. Covering it in detail would require an entire book, so I’ll focus on one of the most popular, the web-browser flow. But keep in mind that no matter which systems, transport protocols, messaging requirements, or specific metadata your application requires, you can probably use SAML.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark808">The IdP is known as a </a><i>SAML authority </i>and responds to <i>SAML requests</i>. SAML responses are called <i>assertions</i>. There are three different types of assertions:</p><p class="s35" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Authentication assertions</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">When a SAML authority receives a request about a particular subject’s authentication status, the result is returned as an <i>authentication assertion</i>. The authority asserts that subject <i>S </i>was authenticated by means <i>M </i>at time <i>T</i>. For example, “Subject Alice in company example.com was authenticated using a password over protected transport at time 2023-05-06T13:20:00- 05:00.”</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Attribute assertions</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">In addition to the authentication assertion, a SAML authority can be asked for attributes associated with the subject. These are returned as an <i>attribute assertion</i>. The authority asserts that subject <i>S </i>is associated with attributes <i>A</i>, <i>B</i>, etc., with values <i>X</i>, <i>Y</i><a href="mailto:bob@engr.example.com" class="s33" target="_blank">, etc. For example, “Subject Bob is associated with attribute Department with value Engineering and attribute Email with value </a><a href="mailto:bob@engr.example.com" class="s32" target="_blank">bob@engr.example.com</a>.”</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Authorization decision assertions</p><p class="s35" style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><span class="p">An authority can return an </span>authorization assertion <span class="p">in response to a request about a subject’s permissions with respect to certain resources. The authority asserts that subject </span>S <span class="p">has (or has not) been granted permission for action </span>A <span class="p">on resource </span>R <span class="p">given evidence </span>E<a href="http://A.com/services/foo" class="s33" target="_blank">. For example, “Subject </a>http://A.com/services/foo <a href="http://B.com/bar" class="s33" target="_blank">is granted permission to read the file at </a>http://B.com/bar <span class="p">as evidenced by assertions A1, A2, and A8.”</span></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark812">Authorities can act as IdPs, producing assertions, and as SPs, consuming assertions from other authorities.</a></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_293.png"/></span></p><p style="padding-top: 5pt;padding-left: 29pt;text-indent: -24pt;line-height: 174%;text-align: left;">Assertions contain the following common elements: Issuer ID and issuance timestamp</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_294.png"/></span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 13pt;text-align: left;">A globally unique assertion ID</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_295.png"/></span></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Subject, including a name and security domain, and optionally the subject’s authentication data</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_296.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">Optional, additional information (<i>advice</i>) provided by the issuing authority</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_297.png"/></span></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">Conditions under which the assertion is valid such as the assertion validity period (such as</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_298.png"/></span></p><p class="s70" style="padding-top: 1pt;padding-left: 29pt;text-indent: 0pt;line-height: 158%;text-align: left;">NotBefore <span class="p">and </span>NotOnOrAfter<span class="p">) Audience restrictions</span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_299.png"/></span></p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 24pt;line-height: 174%;text-align: left;"><a href="#bookmark870" class="s33" name="bookmark809">Target restrictions, such as the intended URLs for the assertion The following example shows a SAML authentication request:</a><a href="#bookmark870" class="s42">4</a></p><p class="s76" style="padding-top: 5pt;padding-left: 49pt;text-indent: -27pt;line-height: 106%;text-align: left;">&lt;samlp:AuthnRequest xmlns:samlp=&quot;urn:oasis:names:tc:SAML:2.0:protocol&quot; xmlns:saml=&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot; ID=&quot;aaf23196-1773-2113-474a-fe114412ab72&quot;</p><p class="s76" style="padding-left: 49pt;text-indent: 0pt;line-height: 10pt;text-align: left;">Version=&quot;2.0&quot;</p><p class="s76" style="padding-left: 49pt;text-indent: 0pt;text-align: left;">IssueInstant=&quot;2023-12-05T09:21:59Z&quot;</p><p class="s76" style="padding-left: 49pt;text-indent: 0pt;line-height: 106%;text-align: left;"><a href="http://idp.example.com/SSOService.php" class="s77" target="_blank">Destination=&quot;</a>http://idp.example.com/SSOService.php&quot; ProtocolBinding=&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST&quot; AssertionConsumerServiceIndex=&quot;0&quot; AttributeConsumingServiceIndex=&quot;0&quot;&gt;</p><p class="s76" style="padding-left: 33pt;text-indent: 0pt;line-height: 10pt;text-align: left;">&lt;saml:Issuer&gt;https://sp.example.com/SAML2&lt;/saml:Issuer&gt;</p><p class="s76" style="padding-left: 22pt;text-indent: 0pt;text-align: left;">&lt;/samlp:AuthnRequest&gt;</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">This request was issued by a service provider identified by the URI <i>https://sp.example.com/SAML2</i>. It requests an assertion containing an authentication statement. The SP doesn’t usually identify the subject, leaving that task to the IdP.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">The following XML is an example of a signed authentication assertion:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s76" style="padding-left: 44pt;text-indent: -21pt;line-height: 106%;text-align: left;"><a href="http://www.w3.org/2001/XMLSchema" class="s77" target="_blank">&lt;saml:Assertion xmlns:saml=&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot; xmlns:xs=&quot;</a>http://www.w3.org/2001/XMLSchema&quot; ID=&quot;aaf23196-1773-2113-474a-fe114412ab72&quot;</p><p class="s76" style="padding-left: 44pt;text-indent: 0pt;line-height: 10pt;text-align: left;">Version=&quot;2.0&quot;</p><p class="s76" style="padding-left: 44pt;text-indent: 0pt;text-align: left;">IssueInstant=&quot;2023-12-05T09:22:05Z&quot;&gt;</p><p class="s76" style="padding-left: 33pt;text-indent: 0pt;text-align: left;">&lt;saml:Issuer&gt;https://idp.example.org/SAML2&lt;/saml:Issuer&gt; <span><img width="10" height="10" alt="image" src="Image_300.jpg"/></span></p><p class="s76" style="padding-left: 44pt;text-indent: -10pt;line-height: 106%;text-align: left;"><a href="http://www.w3.org/2000/09/xmldsig" class="s77" target="_blank" name="bookmark810">&lt;ds:Signature xmlns:ds=&quot;</a>http://www.w3.org/2000/09/xmldsig#&quot;&gt;...&lt;/ds:Signature&gt; <span><img width="10" height="10" alt="image" src="Image_301.jpg"/></span></p><p class="s76" style="padding-left: 33pt;text-indent: 0pt;line-height: 10pt;text-align: left;">&lt;saml:Subject&gt; <span><img width="10" height="10" alt="image" src="Image_302.jpg"/></span></p><p class="s76" style="padding-left: 44pt;text-indent: 0pt;text-align: left;">&lt;saml:NameID</p><p class="s76" style="padding-left: 54pt;text-indent: 0pt;line-height: 106%;text-align: left;"><a name="bookmark811">Format=&quot;urn:oasis:names:tc:SAML:2.0:nameid-format:transient&quot;&gt; 3f7b3dcf-1674-4ecd-92c8-1544f346baf8</a></p><p class="s76" style="padding-top: 3pt;padding-left: 44pt;text-indent: 0pt;text-align: left;">&lt;/saml:NameID&gt;</p><p class="s76" style="padding-left: 54pt;text-indent: -10pt;line-height: 106%;text-align: left;">&lt;saml:SubjectConfirmation Method=&quot;urn:oasis:names:tc:SAML:2.0:cm:bearer&quot;&gt;</p><p class="s76" style="padding-left: 54pt;text-indent: 0pt;line-height: 10pt;text-align: left;">&lt;saml:SubjectConfirmationData</p><p class="s76" style="padding-left: 65pt;text-indent: 0pt;line-height: 106%;text-align: left;">InResponseTo=&quot;aaf23196-1773-2113-474a-fe114412ab72&quot; Recipient=&quot;https://sp.example.com/SAML2/SSO/POST&quot; NotOnOrAfter=&quot;2023-12-05T09:27:05Z&quot;/&gt;</p><p class="s76" style="padding-left: 44pt;text-indent: 0pt;line-height: 10pt;text-align: left;">&lt;/saml:SubjectConfirmation&gt;</p><p class="s76" style="padding-left: 33pt;text-indent: 0pt;text-align: left;">&lt;/saml:Subject&gt;</p><p class="s76" style="padding-left: 44pt;text-indent: -10pt;line-height: 106%;text-align: left;"><a name="bookmark813">&lt;saml:Conditions </a><span><img width="10" height="10" alt="image" src="Image_303.jpg"/></span><span class="s45"> </span>NotBefore=&quot;2023-12-05T09:17:05Z&quot;</p><p class="s76" style="padding-left: 44pt;text-indent: 0pt;line-height: 10pt;text-align: left;">NotOnOrAfter=&quot;2023-12-05T09:27:05Z&quot;&gt;</p><p class="s76" style="padding-left: 44pt;text-indent: 0pt;text-align: left;">&lt;saml:AudienceRestriction&gt;</p><p class="s76" style="padding-left: 54pt;text-indent: 0pt;text-align: left;">&lt;saml:Audience&gt;https://sp.example.com/SAML2&lt;/saml:Audience&gt;</p><p class="s76" style="padding-left: 44pt;text-indent: 0pt;text-align: left;">&lt;/saml:AudienceRestriction&gt;</p><p class="s76" style="padding-left: 33pt;text-indent: 0pt;text-align: left;">&lt;/saml:Conditions&gt;</p><p class="s76" style="padding-left: 44pt;text-indent: -10pt;line-height: 106%;text-align: left;"><a name="bookmark814">&lt;saml:AuthnStatement </a><span><img width="10" height="10" alt="image" src="Image_304.jpg"/></span><span class="s45"> </span>AuthnInstant=&quot;2023-12-05T09:22:00Z&quot;</p><p class="s76" style="padding-left: 44pt;text-indent: 0pt;line-height: 10pt;text-align: left;">SessionIndex=&quot;b07b804c-7c29-ea16-7300-4f3d6f7928ac&quot;&gt;</p><p class="s76" style="padding-left: 44pt;text-indent: 0pt;text-align: left;">&lt;saml:AuthnContext&gt;</p><p class="s76" style="padding-left: 65pt;text-indent: -10pt;line-height: 106%;text-align: left;">&lt;saml:AuthnContextClassRef&gt; urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport</p><p class="s76" style="padding-left: 54pt;text-indent: 0pt;line-height: 10pt;text-align: left;">&lt;/saml:AuthnContextClassRef&gt;</p><p class="s76" style="text-indent: 0pt;text-align: right;">&lt;/saml:AuthnContext&gt;</p><p class="s76" style="text-indent: 0pt;text-align: right;">&lt;/saml:AuthnStatement&gt;</p><p class="s76" style="padding-left: 33pt;text-indent: 0pt;text-align: left;">&lt;saml:AttributeStatement&gt; <span><img width="10" height="10" alt="image" src="Image_305.jpg"/></span></p><p class="s76" style="padding-left: 54pt;text-indent: -10pt;line-height: 106%;text-align: left;"><a name="bookmark815">&lt;saml:Attribute xmlns:x500=&quot;urn:oasis:names:tc:SAML:2.0:profiles:attribute:X500&quot; x500:Encoding=&quot;LDAP&quot; NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:uri&quot; Name=&quot;urn:oid:1.3.6.1.4.1.5923.1.1.1.1&quot;</a></p><p class="s76" style="padding-left: 54pt;text-indent: 0pt;line-height: 10pt;text-align: left;">FriendlyName=&quot;eduPersonAffiliation&quot;&gt;</p><p class="s76" style="padding-left: 65pt;text-indent: -10pt;line-height: 106%;text-align: left;">&lt;saml:AttributeValue xsi:type=&quot;xs:string&quot;&gt;member&lt;/saml:AttributeValue&gt;</p><p class="s76" style="padding-left: 65pt;text-indent: -10pt;line-height: 106%;text-align: left;">&lt;saml:AttributeValue xsi:type=&quot;xs:string&quot;&gt;staff&lt;/saml:AttributeValue&gt;</p><p class="s76" style="padding-left: 44pt;text-indent: 0pt;line-height: 10pt;text-align: left;">&lt;/saml:Attribute&gt;</p><p class="s76" style="padding-left: 33pt;text-indent: 0pt;text-align: left;">&lt;/saml:AttributeStatement&gt;</p><p class="s76" style="padding-left: 22pt;text-indent: 0pt;text-align: left;">&lt;/saml:Assertion&gt;</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="10" height="10" alt="image" src="Image_306.jpg"/></span></p><p class="s257" style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark816">The</a><span class="s70">&lt;</span>re<span class="s70">s</span>a<span class="s70">a</span>r<span class="s70">m</span>e <span class="s70">l</span>se<span class="s70">:</span>v<span class="s70">I</span>e<span class="s70">s</span>ra<span class="s70">s</span>l<span class="s70">u</span>im<span class="s70">er</span>po<span class="s70">&gt;</span>rt<span class="p">c</span>a<span class="p">o</span><b>n</b>t<span class="p">t</span>e<span class="p">a</span>l<span class="p">i</span>e<span class="p">n</span>m<span class="p">s t</span>e<span class="p">h</span>n<span class="p">e</span>ts<span class="p">u</span>i<b>n</b><span class="p">iq</span>th<span class="p">u</span><b>e </b>a<span class="p">id</span>s<span class="p">e</span>se<span class="p">n</span>r<span class="p">t</span>t<span class="p">i</span>i<span class="p">f</span>o<span class="p">ie</span>n<span class="p">r</span>: <span class="p">of the IdP issuing the assertion,</span></p><p class="s260" style="padding-top: 3pt;padding-left: 23pt;text-indent: 0pt;text-align: left;"><a name="bookmark817">h</a><span class="s70">&lt;</span>t<span class="s70">d</span>t<span class="s70">s</span>p<span class="s70">:</span>s<span class="s70">S</span>:<span class="s70">i</span>/<span class="s70">g</span>/<span class="s70">n</span>i<span class="s70">a</span>d<span class="s70">t</span>p<span class="s70">u</span>.<span class="s70">r</span><b>e</b>x<span class="s70">&gt;</span>a<span class="p">c</span>m<span class="p">on</span>p<span class="p">t</span>l<span class="p">a</span>e<span class="p">in</span>.<span class="p">s</span>o<span class="p">a</span>r<span class="p">d</span>g<span class="p">ig</span>/<span class="p">i</span>S<span class="p">ta</span>A<span class="p">l </span>M<span class="p">si</span>L<span class="p">g</span>2<span class="p">na</span><span class="s262">. </span><span class="p">ture (redacted in the example) for the entire</span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="10" height="10" alt="image" src="Image_307.jpg"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="10" height="10" alt="image" src="Image_308.jpg"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="10" height="10" alt="image" src="Image_309.jpg"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="10" height="10" alt="image" src="Image_310.jpg"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="10" height="10" alt="image" src="Image_311.jpg"/></span></p><p class="s260" style="padding-top: 5pt;padding-left: 23pt;text-indent: 0pt;line-height: 138%;text-align: left;"><a name="bookmark818"><b>&lt;saml:</b></a>A<span class="s70">S</span>s<span class="s70">u</span>s<span class="s70">b</span>e<span class="s70">j</span>r<span class="s70">e</span>t<span class="s70">c</span>i<span class="s70">t</span>o<span class="s70">&gt;</span>n<span class="p">id</span>&gt;<span class="p">e</span><span class="s262">e</span><span class="p">n</span><span class="s262">l</span><span class="p">t</span><span class="s262">e</span><span class="p">if</span><span class="s262">m</span><span class="p">i </span><span class="s263">e</span><span class="p">s</span><span class="s262">n</span><span class="s259">t</span><span class="p">h</span><span class="s262">. </span><span class="p">e authenticated principal using an opaque transient </span><span class="s262">i</span><span class="s70">&lt;</span><span class="s262">d</span><span class="s70">s</span><span class="s262">e</span><span class="s70">a</span><span class="s262">nt</span><span class="s70">m</span><span class="s262">if</span><span class="s70">l</span><span class="s262">ie</span><span class="s70">:</span><span class="s262">r</span><span class="s70">C</span><span class="s262">, </span>3<span class="s70">o</span>f<span class="s70">n</span>7<span class="s70">d</span>b<span class="s70">i</span>3<span class="s70">t</span>d<span class="s70">i</span>c<span class="s70">o</span>f<span class="s70">n</span>-<span class="s70">s</span>1<span class="s70">&gt;</span>6<span class="p">g</span>7<span class="p">iv</span>4<span class="p">e</span>-<span class="p">s</span>4<span class="p">th</span>e<span class="p">e</span>c<span class="p">c</span>d<span class="p">o</span>-<span class="p">n</span>9<span class="p">d</span>2<span class="p">it</span>c<span class="p">io</span>8<span class="p">n</span>-<span class="p">s </span>1<span class="p">u</span>5<span class="p">nd</span>4<span class="p">e</span>4<span class="p">r</span>f<span class="p">w</span>3<span class="p">h</span>4<span class="p">ic</span>6<span class="p">h</span>b<span class="p">t</span>a<span class="p">h</span>f<span class="p">e</span>8<span class="p">a</span><span class="s262">.</span><span class="p">ssertion is to be considered valid, not before or after specific datetimes and only within </span>h<span class="s70">&lt;</span>t<span class="s70">s</span>t<span class="s70">a</span>p<span class="s70">m</span>s<span class="s70">l</span><b>:</b>/<span class="s70">A</span>/<span class="s70">u</span>s<span class="s70">t</span>p<span class="s70">h</span>.<span class="s70">n</span>e<span class="s70">S</span>x<span class="s70">t</span><b>a</b>m<span class="s70">t</span>p<span class="s70">e</span>l<span class="s70">m</span><b>e</b>.<span class="s70">n</span>c<span class="s70">t</span>o<span class="s70">&gt;</span>m<span class="p">d</span>/<span class="p">es</span>S<span class="p">c</span>A<span class="p">ri</span>M<span class="p">b</span>L<span class="p">es</span>2<span class="s262">.</span><span class="p">the act of authentication at the identity provider, </span><span class="s262">n</span><span class="s70">&lt;</span><span class="s262">a</span><span class="s70">s</span><span class="s262">m</span><span class="s70">a</span><span class="s262">e</span><span class="s70">m</span><span class="s262">l</span><span class="s70">l</span><span class="s262">y</span><span class="s70">:</span>P<span class="s70">A</span>a<span class="s70">t</span>s<span class="s70">t</span>s<span class="s70">r</span>w<span class="s70">i</span>o<span class="s70">b</span>r<span class="s70">u</span>d<span class="s70">t</span>P<span class="s70">e</span>r<span class="s70">S</span>o<b>t</b><span class="s70">a</span>e<span class="s70">t</span>c<span class="s70">e</span>t<span class="s70">m</span>e<span class="s70">e</span>d<span class="s70">n</span>T<span class="s70">t</span>r<span class="s70">&gt;</span>an<span class="p">as</span>s<span class="p">s</span>p<span class="p">er</span>o<span class="p">ts</span>r<span class="p">a</span>t<span class="s262">.</span><span class="p">multivalued attribute associated with the subject, specifically that the attribute </span><span class="s70">eduPersonAffiliation </span><span class="p">has values </span><span class="s70">member </span><span class="p">and </span><span class="s70">staff</span><span class="p">.</span><a name="bookmark819">&zwnj;</a><a name="bookmark820">&zwnj;</a><a name="bookmark821">&zwnj;</a></p><p class="s61" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark822">SAML Authentication Flow</a></p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark822" class="s33">Because the SAML standard is so flexible, there are many possible ways to use it. The most common use case is the authentication flow shown in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 13-4</span>. Here, Alice is accessing a service provided by a third-party benefits provider her employer has selected. The flow has the following steps:</p><ol id="l23"><li><p style="padding-top: 8pt;padding-left: 29pt;text-indent: -15pt;line-height: 109%;text-align: left;"><a name="bookmark823">Alice uses a </a><i>user agent </i>(for example, a browser) to access a service provided by a service provider. The SP has a federation agreement with one or more identity providers (IdP). If there’s more than one possible IdP, the request must include information that allows the SP to choose the appropriate IdP (for example, if the third-party benefits provider works with multiple employers, the request would need to identify Alice’s employer).</p></li><li><p style="padding-top: 7pt;padding-left: 29pt;text-indent: -15pt;line-height: 109%;text-align: left;"><a name="bookmark824">The SP sends a response that redirects the user agent to the IdP (for example, using an HTTP 302 response). The response includes a SAML </a><i>authentication request</i>. The IdP in this example is being operated by Alice’s employer.</p></li><li><p style="padding-top: 7pt;padding-left: 29pt;text-indent: -15pt;line-height: 109%;text-align: left;">The user agent relays the authentication request to the IdP identified in the redirect response.</p></li><li><p style="padding-top: 7pt;padding-left: 29pt;text-indent: -15pt;line-height: 109%;text-align: left;">If necessary, the IdP authenticates Alice. She may already be in an established session; if so, this step is skipped.</p></li><li><p style="padding-top: 7pt;padding-left: 29pt;text-indent: -15pt;line-height: 109%;text-align: left;"><a name="bookmark825">The IdP processes the authentication request and generates an assertion. The assertion is contained in the response to Alice’s user agent as an </a><i>authentication response</i>.</p></li><li><p style="padding-top: 7pt;padding-left: 29pt;text-indent: -15pt;text-align: left;">The response is also a redirect, causing the user agent to relay the assertion to the SP.</p></li><li><p style="padding-top: 9pt;padding-left: 29pt;text-indent: -15pt;line-height: 109%;text-align: left;">If the assertion was affirmative, then the SP establishes a session in response to the request relayed in step 6. For a browser, this would typically be a cookie. At this point, we would say that Alice has <i>logged on </i>to the SP.</p></li><li><p style="padding-top: 7pt;padding-left: 29pt;text-indent: -15pt;text-align: left;">Alice requests a protected resource at the SP.</p></li><li><p style="padding-top: 9pt;padding-left: 29pt;text-indent: -15pt;text-align: left;">The SP responds with the protected resource because she has authenticated through the IdP.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="594" height="380" alt="image" src="Image_312.png"/></span></p><p class="s265" style="padding-top: 6pt;padding-left: 35pt;text-indent: 1pt;line-height: 90%;text-align: center;">Alice&#39;s employer. Identity provider (ldP)</p><p class="s266" style="text-indent: 0pt;line-height: 80pt;text-align: left;">a</p><p style="text-indent: 0pt;text-align: left;"/><table style="border-collapse:collapse" cellspacing="0"><tr style="height:26pt"><td style="width:20pt;border-bottom-style:solid;border-bottom-width:3pt" rowspan="4"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:133pt;border-bottom-style:solid;border-bottom-width:3pt;border-right-style:solid;border-right-width:4pt" rowspan="3"><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s267" style="padding-left: 37pt;text-indent: 0pt;text-align: left;">3. Relay</p></td><td style="width:151pt;border-left-style:solid;border-left-width:4pt;border-bottom-style:solid;border-bottom-width:3pt;border-right-style:solid;border-right-width:4pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td></tr><tr style="height:32pt"><td style="width:151pt;border-top-style:solid;border-top-width:3pt;border-left-style:solid;border-left-width:4pt;border-bottom-style:solid;border-bottom-width:4pt;border-right-style:solid;border-right-width:4pt"><p class="s268" style="padding-top: 13pt;padding-left: 46pt;text-indent: 0pt;line-height: 17pt;text-align: left;">2. <span class="s267">Redirect</span></p></td></tr><tr style="height:32pt"><td style="width:151pt;border-top-style:solid;border-top-width:4pt;border-left-style:solid;border-left-width:4pt;border-bottom-style:solid;border-bottom-width:3pt;border-right-style:solid;border-right-width:4pt" rowspan="3"><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s269" style="padding-left: 53pt;text-indent: 0pt;text-align: left;">6. <span class="s267">Relay</span></p></td></tr><tr style="height:67pt"><td style="width:133pt;border-top-style:solid;border-top-width:3pt;border-bottom-style:solid;border-bottom-width:3pt;border-right-style:solid;border-right-width:4pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td></tr><tr style="height:39pt"><td style="width:153pt;border-top-style:solid;border-top-width:3pt;border-right-style:solid;border-right-width:4pt" colspan="2" rowspan="4"><p style="text-indent: 0pt;text-align: left;"><br/></p></td></tr><tr style="height:32pt"><td style="width:151pt;border-top-style:solid;border-top-width:3pt;border-left-style:solid;border-left-width:4pt;border-bottom-style:solid;border-bottom-width:3pt;border-right-style:solid;border-right-width:4pt"><p class="s270" style="padding-top: 13pt;padding-left: 9pt;padding-right: 4pt;text-indent: 0pt;line-height: 18pt;text-align: center;">Z <span class="s267">Session</span></p></td></tr><tr style="height:33pt"><td style="width:151pt;border-top-style:solid;border-top-width:3pt;border-left-style:solid;border-left-width:4pt;border-bottom-style:solid;border-bottom-width:3pt;border-right-style:solid;border-right-width:4pt"><p class="s268" style="padding-top: 13pt;padding-left: 20pt;text-indent: 0pt;text-align: left;">8. <span class="s267">Resource request</span></p></td></tr><tr style="height:67pt"><td style="width:151pt;border-top-style:solid;border-top-width:3pt;border-left-style:solid;border-left-width:4pt;border-right-style:solid;border-right-width:4pt"><p class="s271" style="padding-top: 13pt;padding-left: 9pt;padding-right: 5pt;text-indent: 0pt;text-align: center;">9. Resource response</p></td></tr></table><ol id="l24"><li><p class="s267" style="padding-top: 12pt;padding-left: 25pt;text-indent: -13pt;text-align: left;">Authentication</p></li><li><p class="s267" style="padding-left: 22pt;text-indent: -12pt;text-align: left;">SAML assertion</p></li></ol><p style="text-indent: 0pt;text-align: left;"/><p class="s272" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;line-height: 72pt;text-align: center;">-</p><p class="s265" style="padding-top: 6pt;padding-left: 39pt;text-indent: 0pt;line-height: 91%;text-align: center;">Alice and her user agent. (Browser)</p><p class="s265" style="padding-top: 7pt;padding-left: 10pt;text-indent: 0pt;line-height: 92%;text-align: center;">Benefits provider. Service Provider (SP)</p><p class="s272" style="padding-top: 2pt;text-indent: 0pt;line-height: 70pt;text-align: center;">-</p><ol id="l25"><li><p class="s273" style="padding-left: 279pt;text-indent: -10pt;line-height: 17pt;text-align: left;">Service access</p></li></ol></li></ol></li></ol></ol><p class="s60" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: center;">Figure 13-4. Typical SAML authentication flow</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark822" class="s33">In the flow shown in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 13-4</span>, the authentication ceremony is initiated by Alice. However, there are cases where the flow can be initiated by the SP or the IdP. If the SP initiates the flow, step 1 is skipped. If the IdP initiates the flow, steps 1 through 4 are skipped. For example, Alice might be on her employer’s website and click a link to go to a third-party benefits provider.</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Rather than starting Alice at step 1, the employer website knows who Alice is and what she wants to access (because it’s in the URL), so it could start at step 5, by generating an assertion and sending that as a redirect response to Alice’s request.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">SCIM</p><p class="s55" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark237" class="s33" name="bookmark826">In </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 6</span><a href="https://oreil.ly/WYdQO" class="s33" target="_blank">, I discussed the lifecycle of digital relationships. Creating, propagating, updating, and terminating identity relationships is relatively straightforward in a single system. Federation makes these tasks more difficult. </a><a href="https://oreil.ly/WYdQO" class="a" target="_blank">System for Cross-domain Identity Management</a> <span style=" color: #000;">(SCIM) is a standard for doing those important tasks.</span><a name="bookmark827">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Modern organizations usually have an IAM system that serves as a central repository (although not always a single source of truth) for identity data. They also use numerous on-premises and cloud-based systems to get work done. All of these need to get identity data from the IAM system and send identity data back to the IAM system.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark828">SCIM identifies </a><i>users </i>and <i>groups </i>broadly as <i>resources </i>with standardized JSON schemas. It also provides a RESTful API for manipulating these resources. For example, a user resource looks like this:<a name="bookmark829">&zwnj;</a><a name="bookmark830">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s76" style="padding-top: 5pt;padding-left: 17pt;text-indent: 0pt;text-align: left;">{</p><p class="s76" style="padding-left: 27pt;text-indent: 0pt;line-height: 106%;text-align: left;">&quot;schemas&quot;: [&quot;urn:ietf:params:scim:schemas:core:2.0:User&quot;], &quot;id&quot;:&quot;2819c223-7f76-453a-919d-413861904646&quot;,</p><p class="s76" style="padding-left: 27pt;text-indent: 0pt;line-height: 106%;text-align: left;">&quot;externalId&quot;:&quot;dschrute&quot;, &quot;meta&quot;:{</p><p class="s76" style="padding-left: 38pt;text-indent: 0pt;line-height: 106%;text-align: left;">&quot;resourceType&quot;: &quot;User&quot;, &quot;created&quot;:&quot;2011-08-01T18:29:49.793Z&quot;,</p><p class="s76" style="padding-left: 38pt;text-indent: 0pt;line-height: 10pt;text-align: left;">&quot;lastModified&quot;:&quot;2011-08-01T18:29:49.793Z&quot;,</p><p class="s76" style="padding-left: 38pt;text-indent: 0pt;line-height: 106%;text-align: left;">&quot;location&quot;:&quot;https://example.com/v2/Users/2819c223...&quot;, &quot;version&quot;:&quot;W\/\&quot;f250dd84f0671c3\&quot;&quot;</p><p class="s76" style="padding-left: 27pt;text-indent: 0pt;line-height: 10pt;text-align: left;">},</p><p class="s76" style="padding-left: 27pt;text-indent: 0pt;text-align: left;">&quot;name&quot;:{</p><p class="s76" style="padding-left: 38pt;text-indent: 0pt;line-height: 106%;text-align: left;">&quot;formatted&quot;: &quot;Mr. Dwight K Schrute, III&quot;, &quot;familyName&quot;: &quot;Schrute&quot;,</p><p class="s76" style="padding-left: 38pt;text-indent: 0pt;line-height: 106%;text-align: left;">&quot;givenName&quot;: &quot;Dwight&quot;, &quot;middleName&quot;: &quot;Kurt&quot;, &quot;honorificPrefix&quot;: &quot;Mr.&quot;, &quot;honorificSuffix&quot;: &quot;III&quot;</p><p class="s76" style="padding-left: 27pt;text-indent: 0pt;line-height: 10pt;text-align: left;">},</p><p class="s76" style="padding-left: 27pt;text-indent: 0pt;line-height: 106%;text-align: left;">&quot;userName&quot;:&quot;dschrute&quot;, &quot;phoneNumbers&quot;:[</p><p class="s76" style="padding-left: 38pt;text-indent: 0pt;line-height: 10pt;text-align: left;">{</p><p class="s76" style="padding-left: 49pt;text-indent: 0pt;text-align: left;">&quot;value&quot;:&quot;555-555-8377&quot;,</p><p class="s76" style="padding-left: 49pt;text-indent: 0pt;text-align: left;">&quot;type&quot;:&quot;work&quot;</p><p class="s76" style="padding-left: 38pt;text-indent: 0pt;text-align: left;">}</p><p class="s76" style="padding-left: 27pt;text-indent: 0pt;text-align: left;">],</p><p class="s76" style="padding-top: 3pt;padding-left: 27pt;text-indent: 0pt;text-align: left;">&quot;emails&quot;:[</p><p class="s76" style="padding-left: 38pt;text-indent: 0pt;text-align: left;">{</p><p class="s76" style="padding-left: 49pt;text-indent: 0pt;line-height: 106%;text-align: left;"><a href="mailto:dschrute@example.com" class="s77" target="_blank">&quot;value&quot;:&quot;</a>dschrute@example.com&quot;, &quot;type&quot;:&quot;work&quot;,</p><p class="s76" style="padding-left: 49pt;text-indent: 0pt;line-height: 10pt;text-align: left;">&quot;primary&quot;: true</p><p class="s76" style="padding-left: 38pt;text-indent: 0pt;text-align: left;">}</p><p class="s76" style="padding-left: 27pt;text-indent: 0pt;text-align: left;">]</p><p class="s76" style="padding-left: 17pt;text-indent: 0pt;text-align: left;">}</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 4pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The resource identifies what schema it uses; gives a record identifier, a user identifier, and meta information; and includes numerous claims.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">The REST operations that can be used with SCIM resources are:</p><p class="s35" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Create</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">POST <span class="s70">https://example.com/{v}/{resource}</span></p><p class="s35" style="padding-top: 12pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Read</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">GET <span class="s70">https://example.com/{v}/{resource}/{id}</span></p><p class="s35" style="padding-top: 12pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Replace</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">PUT <span class="s70">https://example.com/{v}/{resource}/{id}</span></p><p class="s35" style="padding-top: 12pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Delete</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">DELETE <span class="s70">https://example.com/{v}/{resource}/{id}</span></p><p class="s35" style="padding-top: 12pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Update</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">PATCH <span class="s70">https://example.com/{v}/{resource}/{id}</span></p><p class="s35" style="padding-top: 12pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Search</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">GET <span class="s70">https://example.com/{v}/{resource}?filter={attribute}{op}</span></p><p class="s70" style="padding-top: 6pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">{value} &amp;sortBy={attributeName}&amp;sortOrder=</p><p class="s70" style="padding-top: 6pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">{ascending|descending}</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Bulk</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">POST <span class="s70">https://example.com/{v}/Bulk</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">In the URLs, <span class="s70">{v} </span>is a version number and <span class="s70">{resource} </span>is a member of either <span class="s70">Users </span>or</p><p class="s70" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Groups<span class="p">.</span></p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">IAM systems and services implement this API to use SCIM for exchanging identity data. Most popular IAM systems support SCIM, as do many on-premises and cloud-based service providers. SCIM provides a standard way of automating the relationship lifecycle, makes centralized</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark831">account management tenable, and simplifies administrative tasks.</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">OAuth</p><p class="s59" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark871" class="s33" name="bookmark832">OAuth was invented for a very specific purpose:</a><a href="#bookmark871" class="s42">5</a> <span class="p">to allow people to control access to resources associated with their accounts, without requiring that they share authentication factors. OAuth differs from the other federation protocols I’m discussing in this chapter because its focus is access control, not just authentication.</span><a name="bookmark833">&zwnj;</a></p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/qRbnv" class="s33" target="_blank" name="bookmark834">A primary use case for OAuth is accessing data in an account using an API. For example, the </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Receiptify</span> <a href="#bookmark837" class="s33">service creates a list of your recent listening history on Spotify, Last.fm, or Apple Music that looks like a shopping receipt. </a><a href="#bookmark837" class="a">Figure 13-5</a> <span style=" color: #000;">shows a receipt of my recent listening history.</span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark835">Before OAuth, if Alice (the </a><i>resource owner</i>) wanted Receiptify (the <i>client</i>) to have access to her history on Spotify (the <i>resource server</i>), she’d give Receiptify her username and password on Spotify. Receiptify would store the username and password and impersonate Alice each time it needs to access Spotify on her behalf. By using Alice’s username and password, Receiptify would demonstrate that it had Alice’s implicit permission to access her data on Spotify. This is sometimes called the “password antipattern.”<a name="bookmark836">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">The password antipattern has several serious drawbacks:</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_313.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_314.png"/></span></p><p style="padding-top: 10pt;padding-left: 29pt;text-indent: 0pt;line-height: 165%;text-align: left;">The resource server can’t differentiate between the user and other servers accessing the API. Storing passwords on other servers increases the risk of a security breach.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_315.png"/></span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Granular permissions are hard to support since the resource server doesn’t know who is logging in.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_316.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Shared passwords are difficult to revoke and must be updated in multiple places when changed.</p><p style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">OAuth was designed to fix these problems by making the resource server part of the flow that delegates access. This design lets the resource server ask the resource owner what permissions to grant and records them for the specific client requesting access. Moreover, the client can be given its own credential, apart from those that the resource owner has or those used by other clients the user might have authorized.</p><p style="padding-left: 137pt;text-indent: 0pt;text-align: left;"><span><img width="272" height="720" alt="image" src="Image_317.jpg"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s104" style="padding-top: 10pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark837">OAuth basics</a></p><p class="s60" style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Figure 13-5. Listening history for June 16, 2022, from Receiptify</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/iPhx9" class="a" target="_blank" name="bookmark838">OAuth is a protocol</a> for access control. As such, it defines the interactions among several actors who play specific roles. The central figure in these interactions is the <i>resource owner</i>: the actor, almost always human, who controls <i>client </i><a href="#bookmark872" class="s33">access to resources.</a><a href="#bookmark872" class="s42">6</a><a href="#bookmark840" class="s43"> </a><a href="#bookmark840" class="a">Figure 13-6</a> shows these actors and their relationships to each other.<a name="bookmark839">&zwnj;</a></p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="592" height="590" alt="image" src="Image_318.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark840">Figure 13-6. Actors in the OAuth protocol</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark841">The owner has resources on a </a><i>resource server </i>(RS), which protects the resources by controlling access. The server might be a cloud-based API or a connected device. The owner also specifies the <i>authorization server </i>(AS). The AS issues tokens that can be used to access resources on the RS. The RS and AS are often the same, but they needn’t be. The interactions between these actors result in the AS granting the client an <i>access token </i>that it can later present to the RS to gain access to the protected resources. The client has registered with the AS and received a client ID and secret that it uses to identify itself to the AS during the OAuth flow.<a name="bookmark842">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Earlier I said that OAuth is an authorization protocol, not an authentication protocol. The access token is usually opaque and doesn’t tell the client anything about the owner. Furthermore, the resource being accessed might or might not have identity information, and OAuth doesn’t presume that the AS, RS, and client share any common identifier for the user other than the</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;">OAuth token. The next section will discuss OIDC, an authentication protocol based on OAuth that adds an identity layer for applications that need it.</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">There are two primary activities in OAuth: getting a token and using a token.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s104" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Getting a token</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark843">To get an access token, the client interacts with an AS. There are four ways to do this (called </a><i>flows</i>). They’re formally called <i>authorization grant types, </i>but most people call them “OAuth flows.” The different flows exist to accommodate different types of clients and access scenarios.<a name="bookmark844">&zwnj;</a><a name="bookmark845">&zwnj;</a></p><p class="s35" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Authorization code grant</p><p style="padding-top: 7pt;padding-left: 23pt;text-indent: 0pt;line-height: 109%;text-align: left;">The <i>authorization code grant </i>is the most used OAuth flow and what most people are talking about when they say “OAuth.” If you’ve ever used social login, you’ve used this flow.</p><p class="s55" style="padding-left: 23pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark846" class="a">Figure 13-7</a> <span style=" color: #000;">illustrates the authorization code grant.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 34pt;text-indent: 0pt;text-align: left;"><span><img width="570" height="516" alt="image" src="Image_319.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 23pt;text-indent: 0pt;text-align: center;"><a name="bookmark846">Figure 13-7. The authorization code grant flow in OAuth</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;">In this flow, the owner uses a client (step 1) that needs access to the resource to function. The</p><p style="padding-top: 3pt;padding-left: 23pt;text-indent: 0pt;line-height: 108%;text-align: left;"><a name="bookmark847">client asks the owner for permission to access the resource, by redirecting the owner (step 2) to the AS. There the owner sees a page called the </a><i>permissions screen</i>, which lists the permissions (called <i>scopes</i>) being requested by the client. The redirect includes information about the client in the form of the credentials that the client received when it registered with the AS. The owner can click “Accept” (or a similarly labeled button) to agree (step 3).<a name="bookmark848">&zwnj;</a></p><p style="padding-top: 6pt;padding-left: 23pt;text-indent: 0pt;line-height: 109%;text-align: left;">When the owner clicks on the “Accept” button to grant access, the response from the AS redirects the owner’s browser to the client (step 4). The redirect URL contains a one-time, opaque code in the query string of the URL. The client can exchange this authorization code in a back channel, along with the client ID and secret it received when it registered with the AS, for the actual access token in a back channel (steps 5 and 6).</p><p style="padding-top: 5pt;padding-left: 23pt;text-indent: 0pt;line-height: 109%;text-align: left;">Obviously, this flow is only usable when the owner is present to interact with the AS <i>and </i>the client can allow the owner to interact with the AS via a web browser. Websites fit this description, as do desktop and mobile applications that can use an embedded browser.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Implicit grant</p><p style="padding-top: 7pt;padding-left: 23pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark849">Like the authorization code grant flow, the </a><i>implicit grant </i>flow redirects the owner to the AS, where they sign in, and explicitly grants permissions to the client to access resources. The difference lies in what gets returned. Unlike the authorization code grant, the implicit grant returns the access token <i>directly </i><a href="#bookmark846" class="s33">when the owner is redirected back to the client, skipping steps 4 and 5 in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 13-7</span>.</p><p style="padding-top: 5pt;padding-left: 23pt;text-indent: 0pt;line-height: 109%;text-align: left;">The implicit grant is intended for clients that might not be able to keep the access token secret for some reason. Therefore, the access token returned usually has only limited permissions and is typically short-lived. It does not come with a refresh token (see below) for extending the grant’s life.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Resource owner credentials grant</p><p style="padding-top: 7pt;padding-left: 23pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark850">In the </a><i>resource owner credentials grant</i>, the client collects the owner’s username and password (or other credentials as appropriate) and exchanges those for an access token. While this might feel like the password antipattern discussed above, in the resource owner credentials grant, the client doesn’t store the username and password—but merely exchanges them. This might be desirable in a mobile app or other use cases where redirection isn’t possible.</p><p style="padding-top: 5pt;padding-left: 23pt;text-indent: 0pt;line-height: 109%;text-align: left;">While many see this grant type as suboptimal, the fact that it doesn’t rely on web redirection makes it suitable for connected devices that don’t have web interfaces or sufficient processing power for engaging in complex HTTP interactions.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Client credentials grant</p><p style="padding-top: 7pt;padding-left: 23pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark851">The </a><i>client credentials grant </i>uses the credentials that the AS gave to the client when it registered to gain access to resources in the client’s own right. This is often useful for clients to “boot up” with an RS API, supply client information, or create accounts for the owner.</p><p style="padding-left: 23pt;text-indent: 0pt;line-height: 14pt;text-align: left;">Most API providers supply client IDs and keys as client credentials for people building</p><p style="padding-top: 3pt;padding-left: 23pt;text-indent: 0pt;line-height: 109%;text-align: left;">applications on their platform. These IDs and keys can be used in a client credential grant for client-specific features of the API.</p><p style="padding-top: 5pt;padding-left: 23pt;text-indent: 0pt;line-height: 109%;text-align: left;">This grant also applies when an organization is using OAuth for access control but controls both the client and RS. For example, if an organization uses an administrative application to manage its systems, that application might use client credential grants to gain access to resources when it is not the owner of the data but needs administrative access for other legitimate reasons. Another use of this flow is situations where some resources on the RS are considered public, but the RS needs to ensure that only clients it knows are accessing the resource.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s104" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Refresh tokens</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark852">Access tokens are bearer tokens—anyone in possession of the token can access the resource on the owner’s behalf. To protect against loss, tokens are usually granted with a time to live. The AS can simultaneously give the client a </a><i>refresh token </i>that it can use to renew the access token. Refresh tokens are never sent to the RS, only the AS. As a result, the RS can’t save them and replay them later, a restriction that strengthens the owner’s control over access to the resource.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The OAuth 2.0 specification does not require a specific token structure. Usually, access and refresh tokens are long,opaque strings that are useful only as keys into a data structure where the real information is stored.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s104" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">OAuth scopes</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark853">As I noted earlier, the page that allows the owner to grant or deny permission might display what permissions the RS is requesting. This isn’t freeform text written by a UX designer; rather, it’s controlled by scopes. A </a><i>scope </i>is a bundle of permissions that the client asks for when requesting the token, coded by the developer who wrote the client.</p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark854" class="a">Figure 13-8</a> <span style=" color: #000;">shows the permissions screens that I, as the owner of my Twitter account, see for two different applications, Revue and Thread Reader.</span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">There are several things to note about these authorization screens. First, Twitter is presenting these screens, not the clients (note the URL in the browser window). Second, the client is asking for quite different scopes for these two applications. Revue wants permission to update my profile as well as post and delete tweets, while Thread Reader is only asking for read-only access to my account. Finally, Twitter is making it clear to me who is requesting access. At the bottom of the page, Twitter warns me to be careful and to check the permissions that the client is asking for.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="65" height="46" alt="image" src="Image_320.jpg"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="1" height="439" alt="image" src="Image_321.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="7" height="439" alt="image" src="Image_322.png"/></span></p><p class="s274" style="padding-top: 5pt;padding-left: 25pt;text-indent: 0pt;text-align: left;"><a name="bookmark854">account?</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 36pt;text-indent: 0pt;text-align: left;"><span class="s275" style=" background-color: #1C66C8;">Authorize</span><span class="s276"> </span><span class="s275" style=" background-color: #1C66C8;">app</span><span class="s276"> </span><span class="s277">Can</span><span class="s278">cel</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s279" style="padding-left: 24pt;text-indent: 0pt;text-align: left;">This appllcatlon <span class="s280">will be </span><span class="s281">able </span>to<span style=" color: #609C44;">:</span></p><ul id="l26"><li><p class="s277" style="padding-top: 5pt;padding-left: 35pt;text-indent: -10pt;line-height: 128%;text-align: left;">See <span class="s283">Tweets from your tlmellne (Including protected Tweets) as well as your Lists and collections</span><span class="s284">.</span></p></li><li><p class="s283" style="padding-left: 35pt;text-indent: -10pt;line-height: 131%;text-align: left;"><span class="s277">See </span>your Twitter profile <span style=" color: #2F3438;">I</span>nformation <span class="s286">and </span>account settings<span style=" color: #2F3438;">.</span></p></li><li><p class="s283" style="padding-left: 35pt;text-indent: -10pt;line-height: 11pt;text-align: left;"><span class="s277">See </span>accounts <span class="s287">you </span>follow<span style=" color: #2F3438;">, </span>mute<span style=" color: #52575D;">, </span>and block<span style=" color: #3F464B;">.</span></p></li><li><p class="s290" style="padding-top: 2pt;padding-left: 35pt;text-indent: -10pt;text-align: left;">Follow <span style=" color: #1A1C1F;">and </span>unfollow <span style=" color: #1A1C1F;">accounts for you.</span></p></li><li><p class="s283" style="padding-top: 3pt;padding-left: 35pt;text-indent: -10pt;text-align: left;">Update your <span style=" color: #0A0C0C;">profile </span>and account settings<span style=" color: #2F3438;">.</span></p></li><li><p class="s283" style="padding-top: 2pt;padding-left: 35pt;text-indent: -10pt;line-height: 128%;text-align: left;"><span class="s291">Post </span><span class="s286">and </span>delete lweets for <span class="s287">you</span><span class="s292">, </span>andengage withlweets posted by <span class="s277">others </span><span style=" color: #2F3438;">{</span>Like,un<span style=" color: #2F3438;">-</span>Uke, <span style=" color: #0A0C0C;">or </span><span class="s277">n,ply </span>to a lweet<span style=" color: #2F3438;">,</span> Retweet<span style=" color: #2F3438;">, </span>etc<span style=" color: #3F464B;">.) </span>for you.</p></li><li><p class="s283" style="padding-left: 35pt;text-indent: -10pt;line-height: 128%;text-align: left;">Create<span style=" color: #2F3438;">, </span>manage<span style=" color: #2F3438;">, </span><span class="s277">and </span>delete Lists and collections for you<span style=" color: #52575D;">.</span></p></li><li><p class="s283" style="padding-left: 35pt;text-indent: -10pt;text-align: left;"><span class="s293">Mute</span><span class="s294">, </span>block, and <span class="s277">report </span>accounts <span class="s286">for </span>you<span style=" color: #2F3438;">.</span></p></li><li><p class="s277" style="padding-top: 3pt;padding-left: 35pt;text-indent: -10pt;text-align: left;">See <span class="s283">your emaJI add ress</span><span class="s289">.</span></p></li></ul><p class="s295" style="padding-top: 4pt;padding-left: 24pt;text-indent: 0pt;text-align: left;">Revue</p><p class="s296" style="padding-top: 3pt;padding-left: 24pt;text-indent: 0pt;text-align: left;">By <span class="s297">Revue</span></p><p style="padding-top: 2pt;padding-left: 24pt;text-indent: 0pt;text-align: left;"><a href="http://www.getrevue.oo/" class="s298" target="_blank">www.getrevue</a><a href="http://www.getrevue.oo/" class="s299" target="_blank">.</a><a href="http://www.getrevue.oo/" class="s298" target="_blank">oo</a></p><p class="s297" style="padding-top: 7pt;padding-left: 23pt;text-indent: 0pt;line-height: 120%;text-align: left;">Revue <span style=" color: #778089;">I</span>s <span class="s301">the </span>easiest tool to crea<span style=" color: #778089;">t</span>e a <span class="s302">weekly </span>email <span style=" color: #52575D;">n</span>ewsletter<span style=" color: #778089;">. </span>You focus on <span style=" color: #778089;">c</span>uratlon<span style=" color: #778089;">, </span><span class="s301">we&#39;</span><span class="s304">ll </span>make sure <span class="s304">It </span><span class="s296">looks </span><span class="s305">good</span><span class="s306">.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s307" style="padding-left: 24pt;text-indent: 0pt;text-align: left;">Privacy Polley</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s308" style="padding-left: 24pt;text-indent: 0pt;text-align: left;">Terms and <span class="s307">Conditions</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s316" style="padding-top: 4pt;padding-left: 25pt;text-indent: 0pt;text-align: left;"><span class="s309">Lesn </span><span class="s310">more</span><span class="s311">about </span><span class="s312">third-psty </span><span class="s313">app</span><span class="s314">perm</span><span class="s315">issions</span>i<span style=" color: #1A1C1F;">n </span><span class="s318">the </span><span class="s319">Help </span><span style=" color: #1F5290;">Cente </span><span style=" color: #4B77AA;">r</span>.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="514" height="53" alt="image" src="Image_323.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="73" height="1" alt="image" src="Image_324.png"/></span></p><ul id="l27"><li><p class="s283" style="padding-left: 38pt;text-indent: -15pt;text-align: left;"><span class="s322">• </span><span class="s323">• </span><span class="s324">[] </span><span class="s325">V </span><span class="s326">&lt; </span><span class="s327">&gt; </span><span class="s328">Q </span>ap<span style=" color: #52575D;">i.</span><span style=" color: #2F3438;">tw</span>itt e<span style=" color: #2F3438;">r.</span>c<span style=" color: #2F3438;">om/oauth/aut</span><span style=" color: #5D6B75;">h</span><span style=" color: #939AA0;">o </span><span class="s330">c </span><span class="s331">@ </span><span class="s332">+ </span><span class="s333">»</span></p></li></ul><p class="s334" style="padding-top: 20pt;text-indent: 0pt;text-align: right;">Wind<span style=" color: #1A1C1F;">l</span>ey</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s336" style="padding-top: 4pt;padding-left: 25pt;text-indent: 0pt;line-height: 115%;text-align: left;">Authorize Thread Reader <span class="s337">Connect to access your account?</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 39pt;text-indent: 0pt;text-align: left;"><span class="s338" style=" background-color: #1C66C8;">Authorize app</span><span class="s339"> </span><span class="s340">Cancel</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s341" style="padding-left: 26pt;text-indent: 0pt;text-align: left;">This appllcatlon wlll be able to:</p><ul id="l28"><li><p class="s342" style="padding-top: 6pt;padding-left: 38pt;text-indent: -11pt;line-height: 112%;text-align: left;">See Tweets <span style=" color: #2F3438;">f</span>rom your t<span style=" color: #2F3438;">l</span>mellne(Includ<span style=" color: #2F3438;">i</span>ng protected lweets) as well <span class="s344">as </span>your Lists and co<span style=" color: #2F3438;">ll</span>ections.</p></li><li><p class="s342" style="padding-top: 1pt;padding-left: 39pt;text-indent: -12pt;line-height: 127%;text-align: left;">See your lwltter <span style=" color: #0A0C0C;">pro</span><span style=" color: #2F3438;">fi</span>le<span style=" color: #2F3438;">I</span>nformation<span class="s346">and </span>account sett<span style=" color: #2F3438;">i</span>ngs<span style=" color: #3F464B;">.</span></p></li><li><p class="s342" style="padding-left: 39pt;text-indent: -12pt;line-height: 13pt;text-align: left;">See accounts you follow<span style=" color: #2F3438;">, </span>mute<span style=" color: #3F464B;">, </span>and block<span style=" color: #2F3438;">.</span></p></li><li><p class="s342" style="padding-top: 3pt;padding-left: 39pt;text-indent: -12pt;text-align: left;">See your emall address.</p></li></ul><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s351" style="padding-left: 26pt;text-indent: 0pt;text-align: left;"><span class="s348">Lesn</span><span class="s349">mor9</span><span class="s350">about </span><span class="s348">third-</span><b>party </b>app <span style=" color: #2F3438;">penn</span>l<span style=" color: #2F3438;">ssion</span>s <span style=" color: #3F464B;">i</span>n the <span style=" color: #1F5290;">Help Center</span><span style=" color: #52575D;">.</span></p><p class="s354" style="padding-top: 4pt;text-indent: 0pt;line-height: 81pt;text-align: left;">■<span class="s355">Thread Reader</span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="1" height="423" alt="image" src="Image_325.png"/></span></p><p class="s356" style="padding-left: 38pt;text-indent: 0pt;line-height: 13pt;text-align: left;">Connect</p><p class="s284" style="padding-top: 4pt;padding-left: 38pt;text-indent: 0pt;text-align: left;">ThreadReadeAr pp<span style=" color: #778089;">.</span>com</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s284" style="padding-left: 38pt;text-indent: 0pt;line-height: 125%;text-align: left;">Discover andread the best of Tw<span style=" color: #778089;">i</span>tter Threads</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s358" style="padding-left: 38pt;text-indent: 0pt;text-align: left;">Privacy Polley</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s359" style="padding-left: 38pt;text-indent: 0pt;text-align: left;">Tenns and Conditions</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s104" style="padding-top: 11pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Using a token</p><p class="s60" style="padding-top: 3pt;text-indent: 0pt;text-align: left;">Figure 13-8. OAuth scopes for different third-party applications using the Twitter API</p><p class="s55" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;"><a href="#bookmark855" class="s33">Once the client has the access token, using it is straightforward. </a><a href="#bookmark855" class="a">Figure 13-9</a> <span style=" color: #000;">shows the standard interaction for using an OAuth token. The client presents the access token to the RS whenever it needs access to the resource.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="592" height="207" alt="image" src="Image_326.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark855">Figure 13-9. Using an access token</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 107%;text-align: left;">The standard interaction is for the client to present the access token in the <span class="s70">HTTP Authorization </span>header, prefixed with the string <span class="s70">Bearer</span>. This reminds us that the access token is indeed a bearer token. The RS will provide access to the resource in keeping with the permissions granted by the owner, regardless of who presents the token. Keeping the token secure is therefore paramount.</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark856" class="s33">You might recall </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 13-10</span><a href="#bookmark710" class="s33">: it appeared in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 12</span>’s discussion of access control and introduced an abstract authorization architecture.</p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="594" height="520" alt="image" src="Image_327.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark856">Figure 13-10. Abstract authorization architecture</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">We can make the following mappings between this abstract architecture and OAuth:</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_328.png"/></span></p><p style="padding-top: 10pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">The client (rather than Alice) is requesting access to a resource. Alice is approving access, but she doesn’t show up in the abstract authorization architecture.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_329.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">The OAuth AS plays the role of the PAP and PDP. In many cases it would also serve as the PIP.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_330.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">The OAuth RS plays the role of the PEP.</p><p style="padding-top: 10pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Not shown in the abstract architecture is the resource owner, who interacts with the PAP to grant permission.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark857">OpenID Connect</a></p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark858">When my colleagues and I started IIW in 2005, people had proposed four different URI-based identity schemes, Simple eXtensible Identity Protocol (SXIP), Light-weight Identity (LID),</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;">Extensible Resource Identifier (XRI), and OpenID, so the time felt ripe for finding common ground and coming up with a single specification.</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Over the next several years and a handful of IIWs, the proponents of those standards combined the best of each into a single specification, which came to be called OpenID. Eventually, the participants in these discussions formed the OpenID Foundation to oversee the specification and do additional work to implement and market it as an open standard for online authentication.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">OpenID had two different versions, OpenID 1 and OpenID 2. Both put the identity owner in the middle of the flow, using redirects. While these standards enjoyed some popularity, they suffered from several problems:</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_331.png"/></span></p><p style="padding-top: 8pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">OpenID identifiers were based on URIs. They proved hard for people to remember, and attempts to fix the problem with one-click buttons for popular OpenID URIs meant login pages had to be plastered with the logos of every popular OpenID IdP. (This came to be called the <i>NASCAR problem</i>.)</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_332.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_333.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 165%;text-align: left;">OpenID wasn’t very friendly for APIs and mobile apps, a growing need in the late 2000s. OpenID didn’t offer robust support for signing and encryption.</p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The last two problems led to the development of OAuth. Much of that work was done at IIW by the same people who’d worked on OpenID.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">As I’ve discussed, OAuth is an authorization protocol, not an authentication protocol. It doesn’t transfer anything other than the access token. The token carries an implicit identity—the resource owner granted permission, after all—but RPs frequently need more. Despite that limitation, all the major social media companies and many others started using OAuth for login in the late 2000s and early 2010s.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;"><a href="https://oreil.ly/5qtxL" class="a" target="_blank">OIDC</a> was a natural extension of OAuth. It solves the problems of OpenID 1 and 2, along with the limitations of using OAuth as an authentication system, by adding a layer on top of OAuth for moving identifiers and attributes. The OIDC flow is the same as OAuth’s authorization code grant. The client adds an <span class="s70">openid </span><a href="#bookmark846" class="s33">scope to the redirect (step 2 in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 13-7</span>) to identify the flow as OIDC.</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark846" class="s33" name="bookmark859">When the client receives the access token (step 6 of </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 13-7</span>) in an OIDC flow, it also receives an <i>identity token</i>. The OIDC identity token is a digitally signed JSON Web Token (JWT). The JWT contains claims about the resource owner in a JSON data structure, like this:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s76" style="padding-top: 5pt;padding-left: 17pt;text-indent: 0pt;text-align: left;">{</p><p class="s76" style="padding-left: 27pt;text-indent: 0pt;line-height: 106%;text-align: left;"><a href="http://opeid.example.com/" class="s77" target="_blank">&quot;iss&quot;: &quot;</a>http://opeid.example.com&quot;, &quot;sub&quot;: &quot;alice&quot;,</p><p class="s76" style="padding-left: 27pt;text-indent: 0pt;line-height: 106%;text-align: left;">&quot;aud&quot;: &quot;1234abcdef&quot;, &quot;exp&quot;: 1655506780,</p><p class="s76" style="padding-left: 27pt;text-indent: 0pt;line-height: 10pt;text-align: left;">&quot;iat&quot;: 1655506780,</p><p class="s76" style="padding-left: 27pt;text-indent: 0pt;line-height: 106%;text-align: left;">&quot;name&quot;: &quot;Alice Abrams&quot;, &quot;given_name&quot;: &quot;Alice&quot;, &quot;family_name&quot;: &quot;Abrams&quot;</p><p class="s76" style="padding-left: 17pt;text-indent: 0pt;line-height: 10pt;text-align: left;">}</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">The JWT contains identifiers for the issuer (<span class="s70">iss</span>), the subject (<span class="s70">sub</span>), and the RP (<span class="s70">aud</span>). This JWT also has claims for full name (<span class="s70">name</span>), given name (<span class="s70">given_name</span>), and family name (<span class="s70">family_name</span>). Other claims can be added as well.</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;"><a href="#bookmark873" class="s33" name="bookmark860">A JWT adds a header and signature to this and then encrypts and base64 encodes it to produce a string like this:</a><a href="#bookmark873" class="s42">7</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s76" style="padding-top: 5pt;padding-left: 17pt;text-indent: 0pt;line-height: 106%;text-align: left;">eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9. eyJpc3MiOiJodHRwOi8vb3BlaWQuZXhhbXBs ZS5jb20iLCJzdWIiOiJhbGljZSIsImF1ZCI6 IjEyMzRhYmNkZWYiLCJleHAiOjE2NTU1MDY3 ODAsImlhdCI6MTY1NTUwNjc4MCwibmFtZSI6I kFsaWNlIEFicmFtcyIsImdpdmVuX25hbWUiOi JBbGljZSIsImZhbWlseV9uYW1lIjoiQWJyYW1 zIn0.VesmKXMo96Ce4lEp9qhNhEKJ9V1fEBs RarT6FXVlmys</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">This string (without line breaks) is the ID token. In addition to claims passed as part of the identity token, OIDC also defines a standard way for the RP to request additional attributes from the IdP using the access token.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Because many large internet companies were already acting as OAuth authorization servers, upgrading to OIDC was relatively easy. OIDC scales well and increases security by reducing the number of sites performing authentication and thus dealing with the attendant issues of securely setting, storing, and updating passwords. Furthermore, as those IdPs add additional features, like multifactor authentication or support for challenge-response protocols like FIDO, everyone gains from the increased security.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The very benefits I mentioned in the last paragraph have led to natural monopolies in the IdP space. Many of the most popular IdPs are in the business of tracking and monetizing people’s online behavior. These models support that. The small number of IdPs makes correlating people’s online activities easier. Furthermore, OAuth and OIDC put the IdP and RP in direct contact and use a single correlatable identifier.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">As a result, while OAuth and OIDC have important uses and have made a big impact on online identity, they have not been universally adopted. For example, I don’t know of any banks that are willing to give up their primary relationship with their customers to a third-party IdP.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark131" class="s33" name="bookmark861">Going back to the Laws of Identity (</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 4</span>), you can see why this is the case. While OIDC is consistent with the laws of user control and consent, pluralism of operators and technologies, and human integration, it runs afoul of the laws of minimal disclosure, justifiable parties, directed identity, and consistent experience across contexts (since every RP and IdP is free to craft important features of the user experience to its own needs). Later I’ll discuss alternatives to the OAuth and OIDC that attempt to better abide by the Laws of Identity.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Governing Federation</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark862">Anytime independent entities cooperate, you need governance. Since federation is, by definition,</a><a name="bookmark863">&zwnj;</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">a cooperation between different entities, it implies governance of some kind. Federation doesn’t work if the participants don’t have confidence or trust in each other. Governance is the mechanism that allows us to trust that IdPs and RPs will behave in certain ways. Governance can include consequences for failure to comply.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Most SAML-based federation is ad hoc, and that shapes the nature of the governance. When an employer and a third-party benefits provider agree to federate identity data using SAML, they usually enter into a legal agreement. While the benefits provider, which does this frequently, will undoubtedly have contract templates, and most of the provisions will be straightforward, the very nature of legal contracts ensures that each will be slightly different.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark864">Hub-and-spoke-style federations, like those that OAuth and OIDC promote, use </a><i>contracts of adhesion, </i>since one party (the AS or IdP) has most of the power in the relationship. If you want to use Google’s (or anyone else’s) API or identity services, they will set the terms and you’ll agree. Take it or leave it.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Even so, since these federations are based on open, public specifications, creating and modifying those specifications becomes an important part of how the federation works and thus influences</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;">—even becomes part of—the governance mechanism for anyone using them.</p><p class="s55" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/GflMY" class="s33" target="_blank" name="bookmark865">Networked identity federation is still in its infancy, but networks extend the open governance of specifications to network operations. For example, the </a><a href="https://oreil.ly/GflMY" class="a" target="_blank">Sovrin Foundation has an extensive</a><a href="https://oreil.ly/GflMY" class="s36" target="_blank"> </a><a href="https://oreil.ly/GflMY" class="a" target="_blank">governance framework</a><a href="https://oreil.ly/GflMY" class="s36" target="_blank"> </a><a href="https://oreil.ly/VZLzb" class="s33" target="_blank">including a master document that defines the foundation’s purpose, core principles, and core policies; standardized legal agreements; controlled documents; and a glossary. There is also a set of controlled documents that contain policies managed by specific subgroups within the Sovrin Foundation. The process for creating all of these is open. The </a><a href="https://oreil.ly/VZLzb" class="a" target="_blank">Trust</a><a href="https://oreil.ly/VZLzb" class="s36" target="_blank"> </a><a href="https://oreil.ly/VZLzb" class="a" target="_blank">Over IP Foundation is working on a templated governance stack</a><a href="https://oreil.ly/VZLzb" class="s36" target="_blank"> </a><a href="#bookmark1285" class="s33">that can be used to create governance for other identity networks. I’ll return to policy and governance in Chapters </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">21</span> <a href="#bookmark1316" class="s33">and </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">22</span><span style=" color: #000;">.</span><a name="bookmark866">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Networked Federation Wins</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Federated identity provides an important underpinning for an increasingly distributed internet. As companies link themselves more closely with their customers, employees, and partners, federated identity mechanisms must scale to accommodate new demands and counter a wide variety of threats. This explains the shift from internal, ad hoc federations to online federations between organizations of all stripes.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">As the early history of the credit card industry demonstrates, ad hoc and centralized approaches to federated identity are difficult to scale and can be unstable. Just as Visa succeeded in creating a foundation for the explosive growth of the credit card industry by establishing a member- owned network for managing identity-related processes and systems, independent identity networks can create forms of federated identity that comply with all the Laws of Identity.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="624" height="1" alt="image" src="Image_334.png"/></span></p><ol id="l29"><li><p class="s45" style="padding-top: 5pt;padding-left: 32pt;text-indent: -11pt;text-align: left;"><a href="https://oreil.ly/EVnD7" class="s68" target="_blank" name="bookmark867">The workshop was an</a><a href="https://oreil.ly/EVnD7" class="s46" target="_blank"> </a><a href="https://oreil.ly/EVnD7" class="s47" target="_blank">IEEE Digital Inclusion Through Trust and Agency</a> event called <i>InDITA </i>since it was happening in</p><p class="s45" style="padding-top: 4pt;padding-left: 27pt;text-indent: 0pt;text-align: left;">India.</p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark868">Private companies, like mobile phone providers, tried to piggyback on Aadhaar by requiring customers to present an authenticated Aadhaar identifier as a condition of service, but a 2018 Indian Supreme Court ruling put a stop to that.</a></p></li><li><p class="s67" style="padding-top: 6pt;padding-left: 32pt;text-indent: -11pt;text-align: left;"><a href="#bookmark393" class="s68" name="bookmark869">Recall the discussion of zero-knowledge proofs in </a><a href="#bookmark393" class="s64">Chapter </a>9<span style=" color: #000;">.</span></p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 32pt;text-indent: -11pt;text-align: left;"><a href="https://oreil.ly/KkaJy" class="s68" target="_blank" name="bookmark870">The SAML examples are adapted from the</a><a href="https://oreil.ly/KkaJy" class="s46" target="_blank"> </a><a href="https://oreil.ly/KkaJy" class="s47" target="_blank">Wikipedia entry for SAML </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 9pt;">2.0</span>.</p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark871">In this book, when I say “OAuth” I’m referring to the newer OAuth 2.0 protocol, not OAuth 1.0a. You may still run into OAuth-1.0a-protected APIs, but OAuth 1.0a should not be considered for new developments.</a></p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 32pt;text-indent: -11pt;text-align: left;"><a name="bookmark872">The client is the name the OAuth specification uses for the RP. Don’t confuse the client with the browser, usually called a</a></p><p class="s60" style="padding-left: 27pt;text-indent: 0pt;text-align: left;">user agent<span class="s45">. The web page or app, not the browser itself, is interested in accessing the resource.</span></p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 32pt;text-indent: -11pt;text-align: left;"><a name="bookmark873">You can use JWT.io to encode and decode JWTs and see how this works.</a></p></li></ol><p class="s21" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark874">Chapter 14. Cryptographic Identifiers</a><a name="bookmark875">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="624" height="1" alt="image" src="Image_335.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark524" class="s33" name="bookmark876">As you learned in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 10</span>, identifiers are meaningful within a specific namespace. We need namespaces to confer context to the identifiers, because the same string of characters might be a phone number in one system and a product ID in another.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 107%;text-align: left;"><a href="mailto:windley@example.com" class="s33" target="_blank">Take an email address like </a><a href="mailto:windley@example.com" class="s32" target="_blank">windley@example.com</a>, for example. The identifier <span class="s70">windley </span>is contextualized by the mail domain <span class="s49">example.com</span>. If I just gave you the string <span class="s70">windley</span>, without any further context, you’d have a tough time associating it with anything in particular. If I said <span class="s70">@windley</span>, you might guess it was a Twitter handle—but the convention of putting <span class="s70">@ </span><a href="http://twitter.com/windley" class="s33" target="_blank">before identifiers has become standard in other applications, so you can’t be sure. Before you can be certain that I’m talking about a Twitter identifier, I must give you the entire URL: </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: italic; font-weight: normal; text-decoration: underline; font-size: 12pt;">http://twitter.com/windley</span>.</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The context makes the identifier meaningful. You can use my Twitter identifier to view my profile or follow me. Most of the identifiers in common use are context first: the context (Twitter, in this example) already exists and the identifier gets created within that context, usually when someone creates an account and specifies an identifier. Because they are context first, traditional identifiers are controlled by the organization that controls the namespace.</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Twitter, for example, can suspend any account, making the identifier unusable or even assigning it to someone else. You have little recourse if that happens.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark877">This becomes a larger problem when the identifier is assigned meaning outside its context. So long as my Twitter handle is just used within Twitter, if Twitter revokes my account, losing the identifier is just part of the hassle of losing my Twitter account. But what if I’ve used it at a third-party site, as part of an OAuth or OpenID Connect authentication? Now, when I lose</a></p><p class="s59" style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark933" class="s33">control of my Twitter identifier, I might lose control of those other accounts as well.</a><a href="#bookmark933" class="s42">1</a> <span class="p">My Twitter handle is administratively controlled by Twitter, not by me or the third-party site.</span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/yyue9" class="s33" target="_blank">Given this relationship, an identifier without a namespace seems impossible. The problem isn’t uniqueness. </a><a href="https://oreil.ly/yyue9" class="a" target="_blank">Universally Unique Identifiers (UUIDs)</a> , for example, are globally unique for practical purposes. In version 4 (variant 1) UUIDs, there are 128 bits. Six bits are fixed, but the remaining 122 bits are randomly generated, for a total of 2<span class="s103">122</span><a href="https://oreil.ly/-10In" class="s33" target="_blank"> possible UUIDs. The possibility of a collision is extremely small. Software engineer </a><a href="https://oreil.ly/-10In" class="a" target="_blank">Ludi Rehak estimates</a> that in a sample of 3.26 × 10<span class="s103">16</span> UUIDs there would be a 99.99% chance of having no duplicates.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The bigger problem is how to make the randomly generated identifier meaningful inside relationships <i>without </i>ceding administrative control of the identifier to some other context or authority. To understand why this is a problem, recall the example I’ve used several times of meeting a friend at a restaurant for a meal. In the digital world, you and your friend would likely identify yourselves to each other using an identifier controlled by someone else. If the restaurant provided you with identifiers and you and your friend used those to meet, then your relationship with your friend at the restaurant would exist in a silo, disassociated from other aspects of your</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">relationship.</p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">This chapter introduces <i>cryptographic identifiers </i>that are created <i>outside </i>a specific context. Cryptographic identifiers are controlled by their creator and contextualized for a given situation after creation, addressing these problems with traditional identifiers.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">The Problem with Email-Based Identifiers</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark878">Many web-based identity systems have defaulted to using email addresses as identifiers. It’s easy to see why. Everyone has one. And someone else has done the work of ensuring uniqueness since email addresses must be globally unique to function.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">But email addresses are less than ideal as identifiers for several reasons:</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_336.png"/></span></p><p style="padding-top: 10pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Email addresses have a different intended use (sending email), so an address might change for reasons unrelated to its use as an identifier.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_337.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Email addresses are generally correlatable. If you use the same email address for all your account identifiers, it’s easy to track and combine your activity at all those different places.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_338.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Email addresses are generally administered by someone else who can take them away. Even if you use your own domain name, you’re just renting that and may have to give up control in the future.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_339.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Email addresses have limited global resolvability. All you can do is send an email message to the owner.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_340.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Email addresses are reusable. If you stop using an email address, the administrator of the email system may reassign it, decreasing your security and privacy. For example, most password-reset processes send an email to the email address in the account. Whoever controls the email address can hijack the password-reset process and take over the account.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Decentralized Identifiers</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark879">Decentralized identifiers </a><a href="https://oreil.ly/PKVyN" class="s33" target="_blank">(DIDs) are a kind of cryptographic identifier that solves the problems outlined in the last section, and they provide one of the foundational technologies of self- sovereign identity. DIDs are defined by the </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">DID specification</span><span class="s55"> </span><a href="#bookmark934" class="s33">that was developed by the World Wide Web Consortium’s Decentralized Identifiers Working Group.</a><a href="#bookmark934" class="s42">2</a><a name="bookmark880">&zwnj;</a><a name="bookmark881">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">DIDs can be an identifier for anything, including people, places, organizations, and things. They are designed to be created without a context and then assigned to a context later. As such, they are globally unique outside of any context.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">DID Properties</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark882">Properly implemented DIDs have these important properties:</a></p><p class="s35" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Nonreassignable</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: justify;">DIDs should be permanent, persistent, and nonreassignable. Permanence ensures that the identifier always references the same entity. As a result, DIDs are more private and more secure than identifiers that can be reassigned, such as domain names, IP addresses, email addresses, or mobile numbers.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Resolvable</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">DIDs are made useful through resolution, meaning you can use the DID to look up more information about it. Resolution ensures that a DID is actionable. I’ll discuss how DID resolution works in more detail below.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Cryptographically verifiable</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">DIDs are designed to be associated with cryptographic keys. The entity controlling the DID can use those keys to prove ownership of the identifier. That can happen in several ways, the most common being a digital signature. When a DID is resolved to retrieve its associated DID document (more on this later), the result may be cryptographically signed to ensure its integrity. The resolution also provides one or more public cryptographic keys associated with the DID, which the owner can use to prove they are in control of the DID. Parties who have exchanged DIDs can mutually authenticate each other and encrypt their communication.</p><p class="s35" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Decentralized</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">DIDs are designed to function without a central registration authority. Depending on the method specification for a given class of DIDs, they might also be created and updated outside the purview of any single party or entity, increasing censorship resistance. One method to censor someone is to revoke their identifiers. If no single party can take this action, censorship becomes harder. I’ll come back to censorship several times in coming chapters.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">DID Syntax</p><p class="s55" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark524" class="s33" name="bookmark883">The syntax of a DID is simple and designed to support different decentralization methods. DIDs are Uniform Resource Identifiers (URIs). You learned about URIs in </a><a href="#bookmark524" class="a">Chapter 10</a> <span style=" color: #000;">where we primarily focused on how they have been used on the web, as URLs. Recall that a URI has several components. DIDs have the same components as a URI, even if they look somewhat unfamiliar, since we’re so used to URIs used as URLs on the web.</span><a name="bookmark884">&zwnj;</a></p><p class="s55" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark886" class="s33" name="bookmark885">A DID by itself, without a path, query, and fragment components of a URI, is a Uniform Resource Name (URN). </a><a href="#bookmark886" class="a">Figure 14-1</a> <span style=" color: #000;">shows the primary required components of a DID.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="593" height="147" alt="image" src="Image_341.jpg"/></span></p><p class="s60" style="padding-top: 8pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark886">Figure 14-1. The syntax of DIDs</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 107%;text-align: left;"><a name="bookmark887">Each component of the DID is separated by a colon. The </a><i>scheme</i>, <span class="s70">did</span>, is fixed for all DIDs. It alerts any software that sees the identifier that it is a DID. The <i>method </i><a href="#bookmark886" class="s33">specifies how the DID is created, updated, and resolved. In </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 14-1</span>, the method is <span class="s70">example</span>. The method functions as a namespace. The <i>method-specific identifier </i>is an alphanumeric string that is guaranteed to be unique within the context of the method. The method and identifier comprise the <i>authority </i><a href="#bookmark935" class="s33">component of the URI (where you’re used to seeing a domain name, in web contexts).</a><a href="#bookmark935" class="s42">3</a><a name="bookmark888">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-top: 4pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">DID Resolution</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;"><a name="bookmark889">To be useful, identifiers’ schemes must provide a way of discovering what the identifier means. Each DID method defines how discovery is performed for that specific DID method. Think of the method as a technology-specific implementation of the identifier operations that the DID specification requires. Different methods can support their own way of performing resolution using a specific blockchain or other storage system. The </a><i>method </i>outlines the way to create, retrieve, update, and deactivate the DID and its associated DID document. For example, the <span class="s70">did:indy:sov </span><a href="#bookmark936" class="s33">method outlines how to create, lookup, and update the DID on the Sovrin ledger.</a><a href="#bookmark936" class="s42">4</a><span class="s59"> </span>A resolver can use the method to find the routines necessary for interacting with a given identifier. Methods allow a variety of systems to serve as repositories for DIDs in an interoperable way.<a name="bookmark890">&zwnj;</a></p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark891">The primary purpose of the method is to resolve a DID to a DID document (see the next section for a discussion of DID documents). </a><i>Resolution </i>is the act of looking up the DID document for a specific DID using the method given by the DID’s method name. Taken as a whole, DID infrastructure functions as a global, decentralized key-value store where DIDs act as the keys and DID documents are the values.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;">The DID specification lists more than 100 possible methods, and others may be developed. While this might seem like something to be concerned about, I don’t view it as a problem for three reasons. First, methods allow the specification to be flexible. Many methods differ from others for reasons specific to the use case. For example, a DID using the Ethereum blockchain method, <span class="s70">did:eth</span>, resolves to a smart contract that returns a DID document, whereas the <span class="s70">did:indy:sov </span>method looks up the DID document stored on the Sovrin ledger. Second, over</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: justify;">time, a few DID methods will likely become primary and used for most applications. Finally, so long as the method can be used to resolve the DID, most applications should be able to support a wide range of methods without significant problems.</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;">While it’s likely that these repositories will be decentralized, nothing in the specification forces that. Any storage system could potentially have a DID method associated with it. Beware that some repositories may not be able to fulfill the non-reuse and permanence properties that are expected of DIDs. For example, a <span class="s70">did:dns </span>method that resolves a DID using the Domain Name System (DNS) can’t guarantee permanence because DNS names are not permanent.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">DID Documents</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark892">DID documents describe the public keys, authentication protocols, and service endpoints that are necessary to initiate interactions with the identified entity, the </a><i>subject</i><a href="#bookmark937" class="s33">. A DID document is a structured, key-value formatted document that contains the DID itself,</a><a href="#bookmark937" class="s42">5</a><span class="s59"> </span>identified by the key <span class="s70">id, </span>along with several optional components. Here are the four most common:<a name="bookmark893">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_342.png"/></span></p><p style="padding-top: 8pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">One or more public keys in a list, identified by the key <span class="s70">verificationMethod</span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_343.png"/></span></p><p style="padding-top: 8pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Lists of protocols for authenticating control of the DID and delegated capabilities, identified by the key <span class="s70">authentication</span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_344.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">A list of service endpoints, usually URLs, that allow discovery of how to interact with the subject, identified by the key <span class="s70">service</span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_345.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">A timestamp indicating when the DID document was created, identified by the key</p><p class="s70" style="padding-top: 1pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">created</p><p class="s59" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark938" class="s33" name="bookmark894">DID documents that use the JavaScript Object Notation for Linking Data (JSON-LD) representation can use other forms of JSON-LD context to extend the DID document and aid in discovery.</a><a href="#bookmark938" class="s42">6</a> <span class="p">For example, the data model could be extended to include the entity’s Really Simple Syndication (RSS) feed by referencing a JSON-LD context that describes RSS feeds.</span><a name="bookmark895">&zwnj;</a><a name="bookmark896">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 107%;text-align: justify;">Most DID documents will contain at least one public key, one service, and metadata, in addition to the <span class="s70">id</span><a href="https://oreil.ly/PKVyN" class="s33" target="_blank">. The following is an example of a minimal DID document, modified from an example in the </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">DID specification</span>:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s76" style="padding-top: 5pt;padding-left: 17pt;text-indent: 0pt;text-align: left;">{</p><p class="s76" style="padding-left: 27pt;text-indent: 0pt;line-height: 106%;text-align: left;">&quot;id&quot;: &quot;did:example:123&quot;, &quot;verificationMethod&quot;: [</p><p class="s76" style="padding-left: 38pt;text-indent: 0pt;line-height: 10pt;text-align: left;">{</p><p class="s76" style="padding-left: 49pt;text-indent: 0pt;line-height: 106%;text-align: left;">&quot;id&quot;: &quot;did:example:123#key-1&quot;, &quot;type&quot;: &quot;Ed25519VerificationKey2018&quot;, &quot;controller&quot;: &quot;did:example:123&quot;,</p><p class="s76" style="padding-left: 49pt;text-indent: 0pt;line-height: 10pt;text-align: left;">&quot;publicKeyBase58&quot;: &quot;H3C2AVvLMv6gmMNam3uVAjZpfkcJCwDwnZn6z3wXmqPV&quot;</p><p class="s76" style="padding-left: 38pt;text-indent: 0pt;text-align: left;">},</p><p class="s76" style="padding-left: 38pt;text-indent: 0pt;text-align: left;">{</p><p class="s76" style="padding-left: 49pt;text-indent: 0pt;line-height: 106%;text-align: left;">&quot;id&quot;: &quot;did:example:123#key-2&quot;, &quot;type&quot;: &quot;JsonWebKey2020&quot;, &quot;controller&quot;: &quot;did:example:123&quot;,</p><p class="s76" style="padding-top: 3pt;padding-left: 60pt;text-indent: -10pt;line-height: 106%;text-align: left;">&quot;publicKeyJwk&quot;: { &quot;kty&quot;: &quot;OKP&quot;,</p><p class="s76" style="padding-left: 60pt;text-indent: 0pt;line-height: 10pt;text-align: left;">&quot;crv&quot;: &quot;Ed25519&quot;,</p><p class="s76" style="padding-left: 60pt;text-indent: 0pt;text-align: left;">&quot;x&quot;: &quot;r7V8qmdFbwqSlj26eupPew1Lb22vVG5vnjhn3vwEA1Y&quot;</p><p class="s76" style="padding-left: 49pt;text-indent: 0pt;text-align: left;">},</p><p class="s76" style="padding-left: 38pt;text-indent: 0pt;text-align: left;">}</p><p class="s76" style="padding-left: 27pt;text-indent: 0pt;text-align: left;">],</p><p class="s76" style="padding-left: 27pt;text-indent: 0pt;text-align: left;">&quot;authentication&quot;: [{</p><p class="s76" style="padding-left: 38pt;text-indent: 0pt;line-height: 106%;text-align: left;">&quot;id&quot;: &quot;did:example:123#z6MkpzW2izkFjNwMBwwvKqmELaQcH8t54QL5xmBdJg9Xh1y4&quot;, &quot;type&quot;: &quot;Ed25519VerificationKey2018&quot;,</p><p class="s76" style="padding-left: 38pt;text-indent: 0pt;line-height: 10pt;text-align: left;">&quot;controller&quot;: &quot;did:example:123&quot;,</p><p class="s76" style="padding-left: 38pt;text-indent: 0pt;text-align: left;">&quot;publicKeyBase58&quot;: &quot;BYEz8kVpPqSt5T7DeGoPVUrcTZcDeX5jGkGhUQBWmoBg&quot;</p><p class="s76" style="padding-left: 27pt;text-indent: 0pt;text-align: left;">}],</p><p class="s76" style="padding-left: 27pt;text-indent: 0pt;text-align: left;">&quot;service&quot;: [{</p><p class="s76" style="padding-left: 38pt;text-indent: 0pt;line-height: 106%;text-align: left;">&quot;id&quot;: &quot;did:example:123#edv&quot;, &quot;type&quot;: &quot;EncryptedDataVault&quot;,</p><p class="s76" style="padding-left: 38pt;text-indent: 0pt;line-height: 10pt;text-align: left;">&quot;serviceEndpoint&quot;: &quot;https://edv.example.com/&quot;</p><p class="s76" style="padding-left: 27pt;text-indent: 0pt;text-align: left;">}],</p><p class="s76" style="padding-left: 27pt;text-indent: 0pt;text-align: left;">&quot;created&quot;: &quot;2022-02-08T16:03:00Z&quot;,</p><p class="s76" style="padding-left: 17pt;text-indent: 0pt;text-align: left;">}</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 4pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The DID document is the root record for a decentralized identifier that can reference not only what’s in the DID document itself but also any information from the service endpoints. This is accomplished by adding paths, query parameters, and fragments to the DID. The syntax of these is familiar to anyone acquainted with the syntax of a URI. Such a reference is called a <i>DID URL</i>.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Fragments are used to identify a particular part of the DID document. In the preceding DID document, there is only one service. Nevertheless, it can be selected using the following DID URL:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s76" style="padding-left: 17pt;text-indent: 0pt;text-align: left;">did:example:123#edv</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 107%;text-align: left;">By using a DID with paths, queries, and fragments, the DID functions like a URL. To convert the DID into a URL, you start with the URL given in the <span class="s70">serviceEndpoint </span>selected by the fragment and then append the path and query. For example, the following DID:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s76" style="padding-left: 17pt;text-indent: 0pt;text-align: left;">did:example:123/foo/bar?a=1#edv</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">is equivalent to the following URL (based on the preceding example DID document):</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s76" style="padding-left: 17pt;text-indent: 0pt;text-align: left;">https://edv.example.com/foo/bar?a=1</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Through service endpoints, DIDs provide a permanent, resolvable identifier for any internet service. For example, if one of the service endpoints in my DID document is for email, then I can change my email address at will and anyone holding that DID will still be able to reach me. All I need to do is to be sure to update the DID document when I change my email.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Indirection and Key Rotation</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark393" class="s33" name="bookmark897">If you remember the discussion of public-key cryptography from </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 9</span>, you might be</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark393" class="s33">wondering why we can’t just use public keys as cryptographic identifiers. The short answer is: we can, but there are several problems. First, public keys are not resolvable, so there’s no standard way to find the digital certificate associated with one. Second, they need the extensive public-key infrastructure (PKI) to establish trust, as discussed in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 9</span>. Finally, rotating the keys changes the identifier, making public keys impermanent.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Remember that the public key and private key are a pair and that authenticating the public key depends on keeping the private key secret. If the private key is compromised (or is even suspected of being compromised), the correct procedure is to rotate the key: generating a new public-private key pair. If you’re using the old public key as an identifier, you now must tell everyone who is using that identifier to switch to the new one.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">DIDs solve this problem using <i>indirection</i>: rather than using the public key as the identifier, the DID refers to the DID document that contains it. If the keys need to be rotated, the controller of the DID rotates the keys and puts the new public key in an updated DID document. When someone with the DID resolves it again, they will get the new public key.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark939" class="s33" name="bookmark898">How can you know that the new DID document is legitimate? Different DID methods have different ways to do this, but the most obvious way is to use the old key to sign the new DID document.</a><a href="#bookmark939" class="s42">7</a></p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 14-2</span> <span style=" color: #000;">shows the steps involved in generating a new DID document using this method. Suppose Bob needs a DID from Alice for something. Here’s what happens next:</span></p><ol id="l30"><li><p style="padding-top: 8pt;padding-left: 29pt;text-indent: -15pt;text-align: left;">Alice generates a new DID.</p></li><li><p style="padding-top: 9pt;padding-left: 29pt;text-indent: -15pt;text-align: left;">She shares it with Bob.</p></li><li><p style="padding-top: 9pt;padding-left: 29pt;text-indent: -15pt;text-align: left;">Bob resolves the DID and retrieves the associated DID document and public key.</p></li><li><p style="padding-top: 9pt;padding-left: 29pt;text-indent: -15pt;text-align: left;">Bob stores the DID document.</p></li><li><p style="padding-top: 9pt;padding-left: 29pt;text-indent: -15pt;line-height: 109%;text-align: left;">Later, Alice determines that she needs to rotate the key in the DID document. She does so, generates a new DID document, and signs it with the previous key.</p></li><li><p style="padding-top: 7pt;padding-left: 29pt;text-indent: -15pt;line-height: 109%;text-align: left;">Later still, Bob needs to interact with Alice again. He doesn’t just use the stored DID document and key he retrieved earlier; instead, he resolves the DID again and gets the new DID document.</p></li><li><p style="padding-top: 7pt;padding-left: 29pt;text-indent: -15pt;line-height: 109%;text-align: left;">He can check its integrity by using the previous key to validate the signature on the new DID document.</p></li></ol><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="594" height="843" alt="image" src="Image_346.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark899">Figure 14-2. Rotating keys and generating a new DID document</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Because you can rotate the keys in a DID document, transferring a DID from one controller to another is easy.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">There are many reasons why a permanent identifier might need to be transferred. For example, parents are generally the guardians of their children. For guardianship and similar use cases, the DID identifies the child, but the parent controls the DID. Over the course of raising a child, a parent might make hundreds of DIDs for the child’s various digital relationships. Some of these relationships are long-lasting and so the DID will be used for a long time. When the child gains their majority, they will want to control many of the DIDs their parents created. Because the DID document can be updated with a new key, the child can generate a new key, and the parent can generate a new DID document containing the child’s key. The child now controls the DID.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/aqMf7" class="s33" target="_blank">People with power of attorney and caretakers of people with dementia are a few other examples of guardians. For more information on this, see the </a><a href="https://oreil.ly/aqMf7" class="a" target="_blank">Sovrin Foundation’s paper on digital</a><a href="https://oreil.ly/aqMf7" class="s36" target="_blank"> </a><a href="https://oreil.ly/aqMf7" class="a" target="_blank">guardianship</a><a href="https://oreil.ly/aqMf7" class="s33" target="_blank">.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark900">Beyond guardianship, there are other important use cases where the subject of a DID document is not the controller. Organizations of all kinds have human directors or owners. So do physical objects (your car) and natural things (your cat). All of these are subject to sale or transfer, and DIDs’ ability to support the smooth transfer of control from one human to another is a significant advantage over other types of identifiers.</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Autonomic Identifiers</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/GbHKz" class="s33" target="_blank" name="bookmark901">In his </a><a href="https://oreil.ly/GbHKz" class="a" target="_blank">paper introducing Key Event Receipt Infrastructure</a> (KERI), which I’ll discuss in a moment, Sam Smith coined the term <i>autonomic identifier</i>. The word <i>autonomic </i>comes from the Greek <i>auto </i>(self) and <i>nomos </i>(law) and means “self-governed” or “self-regulating.” You’re probably most familiar with this word from its use in describing the body’s autonomic nervous system, which is responsible for the various processes in the body that we don’t consciously control: circulation, respiration, and so on.</p><p class="s35" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Autonomic <span class="p">is the perfect word for describing a class of identifiers that have self-governing capabilities. Traditional identifiers are governed by the owner of the context or namespace in which they are created. With DIDs, it is the DID method that describes how the identifier works. Most DID methods depend on some external system, like a blockchain or ledger, which I’ve referred to as a </span>verifiable data registry <span class="p">(VDR). How much you trust a DID depends on your level of trust in the DID method it uses and, consequently, the VDR it is based on.</span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">In contrast, autonomic identifiers are self-certifying. The basis for trusting them is rooted in cryptography rather than some external system. This sets autonomic identifiers apart from other identifiers and makes them especially useful in identity systems that prioritize reducing dependencies and increasing privacy.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Self-Certification</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark902">Self-certification </a><span class="p">means that the controller of an identifier can prove control without relying on a</span></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark903">third party. Self-certification is an important property for a decentralized identity system that does not depend on external infrastructure. </a><i>Self-certifying identifiers </i><a href="#bookmark940" class="s33">(SCIDs) are not new. They go as far back as 1991, when Marc Girault published a paper describing the use of self-certifying identifiers to reduce reliance on PKI.</a><a href="#bookmark940" class="s42">8</a><span class="s59"> </span><a href="#bookmark941" class="s33">Other efforts followed for self-certifying URLs and a self- certifying filesystem.</a><a href="#bookmark941" class="s42">9</a><a name="bookmark904">&zwnj;</a></p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark905" class="s33">The simplest form of SCID is a public key, since (a) anyone can create one and (b) only the person who controls the private key can make authoritative statements about it. As you learned in the discussion of DIDs, public keys have weaknesses when used as identifiers. DIDs correct those weaknesses by binding the key to the identifier using a DID document. You also learned that you can use the previous key to sign a new DID document when the keys are rotated, to create a trust chain between older and newer versions of the DID document. </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 14-3</span> <span style=" color: #000;">shows a chain of DID documents, with each signed by the previous key.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="592" height="211" alt="image" src="Image_347.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark905">Figure 14-3. A chain of signed DID documents</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark906">A chain of signed DID documents might remind you of a blockchain, where each block is linked to the previous block using a hash of its contents and a signature. Unlike a blockchain, this chain of documents doesn’t have the ability to withstand Byzantine attacks or prevent double spending. But for many DID applications that don’t require public discovery and resolvability, this method can provide the necessary confidence in the integrity of the identifier. Because SCIDs depend only on cryptography for verification, with no central administrator or blockchain required, they are fully portable.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Whether or not the DID and DID document can be self-certifying depends on the processes used to do this—specifically the DID method. One of the primary questions the process needs to describe is how the chain works to provide self-certification and resolution. The rest of this section will describe two different ways for doing this. First, I’ll discuss peer DIDs, a DID method designed to provide self-certifying DIDs that don’t use a ledger. After that, I’ll discuss KERI.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Peer DIDs</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="https://oreil.ly/c8EqI" class="s33" target="_blank" name="bookmark907">The </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">proposed specification</span> for peer DIDs define a DID method, <span class="s70">did:peer</span>, for creating self- certifying autonomic identifiers. Most DID methods describe DIDs that use a public blockchain,</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;">ledger, directory, or database to bind the identifier to the DID document. The public nature of the binding allows parties to resolve arbitrary DIDs and retrieve the DID document. If you trust the public DID repository, then you can have confidence in the binding.</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Most relationships don’t need to resolve arbitrary DIDs. For example, suppose Alice and Bob create a relationship by exchanging DIDs. They now have a mutually authenticated relationship based on the keys associated with their respective DIDs. Alice knows she can get Bob’s DID document from him; Bob knows he can get Alice’s DID document from her. Alice and Bob don’t need a public DID repository for their digital relationship to work. What they need is a secure, trustworthy way to exchange DIDs, retrieve their respective DID documents, and get updates if either of them rotates the keys, changes service endpoints, or otherwise updates the DID document. The peer DID method describes the processes for doing these activities, so that people can have full control over their digital relationships.</p><p class="s104" style="padding-top: 11pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Benefits of peer DIDs</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">Peer DIDs have several benefits over public DIDs for peer relationships, including:</p><p class="s35" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">Reducing cost</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: justify;">Public DID repositories usually require payment to support their operation. Peer DIDs are completely supported by the computational resources of the parties in the relationship and are, therefore, free.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">Increasing privacy</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">The best way to reduce correlation and make it harder for third parties to discover the identities of participants in a conversation is to use a different identifier for each relationship. The cost of public DIDs puts a price on privacy and discourages using them without reserve. Peer DIDs are cheap, so it makes sense to create a new one for each relationship, or even different relationships with the same peer. For example, a student employee at a university might have a student-educator relationship with the university as well as an employee- employer relationship. Using a different DID for each relationship might make sense even though the parties are the same. Peer DIDs thus offer developers better tools for supporting privacy.</p><p class="s35" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Increasing security</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Peer DIDs and the data associated with them are not stored in a single public repository, so there is no trove of data to protect. This reduces the benefit of an attack and reduces the incentives that lead to large data breaches.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Decreasing regulatory burden</p><p style="padding-top: 3pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a href="#bookmark291" class="s33">As you learned in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 8</span>, GDPR and other regulations consider public identifiers—even opaque ones—to be personal data and thus subject to regulation. Peer DIDs are not stored in repositories controlled by third parties and thus not subject to regulations about such arrangements.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Reducing complexity</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Peer DIDs are simpler than public DIDs because they don’t need a complex VDR to store DID documents, with the attendant security, privacy, regulatory, and technical burdens.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Increasing scalability</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Reducing costs, complexity, and technical infrastructure mean that peer DIDs can scale proportionally to the capacity of the participants in the relationship, not based on some public repository’s capacity and limitations.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Reducing dependence on internet access</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Peer DIDs work well in circumstances where connectivity is limited because they don’t need to contact a public DID repository to resolve a DID. For example, consider a door lock in a basement corridor where WiFi and cellular service are spotty. Alice could create a relationship with the lock over Bluetooth or some other local networking technology and use that relationship to unlock the door when she needs access, even when she is offline.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s104" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Making peer DIDs trustworthy</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The processes peer DIDs use for creating an identifier and associated keys are important but straightforward, since they depend on public-key cryptography. The peer DID process for updating the DID document is more interesting, since self-certification depends on it.</p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 14-3</span> <span style=" color: #000;">shows a simple method for creating a chain of DID documents. The problem is that if the device used to support the DID-based relationship goes offline, it could miss several updates to the DID document. Let’s return to the example of Alice and her relationship with a door lock. Suppose Alice needs to pass through that door sporadically and infrequently over the course of many years. She or the lock could update their DID documents many times between her visits to the basement. The simple method requires complex negotiation and exchanging a lot of data for Alice and the lock to synchronize.</span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark908">The peer DID specification, in contrast, describes a process for using change documents called </a><i>deltas </i>to detail any changes and a process for validating that a sequence of deltas are authentic. For this to work, agents handling peer-DID-based relationships must be able to answer questions about previous states, who authorized state changes, and when those state changes occurred. The agent needs persistent storage, called a <i>backing store</i>, to keep track of these historical details and<a name="bookmark909">&zwnj;</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">the metadata surrounding them.</p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark910">The following code example (from the peer DID specification) shows the JSON object, called a</a></p><p class="s35" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">change fragment<span class="p">, that encodes a delta for a DID document.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s76" style="padding-top: 5pt;padding-left: 17pt;text-indent: 0pt;text-align: left;">{</p><p class="s76" style="padding-left: 38pt;text-indent: 0pt;text-align: left;">&quot;change&quot;: &lt;base64url encoding of a change fragment&gt;,</p><p class="s76" style="padding-left: 38pt;text-indent: 0pt;text-align: left;">&quot;by&quot;: [ {&quot;key&quot;: &lt;id of key&gt;, &quot;sig&quot;: &lt;signature value&gt;} ... ],</p><p class="s76" style="padding-left: 38pt;text-indent: 0pt;text-align: left;">&quot;when&quot;: &lt;ISO8601/RFC3339 UTC timestamp with at least second precision&gt;</p><p class="s76" style="padding-left: 17pt;text-indent: 0pt;text-align: left;">}</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 4pt;padding-left: 5pt;text-indent: 0pt;line-height: 106%;text-align: left;">The <span class="s70">change </span>field is a sparse version of the DID document showing just the sections being changed. The <span class="s70">by </span>field is a tuple of key-signature pairs that establish the authenticity of the change; the <span class="s70">when </span>field says when the change was made. The current version of the DID document is the cumulative application of all the authenticated change fragments from the backing store to the original.</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">At the inception of a relationship based on peer DIDs, both parties will share the <i>genesis version </i><a href="#bookmark911" class="s33">of the DID document. The format for sending the genesis version is a change fragment that contains the entire DID document. </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 14-4</span> shows a chain of change fragments in which DID documents have been resolved over time as needed.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="594" height="455" alt="image" src="Image_348.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark911">Figure 14-4. A chain of change fragments with resolved DID documents</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/Zpa-b" class="s33" target="_blank" name="bookmark912">One complication is that it’s possible for two agents to make a change to the DID document for a given DID at the same time. This could happen, for example, when two agents of the same  owner or controller rotate their keys at the same time. To avoid merge conflicts, the backing  store is designed to work as a </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: italic; font-weight: normal; text-decoration: underline; font-size: 12pt;">conflict-free replicated data type (CRDT)</span><a href="#bookmark942" class="s33">. CRDTs, as the name suggests, are data types that are designed to avoid, rather than resolve, merge conflicts.</a><a href="#bookmark942" class="s42">10</a><span class="s59"> </span>As such, there are some limitations from arbitrary data types, but those can be worked into the design of the backing store without limiting the usability of the DID document. One important thing to keep in mind about CRDTs, and hence DID documents, is that we’re after eventual consistency, not the “right answer.” In other words, if multiple parties edit the same DID document simultaneously, we want everyone to eventually see the same document, not any specific version of the multiple possible versions. The goal is <i>agreement</i>—so that everyone gets the same DID document when it’s resolved.<a name="bookmark913">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;"><a href="#bookmark914" class="s33">Because of this, two different agents seeing a string of change fragments don’t have to receive them in the same order. </a><a href="#bookmark914" class="a">Figure 14-5</a> <a href="#bookmark911" class="s33">shows the change fragments in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 14-4</span>, this time with <i>delta 3 </i>and <i>delta 4 </i>being received in reverse order.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="594" height="455" alt="image" src="Image_349.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 34pt;text-indent: 0pt;text-align: left;"><a name="bookmark914">Figure 14-5. Delivering change fragments out of order eventually produces the same resolved DID document (C)</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;">If you were to resolve the change fragments after receiving <i>delta 4 </i>but before receiving <i>delta 3</i><a href="#bookmark911" class="s33">, you’d see a different DID document than any that were resolved in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 14-4</span>—the one called</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;"><i>X </i>in<a href="#bookmark914" class="s36"> </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 14-5</span>. But after you eventually receive <i>delta 3</i>, the resolved document would be DID document <i>C</i><a href="#bookmark911" class="s33">, just as in</a><a href="#bookmark911" class="s36"> </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 14-4</span>.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s104" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Peer DID authentication and authorization</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark915">Peer DIDs are used as identifiers in a wide range of circumstances. You might be identified by one peer DID to the Swiss bank where you stash your billions and another to the lock on your bike. Because they are used in life-and-death situations as well as those of little consequence, DID documents for peer DIDs go beyond the standard authentication schemes defined in the DID specification and add an </a><span class="s70">authorization </span><a href="#bookmark943" class="s33">section for more fine-grained control.</a><a href="#bookmark943" class="s42">11</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;">A DID can be associated with more than one set of keys: the <span class="s70">publicKey </span>section of the DID document is a list. There are several reasons you might want more than one key per DID. The most obvious is that putting more than one key in the DID document allows you to precommit to a backup key in the event the first is compromised. You can keep the private-key portion of the backup key in cold storage (for example, printed on paper and stored in a safe) so that it can’t be stolen if you’re hacked.</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Another reason for having more than one key is to associate varying levels of privilege with different keys. For example, one key might have the privilege of exchanging the DID with another party, another key might have the power to incur nonrepudiable contractual obligations on behalf of the DID subject, and a third might have the power to manage the DID document by adding authorization rules and rotating keys. By having different keys for different activities, the DID document allows the DID controller to manage keys in a way that provides the necessary levels of security for different tasks. These keys might be held by different controllers who use the DID for different purposes and have different privileges.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 106%;text-align: left;">The peer DID specification recommends that the <span class="s70">authentication </span>section of a peer DID document should only list keys held by the most trusted controllers, while all other uses should be governed by the <span class="s70">authorization </span>section. The <span class="s70">authorization </span>section contains two subsections: <span class="s70">profiles </span>and <span class="s70">rules</span>.</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 107%;text-align: left;">The <span class="s70">profiles </span>section declares trust profiles for different keys based on roles that the key holds. The roles are arbitrary strings that the creator of the DID document defines to fit its purpose. The <span class="s70">rules </span><a href="https://oreil.ly/VHk9J" class="s33" target="_blank">section contains authorization rules written in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Simple Grant Language</span> (SGL), a JSON-based rule language for granting privileges to actors under specific conditions. The following is an authorization section example from the peer DID specification:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s76" style="padding-left: 38pt;text-indent: -21pt;line-height: 106%;text-align: left;">&quot;authorization&quot;: { &quot;profiles&quot;: [</p><p class="s76" style="padding-left: 60pt;text-indent: 0pt;line-height: 10pt;text-align: left;">// an &quot;edge&quot; key</p><p class="s76" style="padding-left: 60pt;text-indent: 0pt;text-align: left;">{&quot;key&quot;: &quot;#Mv6gmMNa&quot;, &quot;roles&quot;, [&quot;edge&quot;]},</p><p class="s76" style="padding-left: 60pt;text-indent: 0pt;text-align: left;">// an &quot;edge&quot; and a &quot;biometric&quot; key</p><p class="s76" style="padding-left: 60pt;text-indent: 0pt;text-align: left;">{&quot;key&quot;: &quot;#izfrNTmQ&quot;, &quot;roles&quot;, [&quot;edge&quot;, &quot;biometric&quot;]},</p><p class="s76" style="padding-left: 60pt;text-indent: 0pt;text-align: left;">// a &quot;cloud&quot; key</p><p class="s76" style="padding-left: 60pt;text-indent: 0pt;text-align: left;">{&quot;key&quot;: &quot;#02b97c30&quot;, &quot;roles&quot;, [&quot;cloud&quot;]},</p><p class="s76" style="padding-left: 60pt;text-indent: 0pt;text-align: left;">// an &quot;offline&quot; key</p><p class="s76" style="padding-left: 60pt;text-indent: 0pt;text-align: left;">{&quot;key&quot;: &quot;#H3C2AVvL&quot;, &quot;roles&quot;, [&quot;offline&quot;]},</p><p class="s76" style="padding-left: 38pt;text-indent: 0pt;text-align: left;">],</p><p class="s76" style="padding-top: 3pt;padding-left: 38pt;text-indent: 0pt;text-align: left;">&quot;rules&quot;: [</p><p class="s76" style="padding-left: 60pt;text-indent: 0pt;text-align: left;">{</p><p class="s76" style="padding-left: 81pt;text-indent: 0pt;text-align: left;">&quot;grant&quot;: [&quot;register&quot;],</p><p class="s76" style="padding-left: 81pt;text-indent: 0pt;line-height: 106%;text-align: left;">&quot;when&quot;: {&quot;id&quot;: &quot;#Mv6gmMNa&quot;}, &quot;id&quot;: &quot;7ac4c6be&quot;</p><p class="s76" style="padding-left: 60pt;text-indent: 0pt;line-height: 10pt;text-align: left;">},</p><p class="s76" style="padding-left: 60pt;text-indent: 0pt;text-align: left;">{</p><p class="s76" style="padding-left: 81pt;text-indent: 0pt;text-align: left;">&quot;grant&quot;: [&quot;route&quot;, &quot;authcrypt&quot;],</p><p class="s76" style="padding-left: 81pt;text-indent: 0pt;line-height: 106%;text-align: left;">&quot;when&quot;: {&quot;roles&quot;: &quot;cloud&quot;}, &quot;id&quot;: &quot;98c2c9cc&quot;</p><p class="s76" style="padding-left: 60pt;text-indent: 0pt;line-height: 10pt;text-align: left;">},</p><p class="s76" style="padding-left: 60pt;text-indent: 0pt;text-align: left;">{</p><p class="s76" style="padding-left: 81pt;text-indent: 0pt;text-align: left;">&quot;grant&quot;: [&quot;authcrypt&quot;, &quot;plaintext&quot;, &quot;sign&quot;],</p><p class="s76" style="padding-left: 81pt;text-indent: 0pt;line-height: 106%;text-align: left;">&quot;when&quot;: {&quot;roles&quot;: &quot;edge&quot;}, &quot;id&quot;: &quot;e1e7d7bc&quot;</p><p class="s76" style="padding-left: 60pt;text-indent: 0pt;line-height: 10pt;text-align: left;">},</p><p class="s76" style="padding-left: 60pt;text-indent: 0pt;text-align: left;">{</p><p class="s76" style="padding-left: 81pt;text-indent: 0pt;line-height: 106%;text-align: left;">&quot;grant&quot;: [&quot;key_admin&quot;, &quot;se_admin&quot;, &quot;rule_admin&quot;], &quot;when&quot;: {</p><p class="s76" style="padding-left: 103pt;text-indent: 0pt;line-height: 106%;text-align: left;">&quot;any&quot;: [{&quot;roles&quot;: &quot;offline&quot;}, {&quot;roles&quot;: &quot;biometric&quot;}], &quot;n&quot;: 2</p><p class="s76" style="padding-left: 81pt;text-indent: 0pt;line-height: 10pt;text-align: left;">}</p><p class="s76" style="padding-left: 81pt;text-indent: 0pt;text-align: left;">&quot;id&quot;: &quot;8586d26c&quot;</p><p class="s76" style="padding-left: 60pt;text-indent: 0pt;text-align: left;">}</p><p class="s76" style="padding-left: 38pt;text-indent: 0pt;text-align: left;">]</p><p class="s76" style="padding-left: 17pt;text-indent: 0pt;text-align: left;">}</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 4pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">This example declares four profiles for four different keys, assigning each key a set of roles. The rules then grant privileges based on either profile <span class="s70">id </span>numbers or a set of roles.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/83a7Y" class="s33" target="_blank">While roles are arbitrary strings, the privileges are not arbitrary, since they must be understood by the code enforcing the authorizations. The following list is the privilege inventory in the specification, with a brief explanation of each. You can find more information in the </a><a href="https://oreil.ly/83a7Y" class="a" target="_blank">peer DID</a><a href="https://oreil.ly/83a7Y" class="s36" target="_blank"> </a><a href="https://oreil.ly/83a7Y" class="a" target="_blank">specification</a><a href="https://oreil.ly/83a7Y" class="s33" target="_blank">:</a></p><p class="s35" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">register</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">The holder of this privilege is allowed to register the DID as an identifier with another party. Holders of this privilege can exchange DIDs with other agents.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">route</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">The holder of this privilege is allowed to receive and decrypt DIDComm forward messages encrypted for itself, and to forward the contained DIDComm encryption envelope to another key. This privilege is useful for cloud agents that route messages to edge (device) agents but that shouldn’t be able to read the messages (in the interest of security).</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">authcrypt</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">The holder of this privilege is allowed to create messages and send them with authenticated encryption that reveals the identity associated with this DID to the receiver. Most keys will</p><p style="padding-top: 3pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a name="bookmark916">have this privilege, but you might remove it from IoT devices, for example, to limit the possibility of someone co-opting them to impersonate the DID subject.</a></p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">plaintext</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">The holder of this privilege can see plain-text DIDComm messages intended for an identity owner engaged in a protocol.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">sign</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">The holder of this privilege can incur nonrepudiable contractual obligations on behalf of the DID subject. This can be used, for example, to authenticate the DID instead of relying on the <span class="s70">authentication </span>section.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">key_admin</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 140%;text-align: left;">The holder of this privilege can add or remove other keys from a peer DID document’s <span class="s70">verificationMethod </span>section, <span class="s70">authentication </span>section, or <span class="s70">authorization profiles </span>list. Because of its power, this privilege should be granted only to keys that are held by trusted controllers.</p><p class="s35" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">se_admin</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">The holder of this privilege can add or remove items from a peer DID document’s <span class="s70">service</span></p><p style="padding-top: 5pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">section.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">rule_admin</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 141%;text-align: left;">The holder of this privilege can add or remove rules from a peer DID document’s <span class="s70">authorization rules </span>list. Similar to the <span class="s70">key_admin </span>privilege, this privilege should be granted only to keys that are held by a trusted controller.</p><p class="s35" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">rotate</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">The holder of this privilege can replace its associated key definition—and all references to that key throughout a DID document—with a new key definition and references, in a single delete-and-add operation.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">These authorizations increase the utility and security of peer DIDs. The features and benefits of peer DIDs allow them to scale to support people’s many digital relationships.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Key Event Receipt Infrastructure</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark917"><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Key Event Receipt Infrastructure</span></a><a href="https://oreil.ly/XyKVQ" class="s33" target="_blank">, also known as KERI, is a decentralized system for creating SCIDs and performing all the related key management—including complex, enterprise-grade, multiparty signatures and delegation trees. Now that you understand peer DIDs, the concepts of KERI will feel very familiar; they have much in common. KERI-based SCIDs are more general- purpose than peer DIDs, however, with broader applicability. In this section, I’ll discuss the primary features that distinguish KERI from peer DIDs. If you want more information, the </a><a href="https://oreil.ly/XyKVQ" class="a" target="_blank">KERI</a><a href="https://oreil.ly/XyKVQ" class="s36" target="_blank"> </a><a href="https://oreil.ly/XyKVQ" class="a" target="_blank">technical paper</a><a href="https://oreil.ly/XyKVQ" class="s36" target="_blank"> </a><a href="https://oreil.ly/XyKVQ" class="s33" target="_blank">goes into great depth on its protocol, configuration, and operation.</a></p><p class="s104" style="padding-top: 11pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Self-certifying key event logs</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark918">KERI uses a data structure called a </a><i>key event log </i>to record changes to the keys associated with an identifier, rather than recording the changes in DID documents. Each time the controller of a KERI identifier rotates its keys, KERI writes a new digitally signed message to the key event log to record the change. The key event messages in the log are chained together. Each event message (other than the genesis message) contains a digital hash of the immediately preceding key event message.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Anyone in possession of the key event log can cryptographically verify its authenticity by checking the integrity of the final message in the log, then ensuring the digital hash contained in it matches the hash of the preceding message. This process continues, following the chain of message to the beginning. This verifies that no messages have been changed and that nothing has been deleted or inserted.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The controller of the identifier keeps a copy of the key event log. They can also share it with others who need to use the identifier to interact with the controller. In addition, as the controller rotates the keys, they can send the event messages to others so that their copies of the event log are kept up to date.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark919">KERI also allows the controller to use </a><i>witnesses</i>—other digital agents who can validate and sign the key event log. The witnesses also get a copy of the genesis log and all the messages that mark key rotations. They record these and witness them with their own digital signatures to provide additional evidence that the last public key in the log is bound to the identifier and that no one is cheating.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Because KERI identifiers are self-certifying, any system can serve as a witness, including a blockchain, a database, a directory, a filesystem, or a device such as a smartphone. In fact, all of them can serve as witnesses at the same time, meaning the KERI SCID is not dependent on any one of them. KERI calls this avoiding “ledger lock.”</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s104" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Prerotation of keys</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark920">KERI includes an ingenious method called </a><i>prerotation </i>to mitigate the damage if private keys are lost or stolen.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Suppose that Alice creates a new KERI identifier and an associated key pair. She shares the public key with Bob and uses the private key as needed. Unfortunately, Malfoy breaks into her computer and steals her private key. What can Alice do? She can’t simply rotate the key and start</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;">using the new key pair, because Bob has no way to know if the new key in the key event log is from Alice or Malfoy. She and Bob would have to use another channel to share a new key and repair the damage.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">But prerotation solves this problem: when Alice creates a KERI identifier and its initial public- private key pair, she can also create the <i>next </i>key pair and commit to it cryptographically by writing a hash of it in the key event log. Alice stores this new backup private key offline so that it is secure. If her current private key is lost or stolen, she can share the next public key and use the next private key as needed. Because it’s already written to the key event log, Bob will recognize it as Alice’s new key without having to take special actions to trust it. Then Alice can prerotate another key and share it using a key event log message, so that she and Bob are prepared for any future catastrophes.</p><p class="s104" style="padding-top: 11pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Delegation</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark921">You can delegate authority to KERI identifiers by writing delegation events to the key event log of the key doing the delegation. A </a><i>delegation event </i>allows the new key to prove its relationship with its parent identifier; anyone can then use cryptography to verify that the delegation is authentic. The new delegated key is a full-featured KERI identifier, so it has its own key event log and can delegate its authority to other identifiers. The result is a hierarchy of identifiers with their authority stemming from the root identifier.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">KERI identifiers and key delegation allow organizations to scale and manage delegation hierarchies of any size or complexity. They also enable individual users of KERI to manage different instances of a digital wallet across multiple devices.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s104" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">The KERI DID Method</p><p class="s55" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/1scy2" class="s33" target="_blank" name="bookmark922">As you’ve learned, DIDs are a general interface for attaching metadata about keys, services, and other important information to an identifier using a DID document. KERI is a specific technology for attaching slightly different metadata to an identifier. The </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">did:keri specification</span> <span style=" color: #000;">makes KERI identifiers compatible with DIDs by creating a DID method to support them.</span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">The <span class="s70">did:keri </span>method defines the DID document that it returns to include the data in the key event log. The <span class="s70">did:keri </span>DID document does not include a <span class="s70">services </span>section, but it may include a <span class="s70">verificationMethod </span>section.</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 107%;text-align: left;">The <span class="s70">did:keri </span>method allows software agents that understand DIDs and DID methods to process and use KERI identifiers and keys. Ongoing work promises to make KERI and peer DIDs even more compatible.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark923">Other Autonomic Identifier Systems</a></p><p class="s55" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/zpIbM" class="s33" target="_blank">In addition to peer DIDs and KERI, researchers are working on several other autonomic identity systems. For instance, </a><a href="https://oreil.ly/zpIbM" class="a" target="_blank">Cryptid</a> <a href="https://oreil.ly/2dYoD" class="s33" target="_blank">is working on an </a><a href="https://oreil.ly/2dYoD" class="a" target="_blank">authentic data system</a> <a href="https://oreil.ly/PgM-M" class="s33" target="_blank">that uses provenance logs, which are similar to key event logs but include other supporting data. The </a><a href="https://oreil.ly/PgM-M" class="a" target="_blank">did:orb method</a> <a href="https://oreil.ly/mCs3b" class="s33" target="_blank">uses self-certifying identifiers and the </a><a href="https://oreil.ly/mCs3b" class="a" target="_blank">Sidetree v1.0.0</a> <span style=" color: #000;">protocol to encode and propagate DID</span></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">document updates.</p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 107%;text-align: left;">The biggest challenge for various autonomic identifier systems will be interoperability. Schemes like <span class="s70">did:keri</span>, which encode the underlying identifier system inside a framework that agents already understand, make it easier to support them. In an ideal world, Alice can use peer DIDs, Bob can use KERI, and Carol can use <span class="s70">did:orb </span>and they’ll all still be able to interact with each other securely.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark924">Cryptographic Identifiers and the Laws of Identity</a></p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark131" class="s33" name="bookmark925">Compared to traditional identifiers, cryptographic identifiers comply more fully with the Laws of Identity (from </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 4</span>) than do traditional identifiers. Autonomic identifiers are especially adept at creating identity systems that meet the requirements of the laws:</p><p class="s35" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">User control and consent</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a name="bookmark926">All the cryptographic identifiers discussed in this chapter are designed to be controlled by their users (or the user’s guardian) and to support autonomy for their subject. The specifications for these identifiers create boundaries of control and assign control over various activities to appropriate roles.</a></p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Minimal disclosure for a constrained use</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a name="bookmark927">Because autonomic identifiers do not use external systems to operate, they are inexpensive to create and use. As you’ve seen, it’s feasible to create a different identifier for every relationship, reducing correlation and allowing the DID document to be customized to reveal only the information necessary for the relationship to have utility.</a></p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Justifiable parties</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a name="bookmark928">Cryptographic identifiers are designed to operate without third-party administrators who intervene in the relationships they support. Only the parties necessary for the relationship to have utility need to be part of the interactions. Also, since the nature of autonomic identifiers allows us to create a different identifier for every relationship, cryptographic identifiers ensure that each party gets only the data they need.</a></p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Directed identity</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a name="bookmark929">Public DIDs, like those registered on ledgers, function as omnidirectional identifiers. Peer DIDs and other autonomic identifiers function as unidirectional identifiers.</a></p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Pluralism of operators and technologies</p><p style="padding-top: 3pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a name="bookmark930">The cryptographic identifiers discussed in this chapter are based on standards and aim for interoperability, allowing multiple operators and technologies to function together to meet the identity needs of people, organizations, and things. The realization of that vision is, of course, always in jeopardy, with new technologies constantly being invented and organizations jostling for economic advantage.</a></p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Human integration</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a name="bookmark931">Cryptographic identifiers are designed to be under the control of the individuals and organizations they identify, without an intervening administrative authority. Consequently, the human controllers are integral components in the creation, management, and use of these identifiers.</a></p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Consistent experience across contexts</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a name="bookmark932">Cryptographic identifiers put the human controller at the center of the experience and give them choices about the technologies they will use. As a result, the controller sees a consistent user experience, even in vastly differing contexts and uses.</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark131" class="s33">In the discussion of directed identity in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 4</span>, you learned that while identifiers initially seem simple, designing them to have the properties we need can be difficult. Cryptographic identifiers give us the technology necessary to create useful identifiers that respect the Laws of Identity.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="624" height="1" alt="image" src="Image_350.png"/></span></p><ol id="l31"><li><p class="s45" style="padding-top: 5pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark933"><span class="s65">	</span></a>I’m going to talk about <i>control </i><a href="#bookmark1059" class="s68">of identifiers in this chapter without being specific about what that means. </a><a href="#bookmark1059" class="s64">Chapter </a><span style=" color: #8E0011;">17 </span>will deal with identifier control and the trust basis for various identity architectures. Similarly, I will speak of the software that controllers use to control identifiers as <i>agents </i><a href="#bookmark1098" class="s68">in </a><a href="#bookmark1098" class="s64">Chapter </a><span style=" color: #8E0011;">18</span>.</p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 32pt;text-indent: -11pt;text-align: left;"><a name="bookmark934">Version 1.0 of the DID specification was approved by the World Wide Web Consortium (W3C) on June 30, 2022.</a></p></li><li><p class="s65" style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark935">	</a><span class="s45">Technically, the augmented Backus–Naur form for RFC 3986 has a very specific definition of the authority component that wants a hostname and optional account and port information at that host. But logically, we can think of the method and identifier as the authority component, since they serve the same purpose.</span></p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;line-height: 107%;text-align: left;"><a name="bookmark936"><span class="s65">	</span></a>The method name can have only one part: <span class="s76">indy</span>, in this case. Indy is an open source ledger project at Hyperledger that has several ledgers using its code. One of those is the Sovrin ledger. The DID specification allows methods to define subnamespaces, in this case <span class="s76">sov</span>. So, the method for the Sovrin ledger is <span class="s76">indy </span>and the subnamespace is <span class="s76">sov</span>. The combination of the method name and subnamespace tells the resolver how to resolve the DID.</p></li><li><p class="s65" style="padding-top: 5pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark937">	</a><a href="https://cbor.io/" class="s68" target="_blank">The document can be JSON, JSON-LD (a method for including semantic data and schemas inside JSON), or CBOR, which stands for</a><a href="https://cbor.io/" class="s46" target="_blank"> </a><a href="https://cbor.io/" class="s47" target="_blank">Concise Binary Object </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 9pt;">Representation</span><span class="s45">.</span></p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 32pt;text-indent: -11pt;text-align: left;"><a name="bookmark938">JSON-LD contexts are a way of providing a link to an external schema for the extension.</a></p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 32pt;text-indent: -11pt;text-align: left;"><a name="bookmark939">There are some problems with this simple approach that I’ll fix later in this chapter.</a></p></li><li><p class="s65" style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark940">	</a><span class="s45">Marc Girault, “Self-Certified Public Keys,” EUROCRYPT ’91, Workshop on the Theory and Application of Cryptographic Techniques, Brighton, UK, April 8–11, 1991.</span></p></li><li><p class="s65" style="padding-top: 3pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark941">	</a><a href="https://oreil.ly/AqGz2" class="s68" target="_blank">Michael Kaminsky and Eric Banks,</a><a href="https://oreil.ly/AqGz2" class="s46" target="_blank"> </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 9pt;">“SFS-HTTP: Securing the Web with Self-Certifying URLs”</span><a href="https://oreil.ly/3JwEb" class="s68" target="_blank">, MIT, 1999; David Mazieres,</a><a href="https://oreil.ly/3JwEb" class="s46" target="_blank"> </a><a href="https://oreil.ly/3JwEb" class="s47" target="_blank">“Self-certifying File System”</a><span class="s69"> </span><span class="s45">(PhD diss., MIT, 2000).</span></p></li><li><p class="s65" style="padding-top: 6pt;padding-left: 27pt;text-indent: -12pt;text-align: left;"><a name="bookmark942">	</a><span class="s45">Most people are familiar with CRDT-like structures, if not the underlying technology, thanks to services like Google Docs that allow multiple parties to edit the same document simultaneously without ever getting an error message about merge conflicts.</span></p></li><li><p class="s65" style="padding-top: 6pt;padding-left: 27pt;text-indent: -12pt;text-align: left;"><a name="bookmark943">	</a><span class="s45">Recall that the DID specification allows different DID methods to extend the schema for a DID document beyond the core data model defined in the specification.</span></p></li></ol><p class="s21" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark944">Chapter 15. Verifiable Credentials</a><a name="bookmark945">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="624" height="1" alt="image" src="Image_351.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark946">One of the primary duties of an identity system is to allow the transfer of trustworthy, authenticated information. When we log in, the information is minimal—often just a username and password—and the authentication itself is the point. Other times, the identity system may be transferring information like profile information or authorizations.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark131" class="s33" name="bookmark947">In </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 4</span> you learned about the identity metasystem and its properties. Recall that an identity metasystem is a system upon which identity systems can be built. The metasystem provides the infrastructure for the identity systems built on top of it so that they have an encapsulating protocol that provides a unified user experience. The metasystem should provide user choice for autonomy, privacy, and flexibility. Modularity and polycentrism (more commonly called <i>decentralization</i>) ensure that the metasystem isn’t controlled by a single organization. And because the information we need to recognize, remember, and respond to various entities is context-dependent and varies widely from one situation to the next, the metasystem must allow <i>polymorphic </i>data records (records that use different data schemas) to be defined.<a name="bookmark948">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Clearly, an identity system that is polycentric and polymorphic is much more flexible and capable than the traditional identity and access management (IAM) systems in use today, which provide only authentication and authorization services. But systems with the properties of the metasystem are not unfamiliar to us. We need only look at the rich system of credentials we use to make modern life possible. For example, Alice might have a driver’s license and an employee ID. Both function in their specific context (driving or working) but also outside of it: Alice might use them in concert in a context outside driving or work, to prove she’s over 21 and employed.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark949">There’s no central authority that decides what credentials can exist. Alice’s grocery store might issue a loyal shopper card and the volunteer organization she helps with on weekends might give her a badge she can wear so clients know she’s someone they can ask for help. When Alice goes to the movies, they issue a one-time use credential we call a </a><i>ticket</i>. A claim stub at the dry cleaner, a medical prescription, and a parking ticket are other examples of credentials. When Alice visits the doctor and fills out (for the thousandth time) her medical history, she’s creating a <i>self-issued credential</i>.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">There’s simply no end to the types of credentials organizations or individuals might create for the huge variety of contexts in which they operate. The beauty of a credential-based identity system is its flexibility.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">The Nature of Credentials</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark950">My use of the word </a><i>credential </i>to describe a movie ticket or medical history might make you scratch your head, if you’ve been conditioned to think of credentials as formal documents issued by organizations with special authority. A <i>credential </i>is a structured document containing claims.</p><p class="s35" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Claims <span class="p">are name-value pairs representing an </span>attribute <a href="#bookmark32" class="s33">of some sort. Recall from </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 2</span><span class="s55"> </span><span class="p">that attributes are statements about </span>what <span class="p">the subject is, not </span>who<span class="p">. A credential can contain many claims. Some claims might have multiple parts.</span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark951"><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 15-1</span></a> <a href="#bookmark1013" class="s33">shows a driver’s license. The license contains 19 claims, some with multiple parts. For example, claim 2 is the subject’s name, Betty Nelson.</a><a href="#bookmark1013" class="s42">1</a><span class="s59"> </span>Claim 4 is a multipart claim that includes the license number and its issue and expiration dates. Claim 12 is restriction code. In this case, <i>A </i>means no restrictions, but other restrictions might require glasses or limit driving to daylight only.<a name="bookmark952">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark953">In addition to the claims, the license also contains other information. The star in the yellow circle in the upper right corner indicates that the license complies with the US federal government’s REAL ID Act, which, among other things, requires identity proofing of some of the claims, like address and date of birth. The picture is a biometric used to authenticate that the person presenting the license is the subject. On the reverse is a set of driving authorizations, which might include endorsements for motorcycle or commercial vehicle operation.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">While this driver’s license is a document issued by the State of Utah for a specific purpose, there is nothing that keeps Betty from showing it to anyone she wants. And there’s nothing to keep others from trusting its claims. As a result, in the US, where there is no national ID credential, a state-issued driver’s license is a root identity document that people use in many different contexts to prove things about themselves that have nothing to do with driving.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 122pt;text-indent: 0pt;text-align: left;"><span><img width="310" height="186" alt="image" src="Image_352.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark954">Figure 15-1. A driver’s license</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Roles in Credential Exchange</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark955">When the State of Utah issues a driver’s license to Betty and she chooses to show it to, say, her employer so they can verify her address, this makes Utah, Betty, and her employer participants in a process called </a><i>credential exchange</i>.</p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 15-2</span> <span style=" color: #000;">shows the roles in a credential exchange and the relationship each party has with the other. Let’s look more closely:</span></p><p class="s35" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Credential issuer</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">The <i>credential issuer </i>is an entity who knows something about the credential subject and can</p><p style="padding-top: 3pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">issue a credential containing claims that encode that knowledge. The credential issuer might be the subject of the credential for self-issued credentials. The credential issuer <i>issues </i>the credential to the credential holder, who is usually also the subject.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Credential holder and subject</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">The <i>credential subject </i>is the entity that the claims in the credential are about. The <i>credential holder </i>is the entity that the credential is issued to and that keeps the credential for later use. For simplicity, the figure assumes the holder of the credential is also the subject, but it’s possible in situations like guardianship, or where the subject is not a person, for the holder to be someone other than the subject.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Credential verifier</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">The holder shares the credential with the <i>credential verifier </i>to transfer the information contained in its claims. The verifier is relying on the claims made by the issuer. Depending on the situation, the verifier may also be concerned with authenticating the holder.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="592" height="433" alt="image" src="Image_353.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark956">Figure 15-2. Roles in credential exchange</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Throughout this chapter and for the rest of the book, I will frequently refer to these roles simply as <i>issuer</i>, <i>holder</i>, <i>subject</i>, and <i>verifier</i>.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Credential Exchange Transfers Trust</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark252" class="s33">At the start of </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 7</span>, I said, “Trust is at the heart of all relationships” and defined <i>trust </i>as reliance on the actions of another to benefit or protect the trustor in a specific domain. We must trust others—make ourselves vulnerable and incur risk—for relationships to have utility. People rely on the law, regulation, convention, and past experience to bridge the trust gap when they put themselves at risk.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark957">But we also rely on one other important thing: what others say. Sometimes this is informal. We call that </a><i>reputation</i>. The other way we rely on what others say is using credentials. When Alice gives the ticket taker at the movie theater her ticket, she’s providing evidence that the person at the box office says she paid. When she shows her driver’s license to the human resources officer (HRO) at her job, she’s providing evidence that the state claims she lives at a specific address.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark958">We call these assertions of attributes </a><i>claims </i><a href="#bookmark252" class="s33">because the verifier must believe that the issuer is telling the truth. Recall that in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 7</span>, we discussed <i>provenance </i>as the basis for trust. For example, the HRO will want to know who issued the credential, what processes they used to make the claims it contains, what source data they used, and what their reputation is. In the case of a driver’s license, most employers will know they can rely on the provenance of its data because of the requirements for collection and the state’s reputation.<a name="bookmark959">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_354.png"/></span></p><p style="padding-top: 5pt;padding-left: 29pt;text-indent: -24pt;line-height: 174%;text-align: left;">The verifier will also want to know some specific things about the credential itself: That the identity of the issuer is authentic</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_355.png"/></span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 13pt;text-align: left;">That the holder is the subject of the credential or possesses the authority to present the</p><p style="padding-top: 1pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">credential on the subject’s behalf</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_356.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_357.png"/></span></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 165%;text-align: left;">That the credential hasn’t been tampered with That the credential hasn’t been revoked</p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark960">These properties of the credential and its presentation to the verifier inspire confidence that the credential has </a><i>fidelity</i><a href="#bookmark1014" class="s33">. Issuers go to great pains to ensure that credentials like driver’s licenses and employee ID badges display who issued them, have pictures or another means to identify the subject, and are tamper-evident.</a><a href="#bookmark1014" class="s42">2</a><span class="s59"> </span>Knowing whether a given credential has been revoked (which is not the same as expired) is more difficult with physical credentials, but not impossible, depending on the degree of risk.<a name="bookmark961">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark962">When the credential has fidelity and the verifier believes in its provenance, they can trust the claims it makes. Instead of the HRO trusting Alice to provide her address, the HRO’s trust in the issuer of the driver’s license allows them to reliably use the address data Alice provides using a credential. They are no longer vulnerable to Alice giving them a false address, and the employer’s risk is thus reduced. The verifier’s trust in the issuer has been effectively transferred to the holder, who is presenting the credential as evidence of some claim.</a></p><p class="s48" style="padding-top: 4pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Verifiable Credentials</p><p class="s55" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/_kqQp" class="s33" target="_blank" name="bookmark963">The </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">W3C Verifiable Credential (VC) specification</span> <span style=" color: #000;">defines standards for creating digital credentials that have the features and convenience of physical credentials. Of course, being digital, they can also do a few things that are impossible for physical credentials to manage. For example, digital credentials can be more easily revoked and are designed to disclose only the information the verifier needs.</span></p><p class="s59" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1015" class="s33" name="bookmark964">A VC is, in its simplest form, a signed JSON document that is structured in accordance with the specification’s data model.</a><a href="#bookmark1015" class="s42">3</a> <span class="p">The data model includes required fields and how optional extensions can be added. In addition to providing the data model for VCs, the specification also contains information about how presentations of the data in the VC are structured.</span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/KoDdA" class="s33" target="_blank">Because the VC specification provides latitude in how credentials are structured, represented, and understood, various groups have implemented several different credential types. The specification ties them together enough that software can understand and use different types. </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Daniel Hardman categorizes VCs along five dimensions</span>:</p><p class="s35" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Schema</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 141%;text-align: left;"><a name="bookmark965">The </a><i>schema </i>of a credential describes its structure. Is this credential a driver’s license or a university transcript? This is an expected and useful difference. Unfortunately, differences might also exist in schema for credentials of the same type. Two universities might use two different schemas for transcripts, with one using a field named <span class="s70">surname </span>and the other using <span class="s70">last_name</span>. Avoiding a proliferation of schemas for credentials of the same type is a political problem, not a technical one. <span class="s49">Schema.org </span><a href="https://oreil.ly/8hYM1" class="s33" target="_blank">has been standardizing schema for years, and </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Hyperledger Foundation and others are working on standardizations</span>.<a name="bookmark966">&zwnj;</a></p><p class="s35" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Rendering</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">The VC specification allows credentials to be represented in several formats. The base format, as I mentioned above, is a JSON document. The specification also allows VCs to be <i>represented</i><a href="#bookmark765" class="s33">, or rendered as a string, in JSON-LD or JWT format. JSON-LD is a way of adding semantic metadata, using context links, to the fields in a JSON document; recall that you learned about JWT in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 13</span>, where they were used in OpenID Connect to encode claims.</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark1016" class="s32" name="bookmark967">Holder-Subject Relationship</a><a href="#bookmark1016" class="s66">4</a></p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a name="bookmark968">Recall that a credential holder may or may not be the subject of the credential. For example, Alice would likely hold her own driver’s license and thus be both the holder and subject. But she might also hold a credential for some device in her home where the subject is the device</a></p><p style="padding-top: 3pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a href="#bookmark1219" class="s33">itself: for example, Alice might hold a credential for her laptop (more on this in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 20</span>). Credentials can also have more than one subject: for example, a birth certificate might list the baby, mother, father, and doctor as subjects. Again, the holder may or may not be one of the subjects.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Correlation</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a href="#bookmark291" class="s33" name="bookmark969">You learned about correlation in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 8</span>, where we discussed the risk to privacy when multiple records can be linked to create a more complete picture of their subject. Different presentation methods for credentials impact whether a subject of multiple credentials can be correlated. I’ll discuss this in more detail later in this chapter.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Payment</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Some credentials are free, and some are paid for. This is true in the digital realm as well as the physical. For example, my employer issues me an employee credential for free.</p><p class="s55" style="padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a href="#bookmark970" class="s33">Universities charge the requester (usually the subject) for transcripts. Besides free, there are four different pairwise payment vectors between the different roles in credential exchange: holder-pays-issuer, verifier-pays-issuer, verifier-pays-holder, and holder-pays-verifier. While there are scenarios where each of these may happen, the most common, and most straightforward to implement, is holder-pays-issuer. </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 15-3</span> <span style=" color: #000;">illustrates these potential payment relationships. I’ll discuss the implications of this for credential marketplaces later in this chapter.</span></p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="594" height="435" alt="image" src="Image_358.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark970">Figure 15-3. Payment relationships in credential exchange.</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark971">Different implementations of VCs have made different choices about whether they encourage, exclude, or require the possibilities in these five dimensions. The next section will discuss some of these choices. As you examine different technology stacks for VCs to determine how they mesh with your needs, keep these dimensions in mind.</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Exchanging VCs</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark972">As you learned above, credential exchange involves three distinct roles: the issuer, the holder, and the verifier. The subject is involved in the exchange only if they also happen to also be the holder. Any party can play any role—and will, in the context of different interactions. In the discussion that follows, I’ll use Alice, an individual, as the holder, and two organizations, Attester Org and Certiphi Corp, as the issuer and verifier, respectively. But keep in mind that an organization can also hold credentials and that people can issue and verify them.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark973"><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 15-4</span></a> shows the issuer, holder, and verifier in what’s commonly called the <i>credential trust triangle</i>. In addition to the three parties I’ve already discussed, the figure also includes one or more of what’s generically called a <i>verifiable data registry </i>(VDR). When you read about credential exchange, this is often described as a blockchain or ledger, but there’s no requirement that it be a blockchain. Note that the term <i>verifiable </i>in the name refers to the data, not the repository. The repository could be a web server, if the data is signed and stored in a way that<a name="bookmark974">&zwnj;</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;">ensures that entities relying on it can verify its authenticity. The properties of the overall exchange process may vary depending on the architecture and properties of the VDR.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="594" height="582" alt="image" src="Image_359.jpg"/></span></p><p class="s60" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark975">Figure 15-4. VC exchange</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Issuing Credentials</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Attester Org has written or discovered an acceptable schema for their credential. As you’ve learned, the schema describes the structure of the credential, including field names and acceptable values. Attester has also created a public DID that identifies Attester as the issuer. Attester may write a credential definition to a VDR that links the schema to the issuer DID it created. The public DID, schema, and definition could be written to different VDRs or the same VDR.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Attester creates a credential for Alice based on the credential definition it has written and issues</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1160" class="s33">it to Alice. The issuance ceremony will usually include some interaction with Alice, and Attester will likely need to authenticate Alice before it issues the credential to her. Alice and Attester may have exchanged peer DIDs and have an already established, mutually authenticated DID relationship. If so, Attester would use that DID relationship to issue the credential to Alice. (I’ll discuss the exact mechanism for this in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 19</span><a href="#bookmark608" class="s33">.) Attester also might use more traditional authentication means (which you learned about in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 11</span>) and a TLS-protected channel to issue the credential. In the remainder of this book, I’ll presume a DID-based interaction pattern unless otherwise noted.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Attester is issuing a <i>verifiable </i>credential. The VC specification requires that credentials include a <i>proof </i>that can later be verified by the verifier. The proof is a cryptographic signature. The proof might be <i>embedded</i>, meaning the proof is included in the credential, or <i>external, </i>meaning it is linked from the credential in some manner. The exact nature of the proof can vary in different representations; the fields in the proof section of the credential can vary as well, so long as they conform to the VC data model.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Holding Credentials</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark976">Alice uses a </a><i>digital wallet </i>to collect and hold VCs from various issuers and assemble them into presentations of verifiable data. She also has a software <i>agent </i>that engages in the ceremony with the issuer to request and accept the credential when Attester issues it.</p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1017" class="s33" name="bookmark977">The agent is responsible for managing Alice’s DID-based relationships, like the one she has with Attester, while the wallet holds the keys for Alice’s peer DIDs, public DIDs,</a><a href="#bookmark1017" class="s42">5</a><span class="s59"> </span><a href="#bookmark131" class="s33">and other identifiers. The wallet provides a consistent user experience for Alice across contexts, in keeping with the law of consistent experience you learned about in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 4</span><a href="#bookmark1098" class="s33">. Alice doesn’t think about keys and DIDs. Instead, her experiences revolve around establishing, maintaining, and terminating relationships and the ceremonies related to credential exchange. </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 18</span> <a href="#bookmark1160" class="s33">and </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 19</span> <span style=" color: #000;">discuss wallets and agents in detail. For simplicity, I’ll use the term </span><span class="s35">wallet </span><span style=" color: #000;">for both the wallet and agent in this chapter unless the distinction is important.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Presenting Credentials</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">At some point, Alice uses her wallet to establish a relationship with Certiphi Corp. As part of bootstrapping or improving this relationship, Alice may need to give trustworthy information to Certiphi. For example, suppose Certiphi needs Alice’s home address, and Attester’s credential includes that information. The request for the address might happen in person (if Alice is visiting a Certiphi branch office), online (if Alice is filling out a web form), or over the phone (if Alice is talking to a customer support person).</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Regardless of the interaction scenario, Alice’s experience is consistent: she gets a pop-up on her smartphone saying that Certiphi is requesting her address and offering a selection of the credentials that Alice holds which contain her address. She picks the one from Attester and her wallet presents the information it contains to Certiphi. Certiphi uses the proof method included in the credential to cryptographically verify the credential’s authenticity.</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">From your experience in the physical world, you may think that the presentation involves Alice’s wallet simply transferring the entire credential to Certiphi. After all, if you showed your driver’s license to someone to prove your address, you’d hand it to them. The VC specification allows different presentation methods. While a complete transfer of the credential may occur in some presentations, that’s not always the case. The next section will explore this in more detail, since it’s one of the most important features of credential exchange.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Let’s assume that Certiphi needs to know Alice’s address and her current salary. She has another credential from her employer asserting salary information. Alice’s presentation to Certiphi combines the data from Attester and from her employer to transfer both pieces of information at once.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">An obvious question is: how does Certiphi get the required data to verify the credential? For example, if the credential presentation involves a digital signature, how does Certiphi find Attester’s public key? This is why the VDR is important. The credential includes references to the information in a VDR, which may include the issuer’s public DID and DID document, the credential definition, and the schema, depending on the presentation type (see below). Certiphi reads this information from the VDR and uses it to verify the credential.</p><p class="s59" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1018" class="s33" name="bookmark978">The use of a VDR is important because it means that the verifier does not have to have a direct relationship with the issuer.</a><a href="#bookmark1018" class="s42">6</a> <span class="p">With other data transfer methods, Certiphi might need to have access to an API at Attester, agree to terms and conditions to use Attester’s data, or even have a legal relationship with Attester. In contrast, VCs are designed so that the credential verifier needs no relationship with the issuer to verify the credential.</span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark979">One important consequence of this is that it prevents what is commonly called the </a><i>phone-home problem </i><a href="#bookmark1019" class="s33">in privacy circles.</a><a href="#bookmark1019" class="s42">7</a><span class="s59"> </span>By design, Attester does not know where Alice presents the credential; it consequently can’t track Alice as she uses the credential in web applications and interacts with different people and organizations.<a name="bookmark980">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Credential Presentation Types</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark981">The nature of credential presentation is an important part of the VC specification. A VC presentation is designed to package and securely transmit data from one or more credentials in a way that allows the verifier to ascertain the authorship of the data. A presentation is usually about one subject, but this need not always be the case: for example, a credential presentation about a development team or board of directors might include information from credentials about different subjects.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">A verifiable presentation contains three things:</p><p class="s35" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">Presentation metadata</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 138%;text-align: justify;">Metadata includes a required <span class="s70">type </span>property that identifies the data structure as a verifiable presentation and several optional properties, including an <span class="s70">id </span>for the presentation and a URI for the <span class="s70">holder </span>making the presentation.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Verifiable credentials</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">The credentials are an optional list of VCs, or data derived from VCs, in a cryptographically verifiable way.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Proofs</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a name="bookmark982">Proofs are included in the presentation so that the verifier can use the proofs to verify the authenticity of the credentials or derived data.</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The specification provides many options for how to present a credential. For clarity, I’m going to classify them into two broad categories and discuss the properties of each: <i>full credential presentation </i>and <i>derived credential presentation</i>.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Full Credential Presentation</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark983">As the name suggests, </a><i>full credential presentations </i>include the entire credential. For presentations that involve more than one credential, each referenced credential is included. This is similar to how we present credentials in the physical world. If Alice is taking out a loan at Certiphi Bank, she’ll show any documents they require in their entirety: her driver’s license, employment verification, and so on.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">To see how a full credential presentation works, let’s examine how a VC is used in a presentation. Here is an example credential (modified from Example 1 in the VC specification) that asserts that the subject, Alice, is an alumna of Example University:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s76" style="padding-top: 5pt;padding-left: 17pt;text-indent: 0pt;text-align: left;">{</p><p class="s76" style="padding-left: 27pt;text-indent: 0pt;text-align: left;">// set the context, which establishes the special terms we will be using</p><p class="s76" style="padding-left: 27pt;text-indent: 0pt;line-height: 106%;text-align: left;">// such as &#39;issuer&#39; and &#39;alumniOf&#39;. &quot;@context&quot;: [</p><p class="s76" style="padding-left: 38pt;text-indent: 0pt;line-height: 106%;text-align: left;"><a href="http://www.w3.org/2018/credentials/v1" class="s77" target="_blank">&quot;https://</a><a href="http://www.w3.org/2018/credentials/examples/v1" class="s77" target="_blank">www.w3.org/2018/credentials/v1&quot;, &quot;https://</a>www.w3.org/2018/credentials/examples/v1&quot;</p><p class="s76" style="padding-left: 27pt;text-indent: 0pt;line-height: 10pt;text-align: left;">],</p><p class="s76" style="padding-left: 27pt;text-indent: 0pt;line-height: 106%;text-align: left;"><a href="http://example.edu/credentials/1872" class="s77" target="_blank">// specify the identifier for the credential &quot;id&quot;: &quot;</a>http://example.edu/credentials/1872&quot;,</p><p class="s76" style="padding-left: 27pt;text-indent: 0pt;line-height: 106%;text-align: left;">// the credential types, which declare what data to expect in the credential &quot;type&quot;: [&quot;VerifiableCredential&quot;, &quot;AlumniCredential&quot;],</p><p class="s76" style="padding-left: 27pt;text-indent: 0pt;line-height: 106%;text-align: left;">// the entity that issued the credential &quot;issuer&quot;: &quot;https://example.edu/issuers/565049&quot;, &quot;issuanceDate&quot;: &quot;2010-01-01T19:23:24Z&quot;,</p><p class="s76" style="padding-left: 27pt;text-indent: 0pt;line-height: 106%;text-align: left;">// claims about the subjects of the credential &quot;credentialSubject&quot;: {</p><p class="s76" style="padding-left: 38pt;text-indent: 0pt;line-height: 106%;text-align: left;">// identifier for the subject of the credential &quot;id&quot;: &quot;did:example:ebfeb1f712ebc6f1c276e12ec21&quot;,</p><p class="s76" style="padding-left: 38pt;text-indent: 0pt;line-height: 106%;text-align: left;">// assertion about the subject of the credential &quot;alumniOf&quot;: {</p><p class="s76" style="padding-left: 49pt;text-indent: 0pt;line-height: 106%;text-align: left;">&quot;id&quot;: &quot;did:example:c276e12ec21ebfeb1f712ebc6f1&quot;, &quot;name&quot;: [{</p><p class="s76" style="padding-left: 60pt;text-indent: 0pt;line-height: 106%;text-align: left;">&quot;value&quot;: &quot;Example University&quot;, &quot;lang&quot;: &quot;en&quot;</p><p class="s76" style="padding-top: 3pt;padding-left: 49pt;text-indent: 0pt;text-align: left;">}]</p><p class="s76" style="padding-left: 38pt;text-indent: 0pt;text-align: left;">}</p><p class="s76" style="padding-left: 27pt;text-indent: 0pt;text-align: left;">},</p><p class="s76" style="padding-left: 27pt;text-indent: 0pt;line-height: 106%;text-align: left;">// digital proof that makes the credential tamper-evident &quot;proof&quot;: {</p><p class="s76" style="padding-left: 38pt;text-indent: 0pt;line-height: 106%;text-align: left;">// the cryptographic signature suite that was used to generate the signature &quot;type&quot;: &quot;RsaSignature2018&quot;,</p><p class="s76" style="padding-left: 38pt;text-indent: 0pt;line-height: 10pt;text-align: left;">&quot;created&quot;: &quot;2017-06-18T21:19:10Z&quot;,</p><p class="s76" style="padding-left: 38pt;text-indent: 0pt;line-height: 106%;text-align: left;">// purpose of this proof &quot;proofPurpose&quot;: &quot;assertionMethod&quot;,</p><p class="s76" style="padding-left: 38pt;text-indent: 0pt;line-height: 106%;text-align: left;">// the identifier of the public key that can verify the signature &quot;verificationMethod&quot;: &quot;https://example.edu/issuers/565049#key-1&quot;,</p><p class="s76" style="padding-left: 38pt;text-indent: 0pt;line-height: 10pt;text-align: left;">// the digital signature value (a JWT)</p><p class="s76" style="padding-left: 49pt;text-indent: -10pt;line-height: 106%;text-align: justify;">&quot;jws&quot;: &quot;eyJhbGciOiJSUzI1NiIsImI2NCI6ZmFsc2UsImNyaXQiOlsiYjY0Il19..TCYt5X sITJX1CxPCT8yAV-TVkIEq_PbChOMqsLfRoPsnsgw5WEuts01mq-pQy7UJiN5mgRxD-WUc X16dUEMGlv50aqzpqh4Qktb3rk-BuQy72IFLOqV0G_zS245-kronKb78cPN25DGlcTwLtj PAYuNzVBAh4vGHSrQyHUdBBPM&quot;</p><p class="s76" style="padding-left: 27pt;text-indent: 0pt;line-height: 10pt;text-align: left;">}</p><p class="s76" style="padding-left: 17pt;text-indent: 0pt;text-align: left;">}</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 4pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Suppose Alice wishes to use this credential at Example University’s website to purchase a T- shirt and receive the alumni discount. If the site, acting as credential verifier, accepts full credential presentations and Alice’s wallet supports full credential presentation, she might present this proof (modified from the VC specification’s Example 2):</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s76" style="padding-top: 5pt;padding-left: 17pt;text-indent: 0pt;text-align: left;">{</p><p class="s76" style="padding-left: 38pt;text-indent: -10pt;line-height: 106%;text-align: left;"><a href="http://www.w3.org/2018/credentials/v1" class="s77" target="_blank">&quot;@context&quot;: [ &quot;https://</a><a href="http://www.w3.org/2018/credentials/examples/v1" class="s77" target="_blank">www.w3.org/2018/credentials/v1&quot;, &quot;https://</a>www.w3.org/2018/credentials/examples/v1&quot;</p><p class="s76" style="padding-left: 27pt;text-indent: 0pt;line-height: 10pt;text-align: left;">],</p><p class="s76" style="padding-left: 27pt;text-indent: 0pt;text-align: left;">&quot;type&quot;: &quot;VerifiablePresentation&quot;,</p><p class="s76" style="padding-left: 27pt;text-indent: 0pt;line-height: 106%;text-align: left;">// the verifiable credential issued in the previous example &quot;verifiableCredential&quot;: [{</p><p class="s76" style="padding-left: 49pt;text-indent: -10pt;line-height: 106%;text-align: left;"><a href="http://www.w3.org/2018/credentials/v1" class="s77" target="_blank">&quot;@context&quot;: [ &quot;https://</a><a href="http://www.w3.org/2018/credentials/examples/v1" class="s77" target="_blank">www.w3.org/2018/credentials/v1&quot;, &quot;https://</a>www.w3.org/2018/credentials/examples/v1&quot;</p><p class="s76" style="padding-left: 38pt;text-indent: 0pt;line-height: 10pt;text-align: left;">],</p><p class="s76" style="padding-left: 38pt;text-indent: 0pt;text-align: left;"><a href="http://example.edu/credentials/1872" class="s77" target="_blank">&quot;id&quot;: &quot;</a>http://example.edu/credentials/1872&quot;,</p><p class="s76" style="padding-left: 38pt;text-indent: 0pt;line-height: 106%;text-align: left;">&quot;type&quot;: [&quot;VerifiableCredential&quot;, &quot;AlumniCredential&quot;], &quot;issuer&quot;: &quot;https://example.edu/issuers/565049&quot;, &quot;issuanceDate&quot;: &quot;2010-01-01T19:23:24Z&quot;,</p><p class="s76" style="padding-left: 38pt;text-indent: 0pt;line-height: 10pt;text-align: left;">&quot;credentialSubject&quot;: {</p><p class="s76" style="padding-left: 49pt;text-indent: 0pt;line-height: 106%;text-align: left;">&quot;id&quot;: &quot;did:example:ebfeb1f712ebc6f1c276e12ec21&quot;, &quot;alumniOf&quot;: {</p><p class="s76" style="padding-left: 60pt;text-indent: 0pt;line-height: 106%;text-align: left;">&quot;id&quot;: &quot;did:example:c276e12ec21ebfeb1f712ebc6f1&quot;, &quot;name&quot;: [{</p><p class="s76" style="padding-left: 71pt;text-indent: 0pt;line-height: 106%;text-align: left;">&quot;value&quot;: &quot;Example University&quot;, &quot;lang&quot;: &quot;en&quot;</p><p class="s76" style="padding-left: 65pt;text-indent: 0pt;line-height: 10pt;text-align: left;">}]</p><p class="s76" style="padding-left: 49pt;text-indent: 0pt;text-align: left;">}</p><p class="s76" style="padding-left: 38pt;text-indent: 0pt;text-align: left;">},</p><p class="s76" style="padding-left: 38pt;text-indent: 0pt;text-align: left;">&quot;proof&quot;: {</p><p class="s76" style="padding-left: 49pt;text-indent: 0pt;line-height: 106%;text-align: left;">&quot;type&quot;: &quot;RsaSignature2018&quot;, &quot;created&quot;: &quot;2017-06-18T21:19:10Z&quot;,</p><p class="s76" style="padding-left: 49pt;text-indent: 0pt;line-height: 10pt;text-align: left;">&quot;proofPurpose&quot;: &quot;assertionMethod&quot;,</p><p class="s76" style="padding-left: 49pt;text-indent: 0pt;line-height: 106%;text-align: left;">&quot;verificationMethod&quot;: &quot;https://example.edu/issuers/565049#key-1&quot;, &quot;jws&quot;: &quot;eyJhbGciOiJSUzI1NiIsImI2NCI6ZmFsc2UsImNyaXQiOlsiYjY0Il19..TCYt5X</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s76" style="text-indent: 0pt;text-align: right;">}</p><p class="s76" style="text-indent: 0pt;text-align: right;">}],</p><p class="s76" style="padding-top: 3pt;padding-left: 14pt;text-indent: 0pt;line-height: 106%;text-align: justify;">sITJX1CxPCT8yAV-TVkIEq_PbChOMqsLfRoPsnsgw5WEuts01mq-pQy7UJiN5mgRxD-WUc X16dUEMGlv50aqzpqh4Qktb3rk-BuQy72IFLOqV0G_zS245-kronKb78cPN25DGlcTwLtj PAYuNzVBAh4vGHSrQyHUdBBPM&quot;</p><p class="s76" style="padding-left: 27pt;text-indent: 0pt;text-align: left;">// digital signature by Alice on the presentation</p><p class="s76" style="padding-left: 27pt;text-indent: 0pt;line-height: 106%;text-align: left;">// protects against replay attacks &quot;proof&quot;: {</p><p class="s76" style="padding-left: 38pt;text-indent: 0pt;line-height: 106%;text-align: left;">&quot;type&quot;: &quot;RsaSignature2018&quot;, &quot;created&quot;: &quot;2018-09-14T21:19:10Z&quot;,</p><p class="s76" style="padding-left: 38pt;text-indent: 0pt;line-height: 10pt;text-align: left;">&quot;proofPurpose&quot;: &quot;authentication&quot;,</p><p class="s76" style="padding-left: 38pt;text-indent: 0pt;text-align: left;">&quot;verificationMethod&quot;: &quot;did:example:ebfeb1f712ebc6f1c276e12ec21#keys-1&quot;,</p><p class="s76" style="padding-left: 38pt;text-indent: 0pt;line-height: 106%;text-align: left;">// &#39;challenge&#39; and &#39;domain&#39; protect against replay attacks &quot;challenge&quot;: &quot;1f44d55f-f161-4938-a659-f8026467f126&quot;, &quot;domain&quot;: &quot;4jt78h47fh47&quot;,</p><p class="s76" style="padding-left: 49pt;text-indent: -10pt;line-height: 106%;text-align: justify;">&quot;jws&quot;: &quot;eyJhbGciOiJSUzI1NiIsImI2NCI6ZmFsc2UsImNyaXQiOlsiYjY0Il19..kTCYt5 XsITJX1CxPCT8yAV-TVIw5WEuts01mq-pQy7UJiN5mgREEMGlv50aqzpqh4Qq_PbChOMqs LfRoPsnsgxD-WUcX16dUOqV0G_zS245-kronKb78cPktb3rk-BuQy72IFLN25DYuNzVBAh 4vGHSrQyHUGlcTwLtjPAnKb78&quot;</p><p class="s76" style="padding-left: 27pt;text-indent: 0pt;line-height: 10pt;text-align: left;">}</p><p class="s76" style="padding-left: 17pt;text-indent: 0pt;text-align: left;">}</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 4pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The structure of the full credential presentation is straightforward. Note that the proof for the presentation is different from the proof for the credential. Both provide a reference to a public key. The credential proof’s key is from the DID document associated with the DID for the issuer of the credential. The proof of the credential is a signature over the credential that allows anyone to ensure it hasn’t been tampered with.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 107%;text-align: left;">The key for the presentation is retrieved from the DID document of the holder (who is also the subject in this case). This key also proves ownership of the subject DID, if the signature on the presentation (<span class="s70">proof </span>in the preceding example) matches the credential subject. The proof of the presentation allows the verifier to ensure the integrity of the presentation. When the verifier sends for the needed information, they provide additional fields called <span class="s70">challenge </span>and <span class="s70">domain</span>, which are included in the proof. This helps to prevent other parties from <i>replaying the presentation</i>—that is, presenting the credential to someone other than the intended verifier.</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">To understand the privacy implications of full credential presentation, consider this modification to the <span class="s70">credentialSubject </span>field in the example to include other claims:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s76" style="padding-left: 17pt;text-indent: 0pt;text-align: left;">&quot;credentialSubject&quot;: {</p><p class="s76" style="padding-left: 49pt;text-indent: 0pt;line-height: 106%;text-align: left;">&quot;id&quot;: &quot;did:example:ebfeb1f712ebc6f1c276e12ec21&quot;, &quot;overallGPA&quot;: {</p><p class="s76" style="padding-left: 60pt;text-indent: 0pt;line-height: 106%;text-align: left;">&quot;id&quot;: &quot;did:example:f4566e12ec21ebfeb1f712abd564&quot;, &quot;GPA&quot;: [{</p><p class="s76" style="padding-left: 71pt;text-indent: 0pt;line-height: 10pt;text-align: left;">&quot;value&quot;: &quot;2.43”</p><p class="s76" style="padding-left: 65pt;text-indent: 0pt;text-align: left;">}]</p><p class="s76" style="padding-left: 49pt;text-indent: 0pt;text-align: left;">},</p><p class="s76" style="padding-left: 49pt;text-indent: 0pt;text-align: left;">&quot;degrees&quot;: {</p><p class="s76" style="padding-left: 60pt;text-indent: 0pt;line-height: 106%;text-align: left;">&quot;id&quot;: &quot;did:example:bc45afe12ec21ebfeb1f7128fed4&quot;, &quot;undergraduate&quot;: [{</p><p class="s76" style="padding-left: 71pt;text-indent: 0pt;line-height: 106%;text-align: left;">&quot;BA&quot;: &quot;Communications”, &quot;Honors&quot;: &quot;NONE”</p><p class="s76" style="padding-left: 65pt;text-indent: 0pt;line-height: 10pt;text-align: left;">}]</p><p class="s76" style="padding-left: 49pt;text-indent: 0pt;text-align: left;">},</p><p class="s76" style="padding-top: 3pt;padding-left: 49pt;text-indent: 0pt;text-align: left;">&quot;alumniOf&quot;: {</p><p class="s76" style="padding-left: 60pt;text-indent: 0pt;line-height: 106%;text-align: left;">&quot;id&quot;: &quot;did:example:c276e12ec21ebfeb1f712ebc6f1&quot;, &quot;name&quot;: [{</p><p class="s76" style="padding-left: 71pt;text-indent: 0pt;line-height: 106%;text-align: left;">&quot;value&quot;: &quot;Example University&quot;, &quot;lang&quot;: &quot;en&quot;</p><p class="s76" style="padding-left: 65pt;text-indent: 0pt;line-height: 10pt;text-align: left;">}]</p><p class="s76" style="padding-left: 49pt;text-indent: 0pt;text-align: left;">}</p><p class="s76" style="padding-left: 17pt;text-indent: 0pt;text-align: left;">}</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 4pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Now Alice’s credential not only identifies her as an alumna but also asserts her grade point average (GPA) and earned degrees. She may not care if the campus website sees her GPA, but she might not want that information revealed to LinkedIn when she uses the credential to prove she has a degree in communications. In a full credential presentation, that data would be included no matter where Alice presents her Example University credential. In the physical world, this is not a big problem, because we don’t expect the cashier at the campus store to remember all the data from every ID she checks. But computers have no such limitation.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark984">Not all credentials need privacy protection that individuals require. Suppose Example University has a credential from the state or national government saying it’s a legitimate educational institution. Or consider a business with a credential from the state saying it’s been legally registered. In these cases, and many others involving organizations, the data in the credential is not private, but public. Example University can share its credential without concern that it’s giving away too much data.</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Derived Credential Presentation</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark131" class="s33" name="bookmark985">Recall that one of the Laws of Identity you learned about in </a><a href="#bookmark131" class="a">Chapter 4</a> is <i>minimal disclosure for a constrained use</i>. This law requires that the verifier constrain their use of the data to those uses to which the holder has agreed. Minimal disclosure also requires that the holder’s wallet not reveal any more than the data needed for that use.<a name="bookmark986">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Going back to our example, if Alice uses her credential to prove that she’s an alumna of Example University at the school’s website, her alumna status is the only data that should be revealed, even if more data is included in the credential. When she uses it at LinkedIn to prove she has a degree in communications, there’s no need to reveal her GPA, which should be kept back.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Alice can’t simply break up the credential, since that will destroy its verifiability via the proof it contains since the proof is based on a digital signature over the entire credential. She could get different credentials from Example University for different purposes, but too many combinations would quickly force Alice’s wallet to manage an explosion of credentials as the number of claims in the full credential grows.</p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;"><a href="#bookmark393" class="s33" name="bookmark987">Fortunately, you’ve already learned in </a><a href="#bookmark393" class="a">Chapter 9</a> <a href="#bookmark1020" class="s33">about a technology that can form the basis for a solution to this dilemma: zero-knowledge proofs (ZKPs).</a><a href="#bookmark1020" class="s42">8</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s104" style="padding-top: 4pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">ZKPs and credentials</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark988">ZKPs aim to reduce the amount of extra information that the verifier can derive from a presentation. For purposes of applying ZKP to credentials, be aware that we’re not usually</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark989">talking about a pure ZKP, which can be characterized as a </a><i>zero-knowledge proof of knowledge </i>(ZKPOK). For example, Alice could prove she knows the circumference of the earth without disclosing the actual value.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;">Instead, credential presentations are more often concerned with proving actual values (Alice’s birthday), derived values (Alice’s age), or even predicates on a value (Alice is over 18). Recall that techniques like <i>zkSNARK </i>allow a prover (the holder) to generate a noninteractive proof that the verifier can authenticate. The proof says that the holder knows a value that satisfies a function, <span class="s70">C</span>, that the verifier supplied. This allows for a much broader class of data exchange than a ZKPOK would allow. Note that this technique allows the verifier to state what it wants to know in the function <span class="s70">C</span>; the impetus is on the holder to prove the values that satisfy that requirement if they can. This provides bounds for constrained use and evidence of consent.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The use of zkSNARK techniques to produce derived attributes that match exactly what the verifier needs, and no more, is a key method for protecting Alice’s privacy and ensuring derived credential presentations meet the law of minimal disclosure for a constrained use.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s104" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Correlation and blinded identifiers</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">One of the privacy risks of full credential presentation is that identifiers are correlatable. In the previous example, the credential’s subject is identified by a DID. If Alice is identified in the credential by the peer DID she gave to Example University, then there’s no way for the verifier, LinkedIn for example, to verify the signature in the proof. They can’t resolve the DID and get the DID document. As a result, full credential presentation requires identifiers that are known to both the issuer and the identifier.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">A universal identifier greatly increases an organization’s ability to correlate data about an individual, so if credential presentation requires a universal identifier, then we are required to trade away privacy to get authentic data. Minimal disclosure is for naught if the verifiers can simply cooperate behind the holder’s back to assemble a dossier.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark875" class="s33" name="bookmark990">In </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 14</span>, you learned that privacy is enhanced if participants in a relationship use a different identifier for each relationship. Derived credentials can solve this problem using <i>blinded identifiers</i>, which ensure the verifier can know that the credential was issued to the presenter, without the issuer and verifier having to share an identifier for the holder.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark991">To use blinded identifiers, Alice’s wallet generates a large random string called a </a><i>link secret </i><a href="#bookmark393" class="s33">and wraps it in a cryptographic commitment. Think of the cryptographic commitment as an envelope. Alice can prove she knows the value of the link secret inside the commitment in zero knowledge, without revealing it, similar to how she could prove she knew the code to unlock the door in Alibaba’s Cave (see </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 9</span>). Alice blinds the commitment by including a random value, called a <i>nonce</i>, with the secret when she generates the cryptographic commitment. This means Alice can generate as many different blinded versions of the link secret as needed simply by changing the value of the nonce.<a name="bookmark992">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Alice never reveals the link secret to any credential issuers or verifiers. When Example University offers a credential to Alice, she provides them a one-use identifier in the form of a</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">blinded link secret she generates just for Example University. When Alice is offered an employee ID as a VC, she gives her employer yet another blinded version of the same link secret.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The use of blinded identifiers in derived credentials has two purposes. First, when Alice presents information from her credentials, she doesn’t provide a raw identifier. Alice can prove, in zero knowledge, that she knows the link secret contained in the blinded identifier that the credential has been issued to. As a result, the verifier gets proof that the credential was issued to Alice.</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Second, Alice can prove that information from her university credential and her employee ID credential are about the same subject, linking the data in the two credentials. Even though each credential contains a different blinded identifier, Alice can prove that the source credentials are all linked by the same link secret, and thus the same person, without giving the verifier a correlatable identifier.</p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark993" class="a">Figure 15-5</a> <span style=" color: #000;">shows the process of presenting a derived credential as a ZKP, based on credentials issued to Alice from Example University and her employer.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="592" height="512" alt="image" src="Image_360.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark993">Figure 15-5. Deriving credentials</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The derived credential contains only the attributes produced by the ZKP. These attributes might be derived from the data the credential holds (for example, <i>Alice is over 18</i>, instead of her actual birthday). Each derived attribute is individually signed so they can be verified and used independently of the overall derived credential.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Combining ZKP with cryptographically blinded identifiers to create a derived credential presentation reduces Alice’s privacy risk and allows her to clearly offer her consent to data sharing, without limiting the verifier’s ability to get authentic data about her.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Answering Trust Questions</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark994">VCs inspire confidence, but many of the transactions people and organizations conduct need more than confidence. This section explores this idea in more detail and shows how verifiers can apply some of the tactics just discussed to gain trust in a transaction.</a><a name="bookmark995">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Suppose Alice’s employer uses VCs and issues a credential that includes claims about her employment status and current salary. Later, Alice applies to her bank for a loan. Before the bank processes the loan, she needs to prove to them that she’s employed and that she makes at least</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">$75,000 per year. The bank can have confidence in the authenticity of the credential and verify it using cryptography.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">But the bank really wants to know whether Alice is actually employed, not just that she has some data, verifiable or not, showing that someone <i>says </i>she is. Answering that question requires promises that the credential exchange can’t keep. Here are a few things Alice or the bank might want to know:</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_361.png"/></span></p><p style="padding-top: 8pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">Alice is a real person.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_362.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_363.png"/></span></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 165%;text-align: left;">The employer is a real business. The bank is a real bank.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_364.png"/></span></p><p style="padding-left: 29pt;text-indent: 0pt;text-align: left;">Alice is employed by the employer.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_365.png"/></span></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">The salary figure comes from the employer.</p><p style="padding-top: 10pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Here are some techniques that Alice and the bank can use to answer these questions:</p><p class="s35" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Alice is a real person.</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">In this exchange, the bank knows Alice is a real person because they have a relationship with her, memorialized by the exchange of peer DIDs. As part of their new customer process, they performed a Know Your Customer (KYC) process as mandated by law. They associate the results of that with the DID Alice gave them to represent her. So, when Alice contacts them with that DID, they know the account belongs to a real person.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Alice’s employer is a real business.</p><p style="padding-top: 3pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Knowing the employer is a real business is a little harder. Even if the bank knows the employer by name, how do they know that the credential was issued by that entity? There are several options. For instance, the employer could have published their public DID on their website or some other well-known location, or the employer could provide the bank, or Alice, with a credential proving its business registration status.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">The bank is a real bank.</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Alice knows the bank is a real bank for the same reason the bank knows Alice is a real person: the DID exchange. One of the important and often overlooked benefits of a DID exchange is that each side can authenticate the other. How did Alice know the bank was a real bank when she opened her account? If she did it physically, then she knew through personal knowledge. If she enrolled online, she might have asked them for a credential or other proof.</p><p class="s35" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Alice is employed by the employer and has a certain salary.</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">The credential itself is making the claim that Alice is employed by the employer and that her salary is a certain amount. The bank would need to verify the credential by validating the credential schema and definition and understanding what they mean. This validation process is internal to the bank.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1316" class="s33">Many of the ways the bank and Alice come to trust each other depend on the governance of the identity ecosystems in which they are participating. In </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 22</span>, I’ll discuss the role governance plays in different identity architectures and how it inspires trust.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">The Properties of Credential Exchange</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark996">The most important property of VCs is their ability to transmit verifiable data. As you’ve seen, our physical-world experience with credentials can limit our thinking about what a credential can be. Any structured data can be transmitted in a VC.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Transferring data in a VC provides more authenticity than merely using a secure connection like TLS. TLS can ensure that the transmission is confidential. If certificates are used by both parties, TLS can also give assurance about who sent and received the message. In that sense, it’s like interactions supported by DIDs. In addition to those properties, data transmission via VC provides the following assurances that have confidence in the authenticity of the data:</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_366.png"/></span></p><p style="padding-top: 8pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">The data has not been tampered with during, before, or after transmission. The VC represents a verifiable packet of data that protects the integrity of the data regardless of how</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_367.png"/></span></p><p style="padding-top: 3pt;padding-left: 29pt;text-indent: 0pt;line-height: 165%;text-align: left;">many times or over what channels it is transmitted. The data is about a specific subject.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_368.png"/></span></p><p style="padding-left: 29pt;text-indent: 0pt;text-align: left;">The presentation is being made by the holder to whom the credential was issued.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_369.png"/></span></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">The data is from a specific issuer who can be identified. The basis for trusting the credential relies on this identification.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_370.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">The data is structured according to a schema that can provide help in understanding what the data means.</p><p style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark997">Credential-based digital identity is </a><i>bottom up</i>. Using credentials, people and organizations can prove things about themselves from what they and others say about them. This is a decided contrast to the <i>top-down </i>approach, where people establish an account with an identity provider and then attach attributes to it. The bottom-up approach provides more flexibility and autonomy.<a name="bookmark998">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark999">The trust model for VCs has six important characteristics that mirror how credentials work in the offline world:</a></p><p class="s35" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Credentials are decentralized and contextual.</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">There is no central authority for all credentials. Every party can be an issuer, a holder, or a verifier. VCs can be adapted to any country, any industry, any community, or any set of trust relationships.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Credential holders are free to choose which credentials to hold and present.</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">People and organizations are in control of the credentials they hold (just as they are with physical credentials), and they determine what to share with whom. This autonomy is a key property of credential exchange. As a result, credential-based identity can be more flexible, more fair, and more inclusive than other forms of identity.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Credential issuers decide on what data is contained in their credentials.</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Anyone can write credential schemas to a VDR. Anyone can create a credential definition based on any of these schemas.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Verifiers make their own trust decisions about which credentials to accept.</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">There’s no central authority who determines what credentials are important or which are used for what purpose.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Verifiers do not need to contact issuers to perform verification.</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Credential verifiers don’t need to have any specific technical, contractual, or commercial relationship with credential issuers. The VDR provides the means to verify the credential</p><p style="padding-top: 3pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">without these relationships.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Credential exchange provides for cross-domain authenticity.</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Credential presentation transfers trust from one domain to another. When Alice presents data from her driver’s license to the bank, she’s giving the bank evidence that they can trust the attributes she’s providing because someone the bank trusts, the state, has authenticated them.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Credential presentation allows attributes from multiple sources to be combined at the holder’s discretion. For example, in addition to her relationship with her employer and bank, Alice likely has a relationship with the state and holds credentials it issues, such as her birth certificate and driver’s license. She might hold credentials from her university representing her transcript. The list of potential credentials that Alice could hold is long and depends on her relationships online and offline. She could have hundreds of relationships and associated credentials in her wallet.</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">She can use any of these, in any combination, to prove things about herself (potentially with minimal disclosure) to any other party who accepts them.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">VC Ecosystems</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1000">Performing decentralized credential exchange online is novel. As I’ve discussed, VC exchange gives people and organizations the freedom and autonomy to create authentication, authorization, and data exchange systems that meet their specific needs. The result is a flexible identity architecture that covers thousands of use cases, even ad hoc use cases, while supporting choice and privacy for identity owners.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark131" class="a" name="bookmark1001">Chapter 4</a> defines an <i>identity metasystem </i>as a system for building identity systems. DIDs and VCs are the twin pillars of an identity metasystem that has the properties that Cameron said an identity metasystem would provide:</p><p class="s35" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Encapsulating protocol</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">The DID and VC specifications define protocols for interaction. An <i>encapsulating </i><a href="#bookmark1160" class="s33">protocol allows other protocols to be defined on top of it. This section will show how a general protocol for credential exchange encapsulates all possible identity systems. </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 19</span> provides details on how protocols can be defined on the metasystem.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Unified user experience</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Credential exchange is a familiar ceremony. Regardless of what kind of identity system you build on the metasystem, credential exchange will happen the same way. Consequently, people using an identity system built on the metasystem know what to expect. As a result, they can intuitively understand how to interact in any given context.</p><p class="s35" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark1002">User choice</a></p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">The definition of consistent ceremonies on top of well-defined protocols like DIDs and VCs allows people and organizations to select appropriate service providers and features. The metasystem allows context-specific scenarios to be built and can even support ad hoc interactions that no one anticipated.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Modular</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Again, the DID and VC standards and their enabling protocols provide for the rise of interchangeable components that are built and operated by various parties.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Polycentric (decentralized)</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: justify;">As discussed above, the identity metasystem is decentralized. Anyone can generate as many DIDs as they need without anyone’s permission. Anyone can function as a credential issuer, holder, or verifier. Each makes their own decisions about how they will use credentials.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">Polymorphic (different data schema)</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Allowing anyone to define credentials with any schema for any reason ensures that credentials can meet the needs of different contexts and vary according to the needs of the situation.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;"><a href="#bookmark1002" class="a">Figure 15-6</a> shows the how the metasystem is used to support identity systems built on top of it. This is often referred to as the <i>self-sovereign identity (SSI) stack</i>.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><table style="border-collapse:collapse;margin-left:123.972pt" cellspacing="0"><tr style="height:75pt"><td style="width:63pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s360" style="padding-top: 3pt;padding-left: 9pt;padding-right: 2pt;text-indent: -6pt;line-height: 92%;text-align: left;">Transaction endorser</p></td><td style="width:65pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s360" style="padding-top: 2pt;padding-left: 7pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Credential</p><p class="s361" style="padding-left: 4pt;text-indent: 0pt;line-height: 62pt;text-align: left;">.<span class="s362">re</span>.<span class="s362">gistry</span></p></td><td style="width:64pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:3pt"><p class="s360" style="padding-top: 3pt;padding-left: 10pt;text-indent: -6pt;line-height: 90%;text-align: left;">Governance authority</p></td><td style="width:65pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:3pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:3pt"><p class="s360" style="padding-top: 2pt;padding-left: 14pt;text-indent: 0pt;text-align: left;">Auditor</p></td><td style="width:63pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:3pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s360" style="padding-top: 3pt;padding-left: 8pt;text-indent: 6pt;line-height: 92%;text-align: left;">Auditor accreditor</p></td></tr></table><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="452" height="131" alt="image" src="Image_371.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="375" height="221" alt="image" src="Image_372.jpg"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="595" height="427" alt="image" src="Image_373.png"/></span></p><p class="s363" style="text-indent: 0pt;line-height: 90%;text-align: left;">Veriffable credential</p><p style="text-indent: 0pt;text-align: left;"/><p class="s363" style="padding-left: 5pt;text-indent: 0pt;line-height: 28pt;text-align: left;">Credential <span class="s364">mi</span></p><p class="s363" style="text-indent: 0pt;line-height: 13pt;text-align: left;">presentation</p><p style="text-indent: 0pt;text-align: left;"/><p class="s363" style="text-indent: 0pt;line-height: 15pt;text-align: left;">Trust</p><p style="text-indent: 0pt;text-align: left;"/><p class="s365" style="text-indent: 0pt;line-height: 16pt;text-align: left;">Identity system</p><p style="text-indent: 0pt;text-align: left;"/><p class="s365" style="text-indent: 0pt;line-height: 91%;text-align: center;">Layer 4: Content-specific governance</p><p style="text-indent: 0pt;text-align: left;"/><p class="s365" style="text-indent: 0pt;line-height: 92%;text-align: center;">Layer 3: Credential exchange</p><p style="text-indent: 0pt;text-align: left;"/><p class="s363" style="text-indent: 0pt;line-height: 15pt;text-align: left;">Trust</p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><span><img width="595" height="309" alt="image" src="Image_374.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="2" height="125" alt="image" src="Image_375.png"/></span></p><p class="s365" style="text-indent: 0pt;line-height: 16pt;text-align: left;">Identity metasystem</p><p style="text-indent: 0pt;text-align: left;"/><p class="s365" style="text-indent: 0pt;line-height: 16pt;text-align: center;">Layer 2:</p><p class="s365" style="text-indent: 0pt;line-height: 91%;text-align: center;">DID-based agent-to-agent protocols</p><p style="text-indent: 0pt;text-align: left;"/><p class="s366" style="text-indent: 0pt;line-height: 15pt;text-align: left;">P2P connection</p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;line-height: 15pt;text-align: left;"><span class="s367" style=" background-color: #019144;">Decentralized identifiers (DIDs)</span></p><p style="text-indent: 0pt;text-align: left;"/><p class="s365" style="padding-left: 10pt;text-indent: 0pt;line-height: 91%;text-align: center;">Layer 1: Verifiable data registry</p><p class="s363" style="padding-top: 13pt;text-indent: 0pt;text-align: left;">Confidence</p><p style="text-indent: 0pt;text-align: left;"/><p class="s60" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: center;">Figure 15-6. SSI stack</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1002" class="s33">The stack in </a><a href="#bookmark1002" class="a">Figure 15-6</a> <a href="#bookmark1160" class="s33">is divided into top and bottom halves. The bottom half, labeled “Identity Metasystem,” contains two layers. Layer 1 is comprised of VDRs and DID exchange— the foundational cryptographic technologies. Layer 2 is comprised of the DID-based agent-to- agent protocols—including, as you’ll learn in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 19</span><span style=" color: #000;">, the protocols for credential issuance and presentation. The identity metasystem inspires cryptographic confidence.</span></p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1002" class="s33">The top half of </a><a href="#bookmark1002" class="a">Figure 15-6</a> <span style=" color: #000;">represents a single identity system built on the metasystem. Any number of identity systems could be built on the metasystem, but they must all follow the model in this diagram. Each identity system has two layers as well. Layer 3 is a context-specific credential exchange and makes up the schema and credential definition for a specific use case.</span></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Layer 4 is the trust framework and may include several actors, as shown in the diagram. These actors all serve to create trust in the identity system, which is defined by the decisions and actions of its architects and operators. The goal is to inspire the required level of trust.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Identity systems are meant to manage relationships. The nature of the relationship determines the precise need for data that must be transferred in a verifiable manner. Businesses define credential-based identity systems all the time, even if they don’t think of them as such. Every form or official piece of paper and every bundle of data transmitted in a workflow is a potential credential. Here are a few examples of common credentials, many of which we’ve used in examples:</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_376.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_377.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_378.png"/></span></p><p style="padding-top: 8pt;padding-left: 29pt;text-indent: 0pt;line-height: 165%;text-align: left;">Employee badges Driver’s licenses Passports</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_379.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_380.png"/></span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 165%;text-align: left;">Wire authorizations Credit cards</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_381.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_382.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_383.png"/></span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 165%;text-align: left;">Business registrations Business licenses College transcripts</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_384.png"/></span></p><p style="padding-left: 29pt;text-indent: 0pt;text-align: left;">Professional licenses, both government and private</p><p style="padding-top: 10pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Here are some others that typically may not be thought of as credentials, but they fit the definition:</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_385.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_386.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_387.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_388.png"/></span></p><p style="padding-top: 8pt;padding-left: 29pt;text-indent: 0pt;line-height: 165%;text-align: left;">Invoices and receipts Purchase orders Airline or train tickets Boarding passes</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_389.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_390.png"/></span></p><p style="padding-top: 3pt;padding-left: 29pt;text-indent: 0pt;line-height: 165%;text-align: left;">Certificates of authenticity for works of art or other valuables Gym (or any) membership cards</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_391.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_392.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_393.png"/></span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 165%;text-align: left;">Movie (or any) tickets Insurance cards Insurance claims</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_394.png"/></span></p><p style="padding-left: 29pt;text-indent: 0pt;text-align: left;">Titles for real property, vehicles, and so on</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_395.png"/></span></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Certificates of provenance for drug ingredients, non-GMO food, ethically sourced coffee, and so on</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_396.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">Prescriptions</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_397.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_398.png"/></span></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 165%;text-align: left;">Fractional ownership certificates for high-value assets CO<span class="s368">2</span> rights and carbon-credit transfers</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_399.png"/></span></p><p style="padding-left: 29pt;text-indent: 0pt;text-align: left;">Contracts</p><p style="padding-top: 10pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Since even a small business might issue receipts or invoices, have customers who use the company website, or issue employee credentials, most businesses will define at least one credential. Others will need many more. There are potentially tens of millions of different credential types. Many will use common schemas, but each credential from a different issuer constitutes a different identity credential for a different context.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1003">Beyond the simple credentials listed above, redeemable credentials could allow issuers to ensure that a credential can be presented only </a><i>N </i>times (a feature often referred to as <i>double-spend- proofing</i>). Redemption use cases include clocking in and out of work, voting in an election, posting an online review, or redeeming a coupon.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Alternatives to DIDs for VC Exchange</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;"><a href="#bookmark1160" class="s33" name="bookmark1004">In my discussions of VCs, I assume DIDs are the underlying identifier in this and later chapters. This implies that DIDComm, the messaging protocol based on DIDs that I’ll discuss in detail in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 19</span>, underlies the exchange of verifiable credentials. This does not have to be the case.</p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/j8-QP" class="s33" target="_blank" name="bookmark1005">The OpenID Foundation has defined protocols on top of OAuth for </a><a href="https://oreil.ly/j8-QP" class="a" target="_blank">issuing</a> <a href="https://oreil.ly/aHrjZ" class="s33" target="_blank">and </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">presenting</span> <a href="#bookmark1021" class="s33">credentials.</a><a href="#bookmark1021" class="s42">9</a><span class="s59"> </span><a href="https://oreil.ly/cuPmX" class="s33" target="_blank">These specifications support the W3C VC data model specification and support both full credential and derived credential presentations. The OpenID specifications allow for other credential formats as well, such as the </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">ISO mobile driver’s license</span><span style=" color: #000;">.</span><a name="bookmark1006">&zwnj;</a><a name="bookmark1007">&zwnj;</a><a name="bookmark1008">&zwnj;</a></p><p class="s59" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1022" class="s33" name="bookmark1009">In addition to defining specifications for issuing and presenting credentials, OpenID for Verifiable Credentials (OpenID4VC) introduces a wallet for holding and presenting credentials.</a><a href="#bookmark1022" class="s42">10</a> <a href="#bookmark765" class="s33">Recall from </a><a href="#bookmark765" class="a">Chapter 13</a><span class="s55"> </span><span class="p">that OpenID Connect (OIDC) redirected interactions between the IdP and RP through a user agent under a person’s control, but there was never an</span><a name="bookmark1010">&zwnj;</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">OIDC-specific user agent. The addition of a wallet allows OpenID4VC to break the link that has traditionally existed between the IdP and RP in the form of federation agreements and an interaction protocol wherein the IdP always knew when a person used OIDC to authenticate at the RP. OpenID4VC offers direct presentation using the wallet.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Extending OAuth and OIDC to support the issuance and presentation of VCs provides for interactions richer than merely supporting authentication. All the use cases we’ve identified for VCs are available in OpenID4VC as well.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/tMK-i" class="s33" target="_blank" name="bookmark1011">In addition to using the OpenID4VC wallet with a traditional OIDC IdP, OpenID has also added a </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">specification for Self-Issued OpenID Providers (SIOP)</span>. A SIOP is an IdP that is controlled by the entity who uses the wallet. A SIOP might use DIDs, KERI, or something else for identifiers. The SIOP allows Alice to control the identifiers and claims she releases to the RP. As with DIDs, a SIOP-based relationship between the RP and Alice is not intermediated by an external, federated IdP as it is in the traditional OIDC model.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">When Alice uses a wallet that supports OpenID4VC and SIOP to present credentials to an RP, the Alice has a relationship with the RP based on a self-issued identity token she creates. SIOP allows Alice to make presentations independent from any specific IdP. As a result, she can present credentials from any issuer to the RP, not just information from a single IdP as is the case in traditional OIDC.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Like any other credential presentation, the RP can verify the fidelity of the credential cryptographically. This can include knowing that it was issued to the wallet Alice is using to make the presentation. The RP also gets the identifier for the credential issuer inside the presentation and must decide whether to trust the information presented.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">To make fidelity and provenance determinations for the credential, the RP will need the public key for the credential issuer as is the case with any credential verification. The VDR in an OpenID4VC credential exchange might be a ledger or other decentralized data store if the presentation uses DIDs, or it might be obtained using PKI or web pages accessible under a domain name controlled by the issuer. Depending on how this is done, the credential issuer might or might not know which credentials the RP is verifying. As I mentioned earlier, the design of the VDR plays a large role in whether credential exchange has all the properties I’ve discussed in this chapter.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">OpenID4VC is an important example of alternatives to DIDComm in VC exchange thanks to OIDC’s large deployment base and developers’ familiarity with its underlying protocols and procedures. Because the W3C specification for VCs does not specify an underlying mechanism for exchanging credentials, others are possible. If you need an alternative, be sure to carefully vet its design to ensure it meets your privacy, authenticity, and confidentiality requirements.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">A Marketplace for Credentials</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1012">Earlier in this chapter, I discussed payments for credentials. While it’s impossible to anticipate every possible credential use case that includes a reciprocal exchange of value, looking at a few</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">use cases is instructive. The following use cases are just for the <span class="s70">holder-pays-issuer </span>pattern, but other patterns, like <span class="s70">verifier-pays-issuer</span>, are possible and would expand the list even more.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Driver’s licenses</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Driver’s licenses are an excellent example of a credential people pay for. There are 112 million licensed drivers in the US alone. If we assume each license costs $30 and is renewed every five years, that’s almost $700 million a year in fees for driver’s licenses.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Memberships</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a href="https://oreil.ly/d1h0P" class="s33" target="_blank">Gym memberships are just one example of a membership credential where the credential holder pays the issuer. Gym membership revenues in the US in 2018 were $32 billion, according to </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Wellness Creative</span>. There are many more membership types that could be built on top of the identity metasystem.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Movie tickets</p><p class="s34" style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a href="https://oreil.ly/AMfzm" class="s33" target="_blank">Movie tickets are another credential that is bought. The </a><a href="https://oreil.ly/AMfzm" class="s31" target="_blank">Hollywood Reporter</a> <span class="p">puts 2021 global box office sales at $21.3 billion, which is 50% less than prepandemic numbers.</span></p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Airline tickets</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a href="https://oreil.ly/--ECv" class="s33" target="_blank">Airline tickets are a special kind of purchased credential. According to the </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">International Air</span><a href="https://oreil.ly/YK4y6" class="s36" target="_blank"> </a><a href="https://oreil.ly/YK4y6" class="a" target="_blank">Transport Association</a><a href="https://oreil.ly/YK4y6" class="s33" target="_blank">, there were 4.1 billion airline passengers in 2017. The </a><a href="https://oreil.ly/YK4y6" class="a" target="_blank">US Department</a><a href="https://oreil.ly/YK4y6" class="s36" target="_blank"> </a><a href="https://oreil.ly/YK4y6" class="a" target="_blank">of Transportation Bureau of Transportation Statistics</a><a href="https://oreil.ly/YK4y6" class="s36" target="_blank"> </a>reports that average airfare was $347 that same year. So, we can estimate that worldwide airfare was about $1.4 trillion in 2017.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Online Sales</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a href="https://oreil.ly/awfLI" class="s33" target="_blank">Online sales can be accomplished using a holder-pays-issuer credential exchange. If paying for a receipt issues a credential equal to the amount of the order, you could view all ecommerce payments as a form of paid credential issuance. Linking payment to a credential and placing it inside a wallet that emphasizes relationships and credential management may make credential-related payments an important component of online retail—a significant one, given that US online retail sales were </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">$870.78 billion in 2021</span>.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">These are just a few potential use cases where credentials and value are exchanged. While not all of these will necessarily come to pass, it’s easy to conclude that the potential marketplace for credentials is in the trillions of dollars. The identity metasystem, with its mutually authenticated messaging protocol, is an excellent platform for supporting workflows that involve commercial</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">credential exchange.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 10pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">VCs Expand Identity Beyond Authn and Authz</p><p class="s55" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark131" class="s33">Physical credentials are indispensable in modern society, and the VC standard brings their power to the digital world. More importantly, when we combine VCs with DIDs, we get an identity metasystem that meets the requirements set out in </a><a href="#bookmark131" class="a">Chapter 4</a> <span style=" color: #000;">and aligns with the Laws of Identity. In the next chapter, we will explore identity architectures to understand the properties of traditional identity systems and the identity metasystem.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="624" height="1" alt="image" src="Image_400.png"/></span></p><ol id="l32"><li><p class="s45" style="padding-top: 5pt;padding-left: 32pt;text-indent: -11pt;text-align: left;"><a name="bookmark1013">Names are attributes, not identifiers, since there can be many people with the same name.</a></p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark1014">For example, driver’s licenses used to be laminated in a way so that the top layer could be peeled back, the photo or other information changed, and then relaminated. Newer designs use a process where doing that would result in a license that had obviously been tampered with.</a></p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark1015">The JavaScript Object Notation, or JSON, is the syntax used to represent structured data in JavaScript. JSON has become a widely used method for representing structured data outside of JavaScript as well.</a></p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 32pt;text-indent: -11pt;text-align: left;"><a name="bookmark1016">Hardman calls this dimension the </a><i>perspective of the holder</i>.</p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark1017">People may or may not have public DIDs. Organizations will usually have public DIDs and also peer DIDs for each of the many relationships they have.</a></p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark1018">The VC specification does </a><i>not </i>require the use of a VDR, but VC methods that do not use a VDR cannot preserve holder privacy as well as those that do.</p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark1019">In computer security, </a><i>phoning home </i>is the process of an application contacting its maker’s computer to provide information. This might be welcome (your smartphone reporting its location so you can find it if it’s missing) or unwelcome, such as hacking (a virus reporting its findings to its creator) or surveillance (like tracking cookies do in ad- supported sites).</p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark1020">This section describes a method of creating derived credentials called </a><i>AnonCreds</i><a href="https://oreil.ly/s9lHF" class="s68" target="_blank">.</a><a href="https://oreil.ly/s9lHF" class="s46" target="_blank"> </a><a href="https://oreil.ly/s9lHF" class="s47" target="_blank">AnonCreds are based on a </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 9pt;">specification</span> developed at Hyperledger as a means of supporting derived credentials in the Indy and Aries projects. Other groups are pursuing other types of derived credentials with technical differences, but the overall design goals are similar. I’ll focus on one method here since the point is for you to understand the goals and broad techniques rather than the specific cryptographic methods.</p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 32pt;text-indent: -11pt;text-align: left;"><a name="bookmark1021">Recall that OpenID Connect is based on OAuth.</a></p></li><li><p style="padding-top: 6pt;padding-left: 27pt;text-indent: -12pt;text-align: left;"><a href="https://oreil.ly/xgf9S" style=" color: black; font-style: normal; font-weight: normal; text-decoration: none;" target="_blank" name="bookmark1022">	</a><a href="https://oreil.ly/xgf9S" class="s68" target="_blank">For details on OpenID4VC, I recommend the introductory white paper from the OpenID Foundation:</a><a href="https://oreil.ly/xgf9S" class="s46" target="_blank"> </a><a href="https://oreil.ly/xgf9S" class="s52" target="_blank">OpenID for Verifiable Credentials: A Shift in the Trust Model Brought by Verifiable Credentials</a><a href="https://oreil.ly/xgf9S" class="s256" target="_blank"> </a><a href="https://oreil.ly/xgf9S" class="s68" target="_blank">(June 23, 2022).</a></p></li></ol><p class="s21" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark1023">Chapter 16. Digital Identity Architectures</a><a name="bookmark1024">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="624" height="1" alt="image" src="Image_401.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1025">John Locke was an English philosopher who thought a lot about power: who had it, how it was used, and how it impacted the structure of society. Locke’s theory of mind forms the foundation for our modern ideas about identity and independence. He argued that “sovereign and independent” was humanity’s natural state and that we gave up freedom, our sovereignty, in exchange for something else: protection, sociality, and commerce, among others. This grand bargain forms the basis for any society.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark32" class="s33">This question of power and authority is vital in identity systems. You might ask, “What do I give up, and to whom, in a given identity system?” More succinctly: who controls what? </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 2</span> introduced the ideas of <i>locus of control </i>and <i>self-sovereign identity</i>. An SSI system, you may recall, defines the things over which an entity (person or organization) has complete control, along with the rules of engagement for its relations with other entities. This chapter explores the details of three abstract identity architectures to better understand the locus of control in each.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/gs7fw" class="s33" target="_blank">In addition, we’ll consider the legitimacy of each architecture for online interactions. </a><a href="https://oreil.ly/gs7fw" class="a" target="_blank">Wikipedia</a><a href="https://oreil.ly/gs7fw" class="s36" target="_blank"> </a><a href="https://oreil.ly/gs7fw" class="a" target="_blank">defines </a><a href="https://oreil.ly/gs7fw" class="s31" target="_blank">legitimacy</a><a href="https://oreil.ly/gs7fw" class="s54" target="_blank"> </a><a href="#bookmark608" class="s33">as “the right and acceptance of an authority, usually a governing law or a regime.” While the idea of legitimacy is most often applied to governments, I think we can rightly pose legitimacy questions about technical systems, especially those that function in an authoritative manner and have large effects on people and society. If an identity system is not seen as legitimate, the people and organizations using it will be unable to act because others will not recognize their actions as authentic. This is one of the primary reasons identity systems use the authentication methods discussed in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 11</span>.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">The Trust Basis for Identifiers</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1026">Previous chapters have discussed </a><i>identifiers </i><a href="#bookmark1053" class="s33">and their properties. Identifiers help a computer system to remember and discover things—anything from people to devices to database records. You’ve learned that identifiers are convenient handles that uniquely name the thing being remembered within a namespace. The namespace gives context to its identifiers, since the same string of characters might be a phone number in one system and a product ID in another.</a><a href="#bookmark1053" class="s42">1</a><a name="bookmark1027">&zwnj;</a></p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 16-1</span> <span style=" color: #000;">shows the relationships between a controller, authentication factors, and an identifier. An identifier is issued to or created by a controller who, by virtue of knowing the authentication factors, can make authoritative statements about it. For example, when Alice authenticates to her employer’s financial system, she is claiming an identifier within that system. People, organizations, software systems, devices, and other things can be controllers. The controller might be the subject of the identifier, but not necessarily. As you learned in</span></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1028"><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 11</span></a>, the authentication factors might include a password, key fob, cryptographic keys, or something else. The strength and nature of the <i>bindings </i>between the controller, authentication factors, and identifier determine the strength and nature of the relationships built on top of them.</p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="591" height="476" alt="image" src="Image_402.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark1029">Figure 16-1. Binding of controller, authentication factors, and identifiers in identity systems</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1030">To understand why that’s so, I introduce the concept of a </a><a href="#bookmark1054" class="s32">root of trust.</a><a href="#bookmark1054" class="s42">2</a><span class="s59"> </span><a href="#bookmark1029" class="s33">A root of trust is a foundational component or process in the identity system on which other components of the system rely and whose failure would compromise the integrity of the bindings depicted in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 16-1</span>. A root of trust might be primary or secondary, depending on whether it is <i>replaceable</i>. Primary roots of trust are irreplaceable. A system may have several roots of trust depending on its architecture. Together, the roots of trust form the <i>trust basis </i>for the system.<a name="bookmark1031">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1032">An identity system’s trust basis underlies a particular </a><i>trust domain</i>: the set of digital activities that depend on the binding of the controller to the identifier. For example, binding a customer to an identifier allows Amazon to trust that the actions linked to the identifier are authorized by the customer (controller). Another way to look at this is that the strength of the CI (controller- identifier) binding determines the risk that Amazon assumes in honoring those actions.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The strength of the CI binding depends on the strength of the AC (authorization factor- controller) and IA (identifier-authorization factor) bindings. Attacking either of those bindings reduces the trust we can place in the CI binding and increases the risk that actions taken through a particular identifier are unauthorized.</p><p class="s48" style="padding-top: 4pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Identity Architectures</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1033">We can broadly classify identity systems into one of three types, based on their architecture and primary root of trust:</a></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_403.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_404.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_405.png"/></span></p><p style="padding-top: 8pt;padding-left: 29pt;text-indent: 0pt;line-height: 165%;text-align: left;">Administrative Algorithmic Autonomic</p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/A53bi" class="s33" target="_blank">Both algorithmic and autonomic are SSI systems. They are distinguished by their trust bases. Some SSI systems use one or the other, and some (like the </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Sovrin Network</span>) are hybrid, employing each for different purposes. We’ll discuss the properties of the trust basis for each of these to understand the comparative legitimacy of SSI and traditional administrative ones.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1034">These architectures differ in who controls what. This difference, which is called </a><i>control authority</i>, is the primary factor in determining the basis for trust in each architecture. The entity with control authority takes action through operations that affect the creation (inception), updating, rotation, revocation, deletion, and delegation of the authentication factors and their relation to the identifier. How these events are ordered and their dependence on previous operations is important. The record of these operations is the source of truth for the identity systems.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Administrative Architecture</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1035">Identity systems with an </a><i>administrative architecture </i>rely on an administrator to bind the identifier to the authentication factors. The administrator is the primary root of trust for any domain with an administrative architecture. Almost every identity system in use today has an administrative architecture, and their trust basis is founded on the administrator. The administrator is not necessarily a person. Often, it’s a software system written to implement rules and policies that the organization controlling it enacts.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 106%;text-align: left;"><a href="mailto:bob@example.com" class="s33" target="_blank">For example, when Alice sends an email to </a><a href="mailto:bob@example.com" class="s255" target="_blank">bob@example.com</a>, she wants Bob to receive it and no one else. She relies on the administrator of <span class="s49">example.com </span>to ensure the authenticity of the binding between Bob and his email address. In most cases, we are required to <i>trust </i>the administrator of <span class="s49">example.com </span>rather than have <i>confidence </i>in the binding, because the system that authenticates Bob is not transparent.</p><p class="s55" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 16-2</span> <span style=" color: #000;">shows the interactions between the controller, identifier, and authentication factors in an administrative identity system, including the role of the administrator, and the impact these have on the strength of the bindings. The controller usually generates the authentication factors by choosing a password, linking a two-factor authentication (2FA) mechanism, or generating keys.</span></p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="592" height="730" alt="image" src="Image_406.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark1036">Figure 16-2. The trust basis in administrative identity systems</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Even though the identifier might be the controller’s email address, phone number, public key, or other ID, the administrator “assigns” the identifier to the controller, because it is their policy that determines which identifiers are allowed, whether they can be updated, and their legitimacy within the identity system’s domain. The administrator controls the identifier within the domain. The administrator also asserts the IA binding. An employee’s mistake, a policy change, or a hack</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1055" class="s33" name="bookmark1037">could affect either the IA or CI bindings. Consequently, these bindings are relatively weak (indicated by the dotted lines in the figure). Only the AC binding is strong—because the controller generates the authentication factors.</a><a href="#bookmark1055" class="s42">3</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1038">The administrator’s primary duty is to authoritatively assert the binding between the controller and identifier. Authoritative control statements about the identifier are recorded in the administrator’s database, the </a><i>source of truth </i><a href="#bookmark393" class="s33">in the system, and are subject to change by software, employees, and hackers. The administrator might be an ecommerce site that maintains an identity system as the basis for its customers’ accounts. In this case, the binding is private, and its integrity is of interest only to the site and its customers. Alternatively, the administrator might provide federated login services. In this case, the administrator is asserting the CI binding in a semipublic manner to anyone who relies on the federated login. A certificate authority is an example of an administrator who publicly asserts the CI binding, signing a digital certificate to that effect (as you learned in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 9</span>).</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1039">Because the administrator is responsible for binding the identifier to both the authentication factors and the controller, the administrator is the primary root of trust and thus the basis for trust in the overall system. Regardless of whether the binding is private, semipublic, or public, the integrity of the binding entirely depends on the administrator, the security of their infrastructure, the strength of their policies, the performance of their employees, and their continued existence. The failure of any of those can jeopardize the binding, rendering the identity system unusable.</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Algorithmic Architecture</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1040">Identity systems that rely on a verified data registry (VDR) have an </a><i>algorithmic architecture</i>. As you learned in the previous chapter, any algorithmically controlled, distributed, consensus-based data store, such as a public or private blockchain, a distributed filesystem, or a database, might serve as a VDR. Of course, the registry is more than algorithms. Algorithms are embodied in code, written by people, running on servers. How the code is written, its availability to scrutiny, and how it is executed all impact the trust basis for the system. “Algorithmic” is just shorthand for all of this.</p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 16-3</span> <span style=" color: #000;">shows how the controller, authentication factors, identifier, and VDR are bound in an identity system with an algorithmic architecture. As in the administrative identity system, the controller generates the authentication factors, albeit usually in the form of a public-private key pair associated with a DID or other cryptographic identifier. The controller holds, but never shares, the private key. The public key, on the other hand, is used to derive an identifier. Both the public and private keys are registered on a VDR. This registration is the inception of the CI binding, since the controller can use the private key to assert their control over the identifier.</span></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;">Anyone with access to the VDR can determine algorithmically that the CI binding is authentic.</p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="592" height="719" alt="image" src="Image_407.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark1041">Figure 16-3. The trust basis in algorithmic identity systems</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">In an <i>algorithmic </i><a href="#bookmark875" class="s33">identity architecture, the controller makes authoritative control statements about the identifier using their private key. Events that mark creating, updating, or retiring the keys are recorded in the VDR. For DIDs, these are structured as a DID document, as shown in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 14</span>. The VDR becomes the source of truth for anyone interested in the binding between the identifier and public key.</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark393" class="s33">For VDRs based on public blockchains, no single party has the power to unilaterally decide how to make, modify, or delete the records binding the keys and identifier. Furthermore, as you learned in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 9</span>, the blockchain orders blocks, so that anyone inspecting the blockchain can verify which actions happened first. Public blockchains rely on code executed in a decentralized manner to make decisions about the binding records. The nature of the algorithm, the way the code is written, and the methods and rules for its execution all impact the integrity of the algorithmic identity system and, consequently, any bindings that it records.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Autonomic Architecture</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1042">Identity systems with an </a><i>autonomic </i><a href="#bookmark1043" class="s33">architecture function similarly to those with an algorithmic architecture. As shown in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 16-4</span>, the controller generates a public-private key pair, derives a globally unique identifier, and shares the identifier and the currently associated public key with the other parties in the relationships the controller is joining.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="592" height="494" alt="image" src="Image_408.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark1043">Figure 16-4. Trust basis in autonomic identity systems</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The controller uses their private key to authoritatively and nonrepudiably sign statements about the operations on the keys and their binding to the identifier, storing those in an ordered backing</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;"><a href="#bookmark1056" class="s33" name="bookmark1044">store or key event log.</a><a href="#bookmark1056" class="s42">4</a><span class="s59"> </span>One of the important realizations that make autonomic identity systems possible is that the backing store must be ordered <i>only </i>in the context of a single identifier, not globally. So, a VDR is not needed to record operations on identifiers that are not public.</p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Remember, the backing store can be shared with and verified by anyone who needs it.</p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark875" class="s33" name="bookmark1045">Using a digital signature, the controller can respond to challenges cryptographically, with digital signatures that prove their control of the identifier. As I discussed in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 14</span>, its self- authentication and self-authorization capabilities make the identifier self-certifying and self- managing. As a result, no external third party, not even a VDR, is needed for the controller to manage and use the identifier and prove the integrity of the bindings between themselves and the identifier. Thus anyone (any entity) can create and establish control over an identifier namespace in a manner that is independent, interoperable, and portable without recourse to any central authority. Autonomic identity architectures thus rely solely on <i>self-sovereign authority</i>.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Autonomic identity architectures have several advantages over algorithmic and administrative architectures. Let’s look at them in more detail:</p><p class="s35" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Self-certification</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">Autonomic identity architectures are self-certifying, so there is no reliance on a third party.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Self-administration</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">An identity system based on an autonomic identity architecture is administered by the controller. No other parties need to be involved. Even if the controller takes advantage of cloud services for portions of the job, those can be built to be interoperable and substitutable, so that the controller is the sole administrator with access to keys and other vital information.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Low cost</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">Autonomic identifiers are virtually free to create and manage.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Security</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Because the keys are decentralized, there is no trove of secrets that can be stolen. That’s not to say that an individual can’t be hacked, but there’s no large database of secrets to attract hackers like there is for administrative identity architectures.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Regulatory compliance</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a href="#bookmark291" class="s33">Since autonomic identifiers need not be publicly shared or stored in an organization’s database, regulatory concern over personal data can be reduced. As you learned in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 8</span>, GDPR and other regulatory regimes can significantly increase the overhead cost for identity systems.</p><p class="s35" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Scalability</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Autonomic identifiers scale with the combined computing capacity of all participants, not some central system. The decentralized nature of their architectures gives them virtually unlimited scaling capabilities.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Independent</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Autonomic identity architectures do not depend on any specific technology. Many different cryptographic algorithms and processes can be used to implement them.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Offline operation</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Systems based on an autonomic identity architecture can operate peer-to-peer without the need to be online. The backing store and deltas ensure that peers can operate without relying on an external system. Consequently, Alice can form an autonomic peer relationship with a door in a basement without WiFi, through Bluetooth, and both Alice and the door can verify the authenticity of their interactions.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Algorithmic and Autonomic Identity in Practice</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;"><a name="bookmark1046">We are all familiar with administrative identity systems. We use them all the time. Algorithmic and autonomic identity architecture are less familiar.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;">There are several parallel development efforts supporting algorithmic and autonomic identifiers. As you may recall, the DID specification is the primary guide to algorithmic identifiers that live on a VDR. It provides for many DID methods that allow DIDs to live on a variety of data stores. DIDs have a number of important properties that make them ideal as algorithmic identifiers: they are nonreassignable, resolvable, cryptographically verifiable, and decentralized.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">When used as algorithmic identifiers, DIDs allow the controller to cryptographically make authoritative statements about the identifier and the keys to which it is bound by recording statements in the VDR. The VDR provides a record of the key events that anyone with access to it can evaluate. The record is usually public, since the purpose of putting it in a VDR is to allow parties who don’t have an existing relationship to evaluate the identifier and its linkage to the controller and public keys.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Most digital relationships are peer to peer and should use autonomic identifiers. Peer DIDs and KERI are two leading proposals for autonomic identifiers that have the required properties to function as the basis for an autonomic identity system.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Recall that verifiable credential (VC) issuers need a public identifier. That public identifier will be algorithmic and stored in a VDR. Algorithmic identifiers allow for public discovery of identifier properties when relationships are not peer to peer.</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><span class="s62" style=" background-color: #FDFDDF;">As an example of how algorithmic and autonomic identity systems interact, consider the Sovrin</span><span class="p"> </span><span class="s62" style=" background-color: #FDFDDF;">Network. The Sovrin ledger (serving as the VDR) records public DIDs for VC issuers. But</span><span class="p"> </span><span class="s62" style=" background-color: #FDFDDF;">people, organizations, and things form relationships using peer DIDs without a need for the</span><span class="p"> </span><span class="s62" style=" background-color: #FDFDDF;">ledger. This hybrid use of both algorithmic and autonomic identity systems was designed so that</span><span class="p"> </span><span class="s62" style=" background-color: #FDFDDF;">credential exchange would be practical, secure, and private, while reducing the correlation that</span><span class="p"> </span><span class="s62" style=" background-color: #FDFDDF;">might occur if individuals used a few DIDs on a public VDR.</span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;">Going one step further, the entities participating in a relationship based on autonomic identifiers will still use an account system to link those identifiers to other information the enterprise needs to remember to give the relationship utility. The account system is, by nature, administrative.</p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;"><a href="#bookmark1098" class="s33">Chapters </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">18</span> <a href="#bookmark1160" class="s33">and </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">19</span> <span style=" color: #000;">will discuss the nature and operation of relationships in SSI systems and show how these three architectures work together.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">Comparing Identity Architectures</p><p class="s55" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1047"><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Table 16-1</span></a> <span style=" color: #000;">summarizes the trust bases of administrative, algorithmic, and autonomic architectures. Notice that the locus of control, source of truth, root of trust, and trust basis differ for each.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark1048">Table 16-1. Trust bases of administrative, algorithmic, and autonomic identity architectures</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><table style="border-collapse:collapse;margin-left:5.00017pt" cellspacing="0"><tr style="height:16pt"><td style="width:133pt;border-top-style:solid;border-top-width:1pt;border-top-color:#9C9C9C;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#9C9C9C"><p class="s71" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Property</p></td><td style="width:93pt;border-top-style:solid;border-top-width:1pt;border-top-color:#9C9C9C;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#9C9C9C"><p class="s71" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Administrative</p></td><td style="width:78pt;border-top-style:solid;border-top-width:1pt;border-top-color:#9C9C9C;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#9C9C9C"><p class="s71" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Algorithmic</p></td><td style="width:78pt;border-top-style:solid;border-top-width:1pt;border-top-color:#9C9C9C;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#9C9C9C"><p class="s71" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Autonomic</p></td></tr><tr style="height:16pt"><td style="width:133pt;border-top-style:solid;border-top-width:1pt;border-top-color:#9C9C9C;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3"><p class="s72" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Locus of control (control authority)</p></td><td style="width:93pt;border-top-style:solid;border-top-width:1pt;border-top-color:#9C9C9C;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3"><p class="s72" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Administrator</p></td><td style="width:78pt;border-top-style:solid;border-top-width:1pt;border-top-color:#9C9C9C;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3"><p class="s72" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Controller</p></td><td style="width:78pt;border-top-style:solid;border-top-width:1pt;border-top-color:#9C9C9C;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3"><p class="s72" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Controller</p></td></tr><tr style="height:16pt"><td style="width:133pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3" bgcolor="#F0F6FB"><p class="s72" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Source of truth</p></td><td style="width:93pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3" bgcolor="#F0F6FB"><p class="s72" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Administrative database</p></td><td style="width:78pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3" bgcolor="#F0F6FB"><p class="s72" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">VDR</p></td><td style="width:78pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3" bgcolor="#F0F6FB"><p class="s72" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Backing store</p></td></tr><tr style="height:16pt"><td style="width:133pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3"><p class="s72" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Root of trust</p></td><td style="width:93pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3"><p class="s72" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Administrator</p></td><td style="width:78pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3"><p class="s72" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">VDR</p></td><td style="width:78pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3"><p class="s72" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Controller</p></td></tr><tr style="height:16pt"><td style="width:133pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3" bgcolor="#F0F6FB"><p class="s72" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Trust basis</p></td><td style="width:93pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3" bgcolor="#F0F6FB"><p class="s72" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Administrator</p></td><td style="width:78pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3" bgcolor="#F0F6FB"><p class="s72" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">VDR/Cryptography</p></td><td style="width:78pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3" bgcolor="#F0F6FB"><p class="s72" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Cryptography</p></td></tr></table><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">For administrative architectures, the administrator is directly in control of all four of these. In an algorithmic architecture, the controller is the locus of control because the VDR is designed to allow the controller to be in charge of all key operations. Sometimes this is done using special administrative keys instead of the keys associated with the identifier. The organizations or people operating the VDR should <i>never </i>have access to the keys necessary to unilaterally change the record of operations. No third party is involved in autonomic identity architecture. The players are all software systems directly under the control of the controller.</p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Table 16-2</span> <a href="#bookmark291" class="s33">summarizes the architectural properties of administrative, algorithmic, and autonomic identity systems. We can see from the evaluation that algorithmic and autonomic architectures are decentralized while the administrative system has a single point of failure—the third-party administrator. Administrative systems also rely on privacy by policy, rather than on building privacy-preserving features into the architecture. And, as </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 8</span> <span style=" color: #000;">discussed, all too often, privacy is in direct conflict with the administrator’s profit motive. This can lead to weak privacy policies.</span></p><p class="s35" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark1049">Table 16-2. Architectural properties of administrative, algorithmic, and autonomic identity systems</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><table style="border-collapse:collapse;margin-left:5.00019pt" cellspacing="0"><tr style="height:16pt"><td style="width:122pt;border-top-style:solid;border-top-width:1pt;border-top-color:#9C9C9C;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#9C9C9C"><p class="s71" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Property</p></td><td style="width:72pt;border-top-style:solid;border-top-width:1pt;border-top-color:#9C9C9C;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#9C9C9C"><p class="s71" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Administrative</p></td><td style="width:71pt;border-top-style:solid;border-top-width:1pt;border-top-color:#9C9C9C;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#9C9C9C"><p class="s71" style="padding-top: 2pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">Algorithmic</p></td><td style="width:89pt;border-top-style:solid;border-top-width:1pt;border-top-color:#9C9C9C;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#9C9C9C"><p class="s71" style="padding-top: 2pt;padding-left: 13pt;text-indent: 0pt;text-align: left;">Autonomic</p></td></tr><tr style="height:16pt"><td style="width:122pt;border-top-style:solid;border-top-width:1pt;border-top-color:#9C9C9C;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3"><p class="s72" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Centralized</p></td><td style="width:72pt;border-top-style:solid;border-top-width:1pt;border-top-color:#9C9C9C;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3"><p class="s72" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Yes</p></td><td style="width:71pt;border-top-style:solid;border-top-width:1pt;border-top-color:#9C9C9C;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3"><p class="s72" style="padding-top: 2pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">No</p></td><td style="width:89pt;border-top-style:solid;border-top-width:1pt;border-top-color:#9C9C9C;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3"><p class="s72" style="padding-top: 2pt;padding-left: 13pt;text-indent: 0pt;text-align: left;">No</p></td></tr><tr style="height:16pt"><td style="width:122pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3" bgcolor="#F0F6FB"><p class="s72" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Relies on human for validation</p></td><td style="width:72pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3" bgcolor="#F0F6FB"><p class="s72" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Yes</p></td><td style="width:71pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3" bgcolor="#F0F6FB"><p class="s72" style="padding-top: 2pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">No</p></td><td style="width:89pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3" bgcolor="#F0F6FB"><p class="s72" style="padding-top: 2pt;padding-left: 13pt;text-indent: 0pt;text-align: left;">No</p></td></tr><tr style="height:16pt"><td style="width:122pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3"><p class="s72" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Private by design</p></td><td style="width:72pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3"><p class="s72" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">No</p></td><td style="width:71pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3"><p class="s72" style="padding-top: 2pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">Yes</p></td><td style="width:89pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3"><p class="s72" style="padding-top: 2pt;padding-left: 13pt;text-indent: 0pt;text-align: left;">Yes</p></td></tr><tr style="height:16pt"><td style="width:122pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3" bgcolor="#F0F6FB"><p class="s72" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Relies on operational third party</p></td><td style="width:72pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3" bgcolor="#F0F6FB"><p class="s72" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Yes</p></td><td style="width:71pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3" bgcolor="#F0F6FB"><p class="s72" style="padding-top: 2pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">Yes</p></td><td style="width:89pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3" bgcolor="#F0F6FB"><p class="s72" style="padding-top: 2pt;padding-left: 13pt;text-indent: 0pt;text-align: left;">No</p></td></tr></table><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Power and Legitimacy</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/8cuay" class="s33" target="_blank" name="bookmark1050">I started this chapter talking about power and legitimacy. In a blog post entitled </a><a href="https://oreil.ly/8cuay" class="a" target="_blank">“The Most</a><a href="https://oreil.ly/8cuay" class="s36" target="_blank"> </a><a href="https://oreil.ly/8cuay" class="a" target="_blank">Important Scarce Resource Is Legitimacy”</a>, Vitalik Buterin, creator of the cryptocurrency Ethereum, discusses why legitimacy is crucial for the success of any decentralized endeavor, noting that the “Bitcoin and Ethereum ecosystems are capable of summoning up billions of dollars of capital, but have strange and hard-to-understand restrictions on where that capital can go.”</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">These “strange and hard-to-understand restrictions” are rooted in legitimacy. Decentralized systems must be considered legitimate to thrive. Their legitimacy is tied to how well the systems and the people enabling them, like programmers and miners, are seen to be following the rules, both written and unwritten. Legitimacy isn’t a technical issue; it’s a social one.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">With respect to legitimacy, constitutional scholar Philip Bobbitt says:</p><p style="padding-top: 10pt;padding-left: 11pt;text-indent: 0pt;text-align: left;"><a href="#bookmark1057" class="s32" name="bookmark1051">The defining characteristic…of a constitutional order is its basis for legitimacy. The constitutional order of the industrial nation state, within which we currently live, promised: give us power and we will improve the material well-being of the nation.</a><a href="#bookmark1057" class="s66">5</a></p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;">In other words, legitimacy comes from the constitutional order: the structure of the governance and its explicit and implicit promises. People grant legitimacy to constitutional orders that meet their expectations by surrendering part of their sovereignty to them.</p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1059" class="s33">From the discussion in the chapter and the summary tables above, you can see that power—their locus of control—is held very differently in these three architectures. In an administrative system, the administrator holds all the power. </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 17</span> <span style=" color: #000;">will argue that the architecture of an identity system directly impacts the quality and utility of the digital relationships it supports.</span></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Specifically, the power imbalance inherent in administrative identity systems yields anemic relationships. In contrast, the balance of power engendered by SSI systems (both algorithmic and autonomic) yields richer relationships, since all parties can contribute to it.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Clearly, administrative identity systems have legitimacy—if they didn’t, no one would use or trust them. As new architectures, algorithmic and autonomic systems have yet to prove themselves through usage. But, as Bobbitt says, we can evaluate each architecture in terms of the promises it makes and how well it does in fulfilling the purposes of any identity system: recognizing, remembering, and relying on other parties in the relationship. These are largely a</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">function of the trust basis for the architecture and the specific choices made when implementing a system within a given architecture.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Administrative systems promise an account that the controller can use to act so long as it’s permitted by the administrator. They also usually promise that these accounts will be secure and private. But people and organizations are increasingly concerned with privacy, and seemingly daily news reports of security breaches are chipping away at that legitimacy. The privacy promise is often quite limited. Since the administrator is the basis for trust, administrative systems allow the administrator to recognize, remember, and rely on the identifier, depending on the overall security of the administrator and its systems. But the account holder does not get any support from the administrative system in recognizing, remembering, or relying on the administrator. The relationship is slanted toward the administrator, an idea I’ll explore in detail in the next chapter.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1052">SSI systems promise to give anyone the means to create online relationships securely and privately, and to trustworthily share self-asserted and third-party-attested attributes with whomever they chose using VCs. These promises are embodied in the property I’ve called </a><i>fidelity</i>. To the extent that algorithmic and autonomic identity systems deliver on these promises, they are seen as legitimate.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Both algorithmic and autonomic identity systems provide strong means for recognizing, remembering, and relying on identifiers in the relationship. Participants in an algorithmic system must trust the VDR as the primary root of trust and the trust basis. Clearly, our trust in the VDR will depend on many factors, including the code used to implement it and the governance process that controls its operation.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The trust basis for autonomic identity systems is cryptography. This implies that digital key management is an important factor in their legitimacy. If people and organizations cannot easily manage the keys in such a system, they will not trust it.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Hybrid Architectures</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">In this chapter, I’ve explored the high-level architectures of the identity systems in use today, as well as new designs that promise richer, more authentic online relationships, better security, and more privacy. By exploring the trust bases that arise from these architectures, we’ve analyzed the legitimacy of these architectures as a basis for online identity. A hybrid system that combines algorithmic public identifiers with autonomic private identifiers can provide a universal identity layer for the internet. This could increase security and privacy, reduce friction, and provide new and better online experiences.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="624" height="1" alt="image" src="Image_409.png"/></span></p><ol id="l33"><li><p style="padding-top: 5pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a href="https://oreil.ly/ZKfET" style=" color: black; font-style: normal; font-weight: normal; text-decoration: none;" target="_blank" name="bookmark1053">	</a><a href="https://oreil.ly/ZKfET" class="s68" target="_blank">The terminology and classification of architectures in this section were inspired by Sam Smith’s paper</a><a href="https://oreil.ly/ZKfET" class="s46" target="_blank"> </a><a href="https://oreil.ly/ZKfET" class="s47" target="_blank">“Key Even</a><a href="https://oreil.ly/ZKfET" class="s46" target="_blank">t</a><a href="https://oreil.ly/ZKfET" class="s47" target="_blank"> Receipt Infrastructure”</a><a href="https://oreil.ly/ZKfET" class="s68" target="_blank">.</a></p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark1054"><span class="s65">	</span></a>In cryptographic discussions, <i>root of trust </i>often refers to a hardware device or some trusted hardware component in the computer. My usage is broader and refers to anything relied on for trust in the identity system.</p></li><li><p class="s65" style="padding-top: 3pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark1055">	</a><span class="s45">Note that this is not making a statement about the strength of the authentication factors themselves—the controller might pick weak passwords. But even with weak passwords, CA binding is still strong because the controller generates them.</span></p></li><li><p class="s65" style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark1056">	</a><span class="s45">Recall that peer DIDs use a backing store, and KERI uses a key event log. Both are similar in purpose. For simplicity, I’ll just say “backing store,” since that term is the most generic.</span></p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark1057"><span class="s65">	</span></a>Philip Bobbitt, <i>The Garments of Court and Palace: Machiavelli and the World That He Made </i>(London: Atlantic Books, 2013).</p></li></ol><p class="s21" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark1058">Chapter 17. Authentic Digital Relationships</a><a name="bookmark1059">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="624" height="1" alt="image" src="Image_410.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/0eyca" class="s33" target="_blank" name="bookmark1060">How do we change the culture? In a blog post titled </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">“Architecture Eats Culture Eats Strategy”</span><a href="https://oreil.ly/rV36C" class="s33" target="_blank">, Tim Bouma, director of Verification and Assessments, CIO Strategy Council, points out that the old Peter Drucker management chestnut that </a><a href="https://oreil.ly/rV36C" class="a" target="_blank">“culture eats strategy for breakfast”</a> <span style=" color: #000;">leaves this question open. Bouma argues that architecture (in the general sense, not necessarily computer architecture) is an upstream predator to culture, in that it is a powerful force that drives culture and therefore determines what strategies will succeed—or, more generally, what use cases are possible.</span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Bouma points to examples as diverse as the flying buttress and the printing press to make his point. He says:</p><p class="s35" style="padding-top: 8pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">I am of the belief that to focus on real and lasting change, it is little better than a Sisyphean effort to craft a strategy in the hope that it will change the culture. According to our management guru, Peter Drucker (and my own experience), that won’t happen. The better approach is to focus on those architecture things (organization-related things) that will force a lasting change. That lasting change will then force a culture change, and strategy will naturally follow.</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">My thesis in this chapter follows on this insight: since identity systems are the foundational layer of the digital ecosystem we operate in, the architecture of digital identity systems drives online culture, the nature of online relationships, and, ultimately, what we can do and what we can’t.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark192" class="s33">In </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 5</span>, I proposed that we build digital identity systems to create and manage relationships</p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">—not identities—and discussed the nature of digital relationships in terms of their integrity, life span, and utility. Since identity systems are built to create and manage relationships, their architecture deeply influences the kinds of relationships they support—their culture. And the quality of those relationships determines whether we can live effective lives in the digital sphere.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">This chapter builds upon the architectures I just discussed to explore how they can be used to build systems that support authentic digital relationships. Architectures give rise to culture, and culture is foundational to the types of relationships a system nurtures. Authentic relationships are necessary for us to live effective and enjoyable online lives.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Administrative Identity Systems Create Anemic Relationships</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1061">In the 1990s I was the founder and CTO of iMall, an early, pioneering ecommerce tools vendor. As early as 1996, we determined that we needed a shopping cart that not only kept track of a shopper’s purchases in a single session but knew </a><i>who </i>the shopper was from visit to visit, so we</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;">could keep the shopping cart and prefill forms with shipping and billing addresses. These innovations required that we build an identity system. In the spirit of the early web, it was custom-built, written in Perl and storing personal data in Berkeley DB.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Every early web company had the same problem: they needed to know things about people, but there was no reliable way for people to tell the sites who they were. So each of those companies built their own identity system. Thus began my and your journey to collecting thousands of identifiers, as the web expanded and every single site needed its own way to know things about us.</p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1062" class="s33">Each of these identity systems is administrative, creating a relationship between the organization operating the identity system and the people who are their customers, citizens, partners, and so on. Administrative identity systems are, as you learned in the previous chapter, federation notwithstanding, largely self-contained and put the administrator at the center. </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 17-1</span> <span style=" color: #000;">illustrates their fundamental structure.</span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Administrative identity systems are owned. They are closed. They are run for the purposes of their owners, not the purposes of the people or things being administered. They provision and permission. They are bureaucracies for governing. They rely on rules, procedures, and formal interaction patterns. Need a new password? Be sure to follow the password rules. Fail to follow the company’s terms of service? You could lose your account without recourse.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">As I’ve discussed in previous chapters, administrative identity systems usually use a simple schema, containing only the attributes that the administrator needs to serve their purposes and reduce their risk. The problem I and others were solving back in the ’90s was <i>legibility</i>, a term used to describe how administrative systems make things governable by simplifying, inventorying, and rationalizing things around them. Identity systems make people legible to offer them continuity and convenience while reducing risk for the administrator.</p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="592" height="670" alt="image" src="Image_411.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark1062">Figure 17-1. Administrative identity systems put the administrator at the center</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/RLdUA" class="s33" target="_blank" name="bookmark1063">Venkatesh Rao has written a </a><a href="https://oreil.ly/RLdUA" class="a" target="_blank">helpful summary of James C. Scott’s important book</a> on legibility and its unintended consequences, <i>Seeing Like a State</i><a href="#bookmark1091" class="s33">.</a><a href="#bookmark1091" class="s42">1</a><span class="s59"> </span>Scott’s book is primarily about the relationship between states and their citizens. But Rao makes the point that Scott’s analysis applies to many modern organizations. As organizations seek to know certain, precise things about their customers—and only those things—they necessarily create bureaucratic relationships.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Because of their bureaucratic cultures, administrative identity systems give rise to systematic inequality in the relationships they manage. Every interaction you have online happens under the</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;">watchful eye of a bureaucracy built to govern the system and the people using it. The bureaucracy may be benevolent, benign, or malevolent, but it controls the interaction.</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Designers of administrative identity systems do the <i>imaginative work </i>of assigning identifiers, defining the administrative schemas and processes, and setting the purpose of the identity system and the relationships it engenders. Because of the systematic imbalance of power, administrators can afford to be lazy. To them, everyone is structurally the same, being shoved into the same schema to enhance legibility. This is efficient, because they can afford to ignore all the qualities that make people unique and concentrate on just their business.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1064">Meanwhile, the subjects of these bureaucracies are left to perform the </a><i>interpretive labor</i><a href="https://oreil.ly/SD66a" class="s33" target="_blank">, as </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">David Graeber calls it</span><a href="#bookmark1092" class="s33">, of understanding the system: what it allows or doesn’t and how it can be bent to accomplish their goals.</a><a href="#bookmark1092" class="s42">2</a><span class="s59"> </span>Subjects have few tools for managing the relationships in administrative systems because each subject is a little different—not only technically, but procedurally. There is no common protocol or user experience, as the Laws of Identity remind us. Consequently, subjects have no way to operationalize the relationship except in whatever manner the administrator allows.<a name="bookmark1065">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Since the architecture of administrative identity systems gives rise to a bureaucratic culture, you might wonder what kinds of strategies or capabilities that culture engenders. Quoting Graeber, from <i>The Utopia of Rules</i>:</p><p style="padding-top: 8pt;padding-left: 11pt;text-indent: 0pt;text-align: left;"><a href="#bookmark1093" class="s32" name="bookmark1066">Cold, impersonal, bureaucratic relations are much like cash transactions, and both offer similar advantages and disadvantages. On the one hand they are soulless. On the other, they are simple, predictable, and—within certain parameters, at least—treat everyone more or less the same.</a><a href="#bookmark1093" class="s66">3</a></p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Because of the architecture of current digital identity systems, the internet is best at transactional relationships. Our online relationships with ecommerce companies, social media providers, banks, and others are cold and impersonal, but also relatively efficient. In that sense, the web has kept its promise.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1067">But the institutionalized frame of action that has come to define the modern digital world alienates its subjects in two ways. First, they are isolated and estranged from each other. There is no way for individuals to operate online as themselves—they are not digitally embodied. They are always within someone else’s administrative domain. Second, they surrender control over their online activity and associated data within a given domain to its administrator.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The administrative architecture and the bureaucratic culture it creates have several unavoidable, regrettable outcomes:</p><p class="s35" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Anemic relationships</p><p class="s35" style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Administrative culture creates anemic relationships <span class="p">that limit the capabilities of the systems they support. For example, social media platforms are designed to allow people to form a link (symmetrical or asymmetrical) to others online—but only within the sphere of the system provider’s administrative domain. The relationships in these systems are like two-</span></p><p style="padding-top: 3pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">dimensional cardboard cutouts of the real relationships they mirror. We inhabit multiple walled gardens that no more reflect real life than do the walled gardens of amusement parks.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Surveillance economy</p><p class="s59" style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a href="#bookmark1094" class="s33" name="bookmark1068">As Shoshana Zuboff writes, administrative systems create a surveillance economy that relies on weak privacy provisions to exploit our online behavior as the raw material for products that not only predict but attempt to manipulate our future behaviors.</a><a href="#bookmark1094" class="s42">4</a> <span class="p">Many administrative relationships are set up to harvest data about our online behavior. The administrator controls the nature of these relationships, including what is allowed and what behavior is rewarded. The administrator uses that control to maximize its profit.</span><a name="bookmark1069">&zwnj;</a></p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Single points of failure</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a href="#bookmark1095" class="s33" name="bookmark1070">In administrative systems, key parts of our lives are contained within the systems of companies that will inevitably cease to exist someday. All companies fail. As Craig Burton, a cofounder of Novell and the Burton Group, told me:</a><a href="#bookmark1095" class="s42">5</a><a name="bookmark1071">&zwnj;</a><a name="bookmark1072">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s35" style="padding-top: 4pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">It’s about choice: freedom of choice versus prescribed options. Leadership shifts. Policies expire. Companies fail. Systems decay. Give me the freedom of choice to minimize these hazards.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Alternatives to Transactional Relationships</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1073">Transactional relationships focus on commercial interactions: usually buying and selling but not always that explicit. Transactional relationships look like business deals. They are based on reciprocity.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">My relationships with Amazon and Netflix are transactional. That’s appropriate and what I expect. But what about my relationships on Twitter? You might argue that those relationships are between friends, colleagues, or even family members. However, I classify them as transactional as well.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1074">My relationships on Twitter exist within Twitter’s administrative control, and Twitter facilitates those relationships to monetize them. Even though I’m not directly participating in the monetization and may even be unaware of it, it nevertheless colors the kind, frequency, and intimacy of the interactions I can have. Twitter builds its platform and makes its product decisions with the aim to facilitate and even promote the kinds of interactions that provide the most profit to it. My attention and activity are the product in the transaction. What I and my friends can do in our Twitter relationship is wholly dependent on what Twitter allows. Given this classification, the bulk of our online relationships are transactional. Very few are what we might call </a><i>interactional </i>relationships—except for email.</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1075">Email is one of the bright exceptions to this landscape of transactional, administrated online relationships. Exploring how email is different can help you to understand what alternatives to transactional relationships might be like. Let’s explore what makes email different.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">If Alice and Bob exchange emails, they both have administrative, transactional relationships with their respective email providers, but Alice and Bob’s interaction does not necessarily take place within the administrative realm of a single email provider. The most obvious difference is that email is based on open protocols. This single, important difference has a profound impact on how email is used:</p><p class="s35" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">The user picks and controls the email server</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">With an email client, Alice and Bob have a choice of multiple email providers. They can even run their own email server if they like.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">The experience is consistent</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Mail client behavior is the same and the user experience is consistent, regardless of what server it connects to. As long as Alice’s mail client is talking to a mail server that speaks the right protocol, it can provide her with the same user experience.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">The client is fungible</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Alice can pick her mail client based on the features it provides, without changing where she receives email.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">People can use multiple clients at the same time</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Alice can use one email client at home and a different email client at work and still see a single, consistent view of her email. She can even access her mail from a web client if she doesn’t have her own computer or smartphone handy.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Only an email address is required</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Alice can send Bob email without knowing anything but his email address. None of the details about how Bob receives and processes email are relevant to Alice. She simply sends email to Bob’s address.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Mail servers can talk to each other across ownership boundaries</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">Alice might use Gmail while Bob uses Yahoo! Mail. Regardless, the mail still gets delivered.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">People can change email providers easily</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">Alice can use a custom domain even though she uses Gmail. She may have run her own</p><p style="padding-top: 3pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">server in the past. If Gmail went away, she could run her own server again. No one else needs to know or care about what server she is using.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">In short, email was designed with the architecture of the internet in mind. Email is decentralized. It is open—not necessarily open source, but open in the sense that anyone can build clients and servers that speak its core protocols, IMAP and SMTP. As a result, email maximizes freedom of choice and minimizes the chance of disruption.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark131" class="s33">The features and benefits that email provides are the same ones we want for every online relationship. If you refer to the properties of the metasystem, outlined in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 4</span>, you’ll see that email meets the requirements of a metasystem. These properties allow us to use email to create interactional relationships. An important insight is that systems that support interactional relationships can easily support transactional ones as well, where necessary. But the converse is not true. Systems for building transactional relationships don’t readily support interactional ones.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/i51KX" class="s33" target="_blank" name="bookmark1076">I believe that email’s support for richer relationships is a primary reason it has continued to be used despite the rise of social media and messaging platforms like Slack and Teams. I’m not saying email is the right platform for supporting modern, online interactional relationships—it’s not. Email has obvious weaknesses: most prominently, it doesn’t support mutual authentication of the parties to a relationship and therefore suffers from problems like spam and phishing attacks. Less often noted, but equally disqualifying, is that email doesn’t easily lend itself to layering other protocols on top of it—creative uses of Multipurpose Internet Mail Extensions (</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">MIME</span>) notwithstanding.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">A modern answer to interactional relationships must support all kinds of relationships—from pseudonymous, ephemeral ones to fully authenticated ones. The remainder of this chapter (and, indeed, much of the rest of the book) will explore how we can use identity architectures to support interactional relationships.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">The Self-Sovereign Alternative</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1077">Self-sovereign identity (SSI) systems offer an alternative to the administrative, transactional model. SSI supports richer, more interactional relationships. Rather than provisioning identifiers and accounts in an administrative system where the power imbalance assures that one party to the relationship can dictate the terms of the interaction, SSI is founded on peer relationships that are coprovisioned by the exchange of autonomic identifiers. This architecture implies that both parties will have tools that speak a common protocol.</a></p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1024" class="s33">In </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 16</span><a href="#bookmark1078" class="s33">, I discussed how administrative, algorithmic, and autonomic architectures are frequently used together. </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 17-2</span> <span style=" color: #000;">shows this:</span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_412.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_413.png"/></span></p><p style="padding-top: 8pt;padding-left: 29pt;text-indent: 0pt;line-height: 165%;text-align: left;">Alice has peer relationships with Attester and Bob based on an <i>autonomic architecture</i>. Attester, Alice, and Bob use an <i>algorithmic architecture </i>for credential exchange.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_414.png"/></span></p><p style="padding-top: 3pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">The peer relationship between Attester and Alice notwithstanding, Attester uses an enterprise agent and wallet that are <i>administrative </i>in nature. Alice’s autonomy is enhanced by her standing as a peer, but Attester will still want to make her legible within its domain.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="593" height="433" alt="image" src="Image_415.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark1078">Figure 17-2. A mixed architecture identity metasystem</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1078" class="s33">The interactions shown in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 17-2</span> <a href="#bookmark945" class="s33">are happening within the context of the identity metasystem I illustrated in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 15</span> <a href="#bookmark1002" class="s33">(</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 15-6</span><span style=" color: #000;">) in the discussion of credential exchange.</span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">The mixed architecture of the identity metasystem has several important features:</p><p class="s35" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">It is mediated by protocol</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Instead of being intermediated by an intervening administrative authority, activities in the metasystem use a peer-to-peer protocol. As I’ve discussed, protocols are the foundation of interoperability and allow for scale. By defining the rules for a set of interactions, protocols specify the kinds of interactions that can happen without being overly prescriptive about their nature or content, just as SMTP and IMAP do for email. Consequently, the metasystem supports a flexible set of interactions that can be adapted for many different contexts and needs.</p><p class="s35" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">It is heterarchical</p><p style="padding-top: 3pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Interactions in the metasystem are peer-to-peer rather than hierarchical. They are not just distributed but decentralized. Despite the administrative nature of Attester’s system, Alice is largely immune from its effects. Decentralization enables autonomy and flexibility and assures that participants are independent from the influence of any single actor. No centralized system can anticipate all the various use cases, as the next section will discuss in more detail. And no single actor should be allowed to determine who uses the system or for what purposes.</p><p class="s35" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">It provides a consistent user experience</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Consistent user experiences let people know what to expect so they can intuitively understand how to interact in any given situation, regardless of context.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">It is polymorphic</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a href="#bookmark1024" class="s33">The information you need in any given relationship varies widely with context. As you learned in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 16</span>, the content that the identity metasystem carries is flexible enough to support many different situations.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">These architectural features give rise to a culture that I describe as <i>protocological </i>(founded on protocols). The protocological culture of the identity metasystem is:</p><p class="s35" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Open and permissionless</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a href="https://oreil.ly/LVIiE" class="s33" target="_blank">The metasystem has the same three virtues of the internet that Doc Searls and Dave Weinberger </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">enumerated as the acronym NEA</span>: <i>No one owns it. Everyone can use it. Anyone can improve it. </i>Special care must be taken to ensure that the metasystem is resistant to censorship, so that everyone has access. The protocols and code that enable the metasystem must be open and available for review and improvement.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Agentic</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">The metasystem allows people to act as autonomous agents under their self-sovereign authority. The most vital value proposition of SSI is autonomy—not being inside someone else’s administrative system, where they make the rules in a one-sided way. Autonomy requires that participants in the system interact as peers, which the architecture of the metasystem supports.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Inclusive</p><p style="padding-top: 3pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Inclusivity is more than being open and permissionless. Its design must ensure that people are not left behind. For example, some people, like minors, cannot act for themselves for legal reasons. Others, like refugees or people with some disabilities, may need help from guardians. Support for digital guardianship ensures that those who cannot act for themselves can still participate.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Flexible</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">The metasystem allows people to select appropriate service providers and features. No single system can anticipate all the scenarios that will be required for billions of individuals to live their own effective digital lives. A metasystem allows for context-specific scenarios.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Modular</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">An identity metasystem can’t be a single, centralized system from a single vendor with limited pieces and parts. Rather, the metasystem will have interchangeable parts, built and operated by various parties. Protocols and standards enable this. Modularity supports substitutability, a key factor in autonomy and flexibility.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Universal</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a name="bookmark1079">Successful protocols eat other protocols until only one survives. An identity metasystem based on protocol will have network effects that drive interoperability, leading to universality. This doesn’t mean that one organization will have control; it means that one protocol will mediate all interaction and everyone in the ecosystem will conform to it.</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Supporting Authentic Relationships</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1160" class="s33">SSI envisions a digital life that cannot be supported with traditional, transactional identity architectures. The mixed architecture of SSI and the culture that springs from it supports richer, more authentic relationships. SSI provides people with the means to operationalize their online relationships by providing them the tools to act online as peers and to manage the relationships they enter. I will explore how SSI allows people to operationalize digital relationships in detail in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 19</span>.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Furthermore, SSI, through protocol, allows ad hoc interactions that were not or cannot be imagined <i>a priori</i>. The following subsections give several examples.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Disintermediating Platforms</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark1080">Many real-world experiences have been successfully digitized, but the resulting intermediation</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">opens us to exploitation despite the conveniences. We need digitized experiences that respect human dignity and don’t leave us open to being exploited for a company’s advantage. For example, consider how the identity metasystem could be the foundation for a system that disintermediates food-delivery platforms.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Platforms service two-sided markets. We’re all familiar with platform companies like Uber, Airbnb, Monster, eBay, and many others. Visa, Mastercard, and other credit card systems are platforms. Platforms are a popular Web 2.0 business model because they create an attractive way for the provider to extract service fees from one side, and sometimes both sides, of the market.</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;">They can have big network effects and tend toward natural monopolies.</p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Platform companies have been very successful in intermediating these exchanges and in charging exorbitant rents for what ought to be a natural interaction among peers. That’s not to say platforms provide no value. The problem isn’t that they charge for services, but that their intervening position gives them too much power to make markets and set prices. Platforms provide several things that make them valuable to participants: a means of discovering relevant service providers, a system to facilitate the transaction, and a trust framework to help participants make the leap over the trust gap. Like compound interest, small advantages in any of these roles can have huge effects over time, as network effects exploit the advantage to drive participants to a particular platform.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/ukFE0" class="s33" target="_blank">During the 2020 COVID-19 lockdowns, the </a><a href="https://oreil.ly/ukFE0" class="s32" target="_blank">New York Times </a><a href="https://oreil.ly/ukFE0" class="s33" target="_blank">ran an article headlined </a><a href="https://oreil.ly/ukFE0" class="a" target="_blank">“As Diners</a><a href="https://oreil.ly/ukFE0" class="s36" target="_blank"> </a><a href="https://oreil.ly/ukFE0" class="a" target="_blank">Flock to Delivery Apps, Restaurants Fear for Their Future”</a>. This highlights the power that platforms have over their users:</p><p class="s35" style="padding-top: 8pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">But once the lockdowns began, the apps became essentially the only source of business for the barroom restaurant he ran with a partner, Charlie Greene, in Columbus, Ohio. That was when the fees to the delivery companies turned into the restaurant’s single largest cost—more than what it paid for food or labor.</p><p class="s35" style="padding-top: 9pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">Pierogi Mountain’s primary delivery company, Grubhub, took more than 40 percent from the average order, Mr. Majesky’s Grubhub statements show. That flipped his restaurant from almost breaking even to plunging deeply into the red. In late April, Pierogi Mountain shut down.</p><p class="s35" style="padding-top: 9pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">“You have no choice but to sign up, but there is no negotiating,” Mr. Majesky, who has applied for unemployment, said of the delivery apps. “It almost turns into a hostage situation.”</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The standard response to these problems is more regulation. The article discusses some of the attempts that cities, counties, and states have made to rein in the fees that food delivery platforms charge. A better response is to create marketplaces that don’t require an intermediary.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">An identity metasystem supporting SSI provides a universal trust framework for building systems that can serve as the foundation for creating markets without intermediaries.</p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 17-3</span> <span style=" color: #000;">shows how different strategies for food distribution emerge from centralized or decentralized architectures for the underlying identity system. Disintermediating platforms</span></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">requires creating a peer-to-peer marketplace on top of a metasystem. While the metasystem provides the means of creating and managing the peer-to-peer relationship, defining this marketplace requires determining the messages to be exchanged between participants and creating the means of discovery: how customers find a take-out restaurant, for example.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">These messages might be simple or complex, depending on the market, and could be exchanged using verifiable credential (VC) exchange or something more specific to the problem. There might be businesses that provide discovery but don’t intermediate, sitting to the side of the interaction and providing a service. For example, such a business might provide the service of allowing a restaurant to define its menu, create a shopping cart, and provide for discovery.</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">However, the merchant could replace this service with a similar one, providing competition, because the trust interaction and transaction are happening via a protocol.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1081">Building markets without intermediaries greatly reduces the cost of participating in the market and frees participants to innovate. Because these results are achieved through protocol, there’s no need to create new regulations that stifle innovation and lock in incumbents by making it difficult for new entrants to comply. And these systems preserve human dignity and autonomy by removing administrative authorities.</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="594" height="396" alt="image" src="Image_416.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark1082">Figure 17-3. How architectures influence culture and strategy</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Digitizing Auto Accidents</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1083">The interactions that occur after an auto accident are an excellent example of everyday activities that are difficult to bring into the administrative sphere. Because these interactions are ad hoc,</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: justify;"><a name="bookmark1084">large parts of people’s lives have yet to be digitized. The identity metasystem enables the kinds of ad hoc, messy, and unpredictable interactions that happen all the time in the physical world.</a></p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;">I hope you’ve never been in an automobile accident, but even if you haven’t, you know that this scenario involves a number of credentials as it plays out over days or even weeks. The following diagram shows some of the credentials that would be used in the initial investigation following a serious accident.</p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;"><a href="#bookmark1084" class="s33">In this scenario, two drivers, Alice and Bob, have had an accident. Fortunately, no one was hurt, but the Highway Patrol has come to the scene to make an accident report. </a><a href="#bookmark1084" class="a">Figure 17-4</a> <span style=" color: #000;">shows the interactions, mostly credential exchanges, that might happen.</span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;">Both Alice and Bob have several credentials in their digital wallets that will be important in creating the report. These include:</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_417.png"/></span></p><p style="padding-top: 8pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Driver’s licenses, issued by the Utah Department of Public Safety (DPS) in Alice’s case and the California Department of Motor Vehicles (DMV) in Bob’s</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_418.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_419.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_420.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 165%;text-align: left;">Proofs of insurance issued by their respective insurance companies Vehicle origination documents issued by each vehicle’s manufacturer Vehicle registrations issued by the Utah and California DMVs</p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">In addition, the police officer has a badge from the Highway Patrol.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 193pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="96" height="1" alt="image" src="Image_421.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="593" height="423" alt="image" src="Image_422.png"/></span></p><p class="s369" style="text-indent: 0pt;line-height: 11pt;text-align: left;">Peer DID relationship</p><p style="text-indent: 0pt;text-align: left;"/><p class="s370" style="padding-left: 10pt;text-indent: -3pt;line-height: 88%;text-align: left;">Accident <u>repor</u>t</p><p class="s372" style="padding-top: 4pt;text-indent: 0pt;text-align: left;">Police officer&#39;s 551 wallet</p><p style="text-indent: 0pt;text-align: left;"/><p class="s373" style="padding-left: 3pt;text-indent: 0pt;text-align: center;">Verifiable data registry</p><p style="padding-left: 173pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="172" height="1" alt="image" src="Image_423.png"/></span></p><p class="s60" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: center;">Figure 17-4. Credential uses in a car accident</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Alice and Bob must make and sign statements, and the police officer creates an accident report.</p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Typically, each of these documents is on paper, or at best PDF. They are exchanged, copied, and filed away. The thought of doing it all digitally conjures visions of complex, special-purpose software systems with uneven acceptance by the various players and jurisdictions.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The SSI metasystem changes that by providing an open, decentralized system that supports the flexible exchange of standards-based VCs. Each of the credentials mentioned can be independently created by the appropriate issuer; held by Alice, Bob, and the patrol officer; and presented to any party they desire.</p><p class="s59" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1096" class="s33" name="bookmark1085">Here’s how it would play out in an SSI metasystem. After the accident, Alice and Bob would use the SSI wallets on their phones to create a relationship.</a><a href="#bookmark1096" class="s42">6</a> <span class="p">When the officer arrives on the scene, Alice and Bob would each also create a relationship with the officer. They can use these relationships to exchange information based on the credentials they each hold. Alice and Bob create statements about what happened. The highway patrol officer creates an accident report.</span></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;">These are also credentials that can be shared between the parties.</p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Later, Alice and Bob will use credential exchange to share the accident report and information about one another with their respective insurance companies. They may enlist the services of mechanics and auto body shops, who will need to get information from the accident report. In turn, they will provide attestable statements about repair quotes and completion of repairs to the insurance companies.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The decentralized nature of the SSI metasystem allows all this information to be exchanged regardless of the fact that Alice and Bob are from different states that have different government organizations and structures. The exchange works even though Alice and Bob use different insurance companies. The exchange works regardless of whether they’re in or out of their home states.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">As you learned in the discussion of VCs, the receiver of each credential can verify that it hasn’t been altered, that it is about the party who presented it, and that it was issued by a specific entity. Standards ensure that each party can issue their own credentials and that others can understand them. Standards and protocol allow the exchange to happen without anyone building a special- purpose vehicle accident reporting system and convincing all the players to participate in a closed ecosystem. The standards that enable the SSI metasystem allow each participant to work through an ad hoc scenario with finesse.</p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1219" class="s33">This scenario gets even more interesting if the cars are connected to the internet and have identities of their own. Data from a connected car may be relevant to the accident: for example, an accelerometer in Bob’s car could have measured data points before and during the accident. This data might be included in his statement or the police officer’s accident report. The vehicles themselves can have agents and consume, hold, or generate VCs. But the vehicles’ identities are owned and controlled by the vehicle’s owner—who might not be the driver involved in the accident. (</a><a href="#bookmark1219" class="a">Chapter 20</a> <span style=" color: #000;">will discuss identity on the Internet of Things.)</span></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1086">Real life is complicated and messy. The only hope we have of enabling digital interactions that mirror activities in the physical world is with decentralized systems that allow each person, organization, and thing to act independently and autonomously.</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Taking Our Rightful Place in the Digital Sphere</p><p class="s55" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/p7APQ" class="s33" target="_blank" name="bookmark1087">Devon Leffreto, developer and founder of kidOYO, said </a><a href="https://oreil.ly/p7APQ" class="a" target="_blank">something in a 2020 blog post</a> <span style=" color: #000;">that made me think: “You do not have an accurate operational relationship with your Government.”</span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1088">My thought was “not just government.” The key word is </a><i>operational</i>: people don’t have many operational relationships at <i>all </i>online, except perhaps email. An operational relationship allows all parties to function independently. We have plenty of online relationships, but they are not operational because we are prevented from acting autonomously by their anemic natures. Our helplessness is the result of the power imbalance that is inherent in bureaucratic relationships.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1089">The solution to the anemic relationships created by administrative identity systems is to provide people with the tools they need to operationalize their self-sovereign authority and act as peers with others online. Scenarios like the ones I just envisioned happen all the time in the physical world—in fact, they’re the norm. When you dine at a restaurant or shop at a store in the physical world, you are not acting within some administrative system. Rather, as an </a><i>embodied agent</i>, you operationalize your relationships, whether long-lived or nascent, by acting for yourself. An identity metasystem provides people with the tools they need to be embodied in the digital world and act autonomously.<a name="bookmark1090">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Time and again, various people have tried to create decentralized marketplaces or social networks, only to fail. I believe these systems fail because they are not based on a firm foundation that allows people to act in relationships with sovereign authority, mediated through protocol rather than platforms. We have a fine example of a protocol-mediated system in the internet, but we’ve failed to take up the daunting task of building the same kind of system for identity. Consequently, when we act, we do so without firm footing or sufficient leverage.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">No one could live an effective life in an amusement park. Similarly, we cannot function as autonomous agents in the digital sphere within the administrative systems of the current Web 2.0 internet, despite their attractions. Ironically, in the 1990s the internet broke down the walled gardens of CompuServe and Prodigy with a protocol-mediated metasystem, but surveillance capitalism has rebuilt them on the web. The emergence of SSI, agreements on protocols, and the creation of a metasystem to operationalize them promises a digital world where decentralized interactions create lifelike online experiences. The identity metasystem, and the richer relationships that are its result, promise an online future that gives people the opportunity to act for themselves as autonomous human beings and supports their dignity so that they can live effective online lives.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="624" height="1" alt="image" src="Image_424.png"/></span></p><ol id="l34"><li><p class="s45" style="padding-top: 5pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark1091"><span class="s65">	</span></a>James C. Scott, <i>Seeing Like a State: How Certain Schemes to Improve the Human Condition Have Failed </i>(New Haven, CT: Yale University Press, 2020).</p></li><li><p class="s45" style="padding-top: 3pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark1092"><span class="s65">	</span></a><a href="https://oreil.ly/jyk4J" class="s68" target="_blank">Jack Ozzie</a><a href="https://oreil.ly/jyk4J" class="s46" target="_blank"> </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 9pt;">called the similar work</span> of weaving meaning around a seemingly disconnected set of messages <i>context assembly</i>. <i>Interpretive labor </i>emphasizes the real work required of participants.</p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark1093"><span class="s65">	</span></a>David Graeber, <i>The Utopia of Rules: On Technology, Stupidity, and the Secret Joys of Bureaucracy </i>(London: Melville House, 2015), 152.</p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 32pt;text-indent: -11pt;text-align: left;"><a name="bookmark1094">This is the central thesis of </a><i>The Age of Surveillance Capitalism</i><a href="#bookmark291" class="s68">, discussed in </a><a href="#bookmark291" class="s64">Chapter </a><span style=" color: #8E0011;">8</span>.</p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 32pt;text-indent: -11pt;text-align: left;"><a name="bookmark1095">Private communication with the author, June 2019.</a></p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 32pt;text-indent: -11pt;text-align: left;"><a name="bookmark1096">The next two chapters discuss wallets and agents and the ways they interact in detail.</a></p></li></ol><p class="s21" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark1097">Chapter 18. Identity Wallets and Agents</a><a name="bookmark1098">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="624" height="1" alt="image" src="Image_425.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1099">In the previous chapter I spoke of being </a><i>digitally embodied</i>. That phrase may strike you as odd. After all, the point of the internet is to move beyond the physical world. To understand what I mean, recall the example I’ve used elsewhere in this book to contrast our physical and digital experiences: eating at a restaurant.<a name="bookmark1100">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The primary point I’ve made with that example is that in the physical world we function as peers, autonomously interacting with staff, our fellow diners, and the objects in the restaurant without the aid of an overarching administrative system that grants us those powers. In the digital world, we rarely interact as true peers.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1101">If you’re familiar with user experience (UX) design, you might be familiar with the term </a><i>embodied experience</i>. Designing for embodied experiences focuses on the kinds of interactions people have with computer systems that are based on nontraditional input and output methods: for example, a smartwatch responding to hand gestures or using haptics to signal the wearer.</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;"><a name="bookmark1102">When I say </a><i>digital embodiment</i><a href="#bookmark1147" class="s33">, I’m speaking of something more fundamental than this. In digital embodiment, the embodied person (or organization) is an autonomous peer of other people, organizations, things, and systems in the digital world.</a><a href="#bookmark1147" class="s42">1</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark10" class="s33" name="bookmark1103">Embodiment is related to the ideas in substance theory that I discussed in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 1</span><a href="#bookmark1148" class="s33">. Recall that substance theory holds that attributes are borne by an entity that doesn’t depend on another entity to exist. Embodied digital beings—with substance—cannot arise from an administrative system because entities in such a system depend on the administrator for their existence.</a><a href="#bookmark1148" class="s42">2</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Embodiment requires tools. The primary tools we use to act in the digital world—browsers and apps—are not sufficient because of their underlying architecture. In the same way that the architecture of identity systems gives rise to bureaucratic culture, the architecture of the web— client-server—leads to inherent power imbalances. Peer-to-peer architectures may sometimes behave like client-server systems, but the reverse is not true. Client-server architectures are difficult to use to support peer-based relationships. The client is always, structurally, at the mercy of the server.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 16</span> discussed the concepts of <i>locus of control </i>and <i>control authority</i>: contrasting identity architectures, in part, by where the locus of control resides. This is another way to think of digital embodiment. Where can you exert control authority? Do you exert it using a single tool or many, creating fractured experience that you knit together only in your head? <i>Digital embodiment provides consistent ways for people to exercise control authority</i><a href="#bookmark108" class="s33">. With the proper tools, people may be able to finally develop tacit knowledge in the digital world, overcoming one of the core problems of online identity that you learned about in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 3</span>.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">This chapter discusses identity wallets and agents that are architected to support peer-to-peer relationships. I’ll start by discussing the nature of wallets and agents, explore their security properties, and then show how the interaction patterns they support give people a locus of control</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">with the power to create peer relationships and act autonomously online.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 10pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Identity Wallets</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1104">Our physical wallets are, historically, for holding currency. But that may be the least interesting use case for wallets. Many of the things people put in their wallets represent relationships they have and authorizations they hold. Most people don’t often leave home without their wallet.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1149" class="s33" name="bookmark1105">But the analogy to a physical wallet can only take us so far,</a><a href="#bookmark1149" class="s42">3</a><span class="s59"> </span>because as physical beings, our natural capabilities are multitude. In the digital world, we need tools for accomplishing almost anything useful. The name <i>wallet </i><a href="#bookmark945" class="s33">for the software we use to interact digitally doesn’t do the tool justice. In </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 15</span> I distinguished wallets from <i>agents</i>, tools for taking action. This chapter will further distinguish between these two tools and discuss how they work together.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">A <i>digital identity wallet </i>is a secure, encrypted database that collects and holds keys, identifiers, and verifiable credentials (VCs). The wallet is also a digital address book, collecting and maintaining its controller’s many relationships. The wallet is coupled with a software agent that speaks the protocols necessary to engage with others. Elsewhere in this book, I’ve used <i>wallet </i>as a shorthand for both <i>wallet </i>and <i>agent</i>, not distinguishing carefully between them. In this chapter, I’ll be more specific about which tool performs which actions.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Alice’s digital wallet might contain many things that she, in her capacity as controller, needs to store securely, including:</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_426.png"/></span></p><p style="padding-top: 8pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Decentralized identifiers she has created or received, including public DIDs, peer DIDs, and KERI identifiers</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_427.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">The backing store (or key event log) she uses to manage peer relationships</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_428.png"/></span></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Keys related to DIDs but perhaps others as well; SSH keys, for example, could be securely managed in a digital wallet</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_429.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_430.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 165%;text-align: left;">PKI digital certificates and the private keys associated with them Keys and addresses for cryptocurrency</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_431.png"/></span></p><p style="padding-left: 29pt;text-indent: 0pt;text-align: left;">VCs that Alice holds</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_432.png"/></span></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">Receipts, warranties, and titles (some as VCs)</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_433.png"/></span></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">PDFs or other digital representations of physical credentials for which Alice doesn’t have proper VCs</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_434.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">Usernames and passwords</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_435.png"/></span></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Personal data of all kinds that Alice uses to create self-issued VCs, fill out web forms, or simply store securely</p><p style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Many people store these kinds of data in password managers or operating-system-specific tools</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1106">like Apple’s Keychain. People who hold cryptocurrencies also have one or more </a><i>cryptowallets </i>to store keys and addresses. These various <i>protowallets </i>suffer from several problems:<a name="bookmark1107">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_436.png"/></span></p><p style="padding-top: 8pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: justify;">They are often <i>proprietary systems</i>. As such, they suffer from many of the problems that I’ve delineated for administrative identity systems. The most limiting is that they can be used for only the purposes their owners allow.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_437.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: justify;">While they might be open, allowing other parties to store things in them, the types of use cases are <i>tightly controlled</i>.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_438.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;text-align: justify;">They use <i>inflexible data schemas </i>that limit the kinds of data they can store.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_439.png"/></span></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">They aren’t built on open standards and thus <i>lock people into a specific platform</i>. I’d hate to reenter all the login data I have stored in my password manager, for example.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_440.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: justify;">They <i>lack consistent user experiences</i>. My password manager, keychains, smartphone wallet, and cryptowallets all behave differently. Sometimes even the same tool, like a keychain, differs from platform to platform despite being created by one organization.</p><p style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">An identity wallet overcomes these problems and has the added advantage of putting all of your important documents and relationships in one consistent place. Thus, many people will opt to move sensitive data from protowallets into identity wallets.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1108">Other terms you might hear in the context of identity wallets are </a><i>personal data store </i>and <i>vault</i>. The variety of information that might be stored in an identity wallet may feel like a loose grab bag of digital stuff. The line between an identity wallet, a personal data store, and a vault is blurry, but they are distinguished by both their sizes and the types of data they contain. A vault might be a secure place to store <i>all </i>my digital stuff, while a personal data store holds all the information I have <i>about me </i>and an identity wallet is just the information I use to recognize, remember, and interact with others.</p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1111" class="s33" name="bookmark1109">Another key distinction between these three stores is the level of protection they must offer. </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 18-1</span> <a href="#bookmark1150" class="s33">illustrates the levels of protection we might require for various kinds of personal information.</a><a href="#bookmark1150" class="s42">4</a><span class="s59"> </span><span style=" color: #000;">Information like my cryptocurrency keys needs much stronger and more robust security protection than the messages I’ve exchanged with Amazon or my friends. Personal data stores and vaults may get by with weaker protections for the data they hold than an identity wallet would. These distinctions provide guidance on the design and implementation of an identity wallet.</span><a name="bookmark1110">&zwnj;</a></p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="592" height="262" alt="image" src="Image_441.jpg"/></span></p><p class="s60" style="padding-top: 5pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark1111">Figure 18-1. Relative protection requirements for personal data</a><a name="bookmark1112">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Platform Wallets</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1113">The two big smartphone platform vendors, Apple and Google, each have a wallet built into the operating system and available to all users of the system. Since they’re part of the platforms, I’ve labeled them </a><i>platform wallets</i>. These wallets suffer from many of the same problems that browser keychains and password managers do, but they have some advantages and can provide increased utility since they’re built in.</p><p class="s59" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1151" class="s33" name="bookmark1114">Platform wallets allow third parties to place their credentials from apps on the phone in the wallet.</a><a href="#bookmark1151" class="s42">5</a> <a href="#bookmark1112" class="s33">For instance, they have provided the means of securely storing and using credit cards for many years now. Some of the first and most widely used third-party credentials for platform wallets were airline tickets. </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 18-2</span><span class="s55"> </span><span class="p">shows an airline boarding that Delta placed in my Apple Wallet.</span></p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="592" height="864" alt="image" src="Image_442.jpg"/></span></p><p class="s60" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: center;">Figure 18-2. An airline boarding pass</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Boarding passes in a platform wallet offer great utility because travelers can present them in hurried, and harried, situations. The wallet can push notifications to the lock screen that make accessing them nearly instantaneous. I find this very convenient. Other businesses, even small ones like my local theater company, have started using similar tickets and passes.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The primary disadvantage of these wallets is that they are proprietary. While they are open, they are also administered. Anyone can place credentials in them so long as they follow the rules of the platform vendor. Their proprietary nature locks people into a specific platform.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1152" class="s33" name="bookmark1115">Platform providers like Apple and Google recognize the importance of wallets both for enhancing the user experience and for locking people into their platform. Other app vendors will as well. There will likely be a significant competition in the market for digital wallets in the coming years.</a><a href="#bookmark1152" class="s42">6</a><a name="bookmark1116">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 12pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">The Roles of Agents</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1117">Identity agents </a><a href="#bookmark1153" class="s33">are software services that manage all the stuff in the wallet. Agents store, update, retrieve, and delete all the artifacts that a wallet holds. Beyond managing the wallet, agents perform many other important tasks:</a><a href="#bookmark1153" class="s42">7</a><a name="bookmark1118">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_443.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_444.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_445.png"/></span></p><p style="padding-top: 8pt;padding-left: 29pt;text-indent: 0pt;line-height: 165%;text-align: left;">Sending and receiving messages with other agents Requesting that the wallet generate cryptographic key pairs Managing encrypted data interactions with the wallet</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_446.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_447.png"/></span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 165%;text-align: left;">Performing cryptographic functions like signing and verifying signatures Backing up and retrieving data in the wallet</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_448.png"/></span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Maintaining relationships by communicating with other agents when DID documents are updated</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_449.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">Routing messages to other agents</p><p class="s55" style="padding-top: 10pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 18-3</span> <span style=" color: #000;">shows the relationship between an agent, a wallet, and an underlying operating system. While most current implementations pair a single agent with a single wallet, the presence of an API means that it’s possible for one agent to use several wallets, or for multiple agents to access one wallet. Some specialized agents might not even need a wallet, such as those that just perform routing, although most will at least need to store their own keys.</span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The key-management function in the wallet includes events for cryptographic keys like generation, storage, rotation, and deletion. Key management is performed in cooperation with the operating system and underlying hardware. Ideally, the operating system and hardware provide a secure enclave for key storage and a trusted execution environment for performing key- management functions.</p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="593" height="512" alt="image" src="Image_450.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark1119">Figure 18-3. The relationship between identity wallets and agents</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1119" class="s33">The basic functions shown in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 18-3</span> <a href="#bookmark1160" class="s33">might not seem to have much to do with identity. Identity-related activities like authentication and credential exchange are built on top of these basic functions. The agent can issue, request, and accept VCs. The agent also presents and verifies credentials. Specialized messages perform these activities (see </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 19</span><span style=" color: #000;">).</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Properties of Wallets and Agents</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1120">The identity wallets and agents discussed above have several important properties that distinguish them from the protowallets that most people use now:</a><a name="bookmark1121">&zwnj;</a></p><p class="s35" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Open, substitutable, and portable</p><p class="s55" style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a href="#bookmark1059" class="s33">The discussion of the properties of email in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 17</span> <span style=" color: #000;">showed the important features that result when a system is based on a standard set of protocols. Alice should see similar benefits from her identity wallet and agent that she enjoys in email: choice, consistent user</span></p><p style="padding-top: 3pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">experience, and flexibility—all design features of an identity metasystem.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Secure by design</p><p class="s55" style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a href="#bookmark1285" class="s33">Security is a nonnegotiable feature for identity wallets and agents. Some security features are the result of mutually authenticating DID exchange as the basis for relationships that natively support confidential messaging. Some security features depend on good engineering of things like the wallet’s encrypted storage or the wallet API. Still others result from governance of the overall ecosystem, a topic I’ll return to in Chapters </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">21</span> <a href="#bookmark1316" class="s33">and </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">22</span><span style=" color: #000;">.</span></p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Private by design</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a href="#bookmark291" class="s33">As you learned in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 8</span>, privacy by design doesn’t layer privacy onto an already built system. Rather, it uses specific design principles to ensure privacy is the default. Identity wallets and agents provide privacy in their design by supporting minimal disclosure of personal data using <i>zero-knowledge proofs </i><a href="#bookmark945" class="s33">(ZKPs) and other techniques, properly encrypting data so that it’s visible only to the intended party, and engineering anticorrelation into the system with techniques like blinded identifiers, as you learned in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 15</span>.</p><p class="s35" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Autonomous</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: justify;">As key components in algorithmic and autonomic identity system architectures, agents and wallets give people tools for exercising control authority over identifiers and personal data. This control is the basis for autonomy in digital relationships.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">Consistent and familiar in their user experience</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">There’s a saying in security: “Don’t roll your own crypto.” I think we need a corollary in identity: “Don’t roll your own interface.” By supporting the exchange of data based on VCs, identity wallets and agents provide a single means of accomplishing many tasks. One of the important UX features of identity wallets and agents is that people do not manipulate cryptographic keys and DIDs; rather, they manage relationships and credentials. These are familiar artifacts that people understand.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-left: 5pt;text-indent: 0pt;text-align: justify;">SSI Interaction Patterns</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;"><a name="bookmark1122">Agents, supported by wallets, enable three simple authentication and authorization patterns used in self-sovereign identity. All three are just specializations of the standard VC exchange pattern. Understanding them can help you understand the requirements for wallets and agents.</a></p><p class="s61" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">DID Authentication Pattern</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1123">The simplest authentication pattern uses autonomic identifiers to establish a peer relationship. Because of their mutual authentication capabilities, relationships based on autonomic identifiers can be used for authentication.</a></p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 18-4</span> <span style=" color: #000;">illustrates the DID authentication pattern. This pattern has two parties, both of whom employ agents:</span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_451.png"/></span></p><p style="padding-top: 8pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">Alice has an SSI agent on her mobile phone.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_452.png"/></span></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">Bravo Corp has an enterprise agent tied to an IAM system that is protecting some resource.</p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="594" height="686" alt="image" src="Image_453.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark1124">Figure 18-4. Simple DID authentication interaction pattern</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">The interaction pattern has the following steps:</p><ol id="l35"><li><p style="padding-top: 10pt;padding-left: 29pt;text-indent: -15pt;line-height: 109%;text-align: left;">Alice and Bravo establish a peer DID relationship. This means that each agent generates a peer DID and sends it to the other, along with the associated DID document, which contains a public key and service endpoint URI that identifies how to contact the DID controller. As you’ve learned, autonomic identifiers are self-certifying, and each party can use the information associated with the DID to authenticate the other.</p></li><li><p style="padding-top: 3pt;padding-left: 29pt;text-indent: -15pt;line-height: 109%;text-align: left;">Alice tries to access the protected resource. The request is intermediated by Bravo’s IAM system. As part of this request, Alice transmits her DID to Bravo’s IAM system. There are several subscenarios for the different ways this may happen. For example, she could scan a QR code or enter an associated human-readable identifier that is linked to her DID in Bravo’s system.</p></li><li><p style="padding-top: 7pt;padding-left: 29pt;text-indent: -15pt;line-height: 109%;text-align: left;">The IAM system, working in concert with Bravo’s enterprise agent, issues a DID-based authentication challenge to Alice’s wallet through her phone. This is a form of challenge- response authentication (see<a href="#bookmark608" class="s36"> </a><a href="#bookmark608" class="a">Chapter </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">11</span>).</p></li><li><p style="padding-top: 7pt;padding-left: 29pt;text-indent: -15pt;line-height: 109%;text-align: left;">Alice is notified by her agent of the challenge and instructs her agent to issue a response to Bravo’s challenge.</p></li></ol><p style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Having received Alice’s response, Bravo verifies it and allows or disallows the access.</p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">There are several things to note about this interaction. First, because Alice and Bravo are using peer DIDs, no verifiable data registry (VDR) is involved in the authentication. As you know, in a peer DID relationship, both parties are obliged to keep the other informed of relevant key events such as key rotation and store updates in a cryptographic backing store. This pattern is just authentication, not authorization. Any authorization would have to be done based on information the IAM system has from another source. For example, if the peer DID relationship were established within a different authenticated context, Alice could have been assigned a group for role-based access control (RBAC) or the IAM system could use policy-based access control (PBAC) using attributes it has associated with Alice’s DID.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/GQllU" class="s33" target="_blank" name="bookmark1125">The interaction pattern described here leaves out several details. Markus Sabadello identifies 10 different variations of this pattern in his talk “</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Introduction to DID Auth for SSI”</span>. I encourage you to review it for details relevant to specific authentication scenarios.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Single-Party Credential Authorization Pattern</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1126">While the DID authentication pattern is simple, it is not as flexible as some situations require. For more complicated scenarios, a digital wallet and agent can use VCs to provide evidence the controller is authorized to take some action. The first scenario I’ll consider is where the same organization is issuing and verifying the credential.</a></p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 18-5</span> <span style=" color: #000;">shows the pattern for authorizing a single party. The parties in this scenario are the same: Alice and Bravo Corp. The interaction pattern is as follows:</span></p><ol id="l36"><li><p style="padding-top: 8pt;padding-left: 29pt;text-indent: -15pt;line-height: 109%;text-align: left;">Since Bravo Corp will be issuing a credential, it writes a public DID and credential definition to a VDR. It might also write a schema and revocation registry, if necessary. Storing these in a VDR is not strictly necessary if Bravo Corp never plans to use the credential externally. But it’s a good idea to do so, since it’s a relatively cheap and easy step that enables future use cases that weren’t anticipated when the credential was planned.</p></li><li><p style="padding-top: 7pt;padding-left: 29pt;text-indent: -15pt;line-height: 109%;text-align: left;">Alice and Bravo establish a peer DID relationship as before. Note that the DID that Bravo uses for this relationship is not the public DID that it created in step 1. Instead, Bravo</p><p style="padding-top: 3pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1127">creates a peer DID specific to the relationship with Alice. Doing this allows Bravo to easily update or terminate the relationship without affecting the public DID. Since peer DIDs are free, there’s little reason not to use them wherever needed.</a></p></li><li><p style="padding-top: 7pt;padding-left: 29pt;text-indent: -15pt;line-height: 109%;text-align: left;">Bravo issues a credential to Alice. The nature, content, and context of this credential issuance depend on Bravo and Alice’s specific needs. Bravo is the credential issuer and Alice is the credential holder.</p></li><li><p style="padding-top: 7pt;padding-left: 29pt;text-indent: -15pt;line-height: 109%;text-align: left;">Alice tries to access a protected resource. The request is intermediated by Bravo’s IAM system. Like the DID authentication pattern shown above, the IAM system is working in concert with an enterprise agent and its wallet.</p></li><li><p style="padding-top: 7pt;padding-left: 29pt;text-indent: -15pt;line-height: 109%;text-align: left;">I’ll assume that Bravo is using a PBAC system that relies on knowing attributes about Alice. The IAM system makes a credential request to Alice’s agent using its agent. The request asks for just the specific attributes needed by the policy protecting the resource Alice is attempting to access.</p></li><li><p style="padding-top: 7pt;padding-left: 29pt;text-indent: -15pt;line-height: 109%;text-align: left;">Alice sees the request and authorizes her agent to issue a proof of attributes based on the credential she holds. The response contains only the attributes that Bravo needs, not the entire credential, to minimize the information that is shared.</p></li></ol><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s374" style="padding-left: 16pt;text-indent: 0pt;text-align: left;"><span><img width="1" height="218" alt="image" src="Image_454.png"/></span>	<span class="s254">	</span><span><img width="1" height="218" alt="image" src="Image_455.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="560" height="420" alt="image" src="Image_456.png"/></span></p><p class="s375" style="padding-left: 32pt;text-indent: 0pt;line-height: 13pt;text-align: left;">. <i>roo presen </i>m</p><p class="s377" style="padding-top: 6pt;text-indent: 0pt;text-align: left;">::-<span class="s378"> </span><i>3.</i><span class="s376">Issue credential</span></p><p style="text-indent: 0pt;text-align: left;"/><p class="s376" style="padding-left: 10pt;text-indent: -10pt;line-height: 94%;text-align: left;">1. Writes public DID and credential</p><p class="s376" style="padding-left: 21pt;text-indent: 0pt;line-height: 13pt;text-align: left;">definition</p><p style="text-indent: 0pt;text-align: left;"/><p class="s380" style="text-indent: 0pt;line-height: 17pt;text-align: left;">[ <b>PBAC </b><span class="s382">system</span><span class="s383"> </span><span class="s384">]</span></p><p class="s385" style="padding-top: 8pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">• <span style=" color: #039044;">•</span></p><p style="text-indent: 0pt;text-align: left;"/><p class="s387" style="text-indent: 0pt;line-height: 17pt;text-align: left;">Bravo Corp</p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><span><img width="134" height="50" alt="image" src="Image_457.jpg"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s388" style="padding-left: 4pt;text-indent: 0pt;text-align: left;">Verifiable data registry</p><p style="text-indent: 0pt;text-align: left;"/><p class="s60" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: center;">Figure 18-5. Single-party credential-based authorization pattern</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">The PBAC system uses the attributes in the proof presentation to authorize Alice’s access.</p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">There are several things to note about this interaction. First, Bravo does not necessarily need to access the VDR to verify the credential since they own it. They already know the information necessary to validate it. But others might access it if Alice decides to present it somewhere other than Bravo.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">In addition, for Bravo, using a credential held by Alice to validate her authority to access the protected resource is more flexible and potentially more reliable than a centralized attribute store. Using a VDR minimizes centralized data requests and single points of failure, since suborganizations within Bravo can verify the credential no matter who issued it. And rather than building a central attribute store for Bravo’s PBAC system and linking every system in the enterprise to it, each system can stand alone and make decisions based on its own policies. As a bonus, this means that Bravo stores less personal data, reducing its risk.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Using minimal disclosure reduces risk even further, since other services at Bravo don’t need access to all the data Bravo keeps about Alice. And since presenting trustworthy attributes using credentials is quick, these services don’t need to store the data themselves. They can simply ask Alice whenever she needs the service, cache the data for the duration of the service interaction, and then delete it, confident they can access it again if necessary.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1128">Astute readers will read the last two paragraphs and ask, “But don’t they all have to be linked to the same digital agent and wallet to take advantage of the peer DID relationship?” The answer is no. Each service can have its own peer DID relationship with Alice, verify the attributes from the credential, and know it’s Alice. The only thing they need to know is the public DID that their organization uses and the credential definition.</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Multiparty Credential Authorization Pattern</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1129">We can extend the single-party pattern to include multiple parties. In this pattern, one entity, Bravo Corp, is issuing credentials, but another entity, Certiphi Corp, is verifying the credential and using its attributes to authorize Alice’s access to a resource.</a></p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1130" class="a">Figure 18-6</a> <span style=" color: #000;">shows how Certiphi Corp can use attributes asserted by Bravo Corp as part of its authorization of Alice. The interaction proceeds as follows:</span></p><ol id="l37"><li><p style="padding-top: 8pt;padding-left: 29pt;text-indent: -15pt;line-height: 109%;text-align: left;">Since Bravo Corp is issuing a credential, it writes a public DID and credential definition to the ledger. Again, it might also write a schema and revocation registry, if needed.</p></li><li><p style="padding-top: 7pt;padding-left: 29pt;text-indent: -15pt;text-align: left;">Alice and Bravo establish a peer DID relationship.</p></li><li><p style="padding-top: 9pt;padding-left: 29pt;text-indent: -15pt;text-align: left;">Bravo issues a credential to Alice.</p></li><li><p style="padding-top: 9pt;padding-left: 29pt;text-indent: -15pt;text-align: left;">Alice and Certiphi establish a peer DID relationship.</p></li><li><p style="padding-top: 9pt;padding-left: 29pt;text-indent: -15pt;line-height: 109%;text-align: left;">Alice tries to access the protected resource at Certiphi. The request is intermediated by Certiphi’s IAM system.</p></li><li><p style="padding-top: 3pt;padding-left: 29pt;text-indent: -15pt;line-height: 109%;text-align: left;"><a name="bookmark1130">Certiphi is using a PBAC system, so the IAM system makes a credential request to Alice that asks for the specific attributes the policy needs to grant access to the resource.</a></p></li><li><p style="padding-top: 7pt;padding-left: 29pt;text-indent: -15pt;line-height: 109%;text-align: left;">Alice sees the request and authorizes her agent to present those attributes based on the credentials she holds. The agent gives Alice the option to use the credential from Bravo, since it has the attributes needed to satisfy Certiphi’s request.</p></li><li><p style="padding-top: 7pt;padding-left: 29pt;text-indent: -15pt;line-height: 109%;text-align: left;">Certiphi cryptographically validates the <i>fidelity </i>of the presentation to ensure it’s from Bravo, is about Alice, hasn’t been tampered with, and hasn’t been revoked. They might also need to validate the <i>provenance </i>of the attributes in the proof. Certiphi is the credential verifier in this pattern.</p></li></ol><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="594" height="497" alt="image" src="Image_458.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="123" height="46" alt="image" src="Image_459.jpg"/></span></p><p class="s389" style="text-indent: 1pt;line-height: 91%;text-align: left;">4. Peer DID relationship</p><p class="s390" style="padding-top: 7pt;padding-left: 14pt;text-indent: 0pt;text-align: left;">Z <i>Proof presentment</i></p><p style="text-indent: 0pt;text-align: left;"/><p class="s391" style="text-indent: 0pt;line-height: 14pt;text-align: center;">IAMsystem</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s391" style="text-indent: 0pt;text-align: center;">[<span class="s392"> </span>PBAC system<span class="s392"> </span>]</p><p style="text-indent: 0pt;text-align: left;"/><p class="s389" style="text-indent: 4pt;text-align: left;">8<span style=" color: #232323;">. </span>Veriff es public DID and credential</p><p class="s389" style="padding-left: 17pt;text-indent: 0pt;line-height: 12pt;text-align: left;">deffnition</p><p style="text-indent: 0pt;text-align: left;"/><p class="s394" style="text-indent: 0pt;line-height: 17pt;text-align: left;">• <span style=" color: #019146;">•</span></p><p style="text-indent: 0pt;text-align: left;"/><p class="s396" style="padding-left: 11pt;text-indent: 0pt;line-height: 15pt;text-align: left;">Bravo Corp</p><p class="s397" style="padding-top: 8pt;padding-left: 8pt;text-indent: -8pt;line-height: 93%;text-align: left;">7. <span class="s389">Writes public DID and credential</span></p><p class="s389" style="padding-left: 18pt;text-indent: 0pt;line-height: 12pt;text-align: left;">deffnition</p><p style="text-indent: 0pt;text-align: left;"/><p class="s396" style="text-indent: 0pt;line-height: 15pt;text-align: left;">Certiphi Corp</p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s392" style="padding-top: 11pt;padding-left: 22pt;text-indent: 0pt;text-align: left;">Verifiable data registry</p><p style="text-indent: 0pt;text-align: left;"/><p class="s60" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: center;">Figure 18-6. Multiparty credential-based authorization pattern</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Certiphi’s PBAC system uses the attributes in the proof presentation to authorize Alice’s access.</p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">There are several things to note about this pattern. First, the DID relationship Alice and Certiphi create in step 4 could be ephemeral; it needn’t be permanent unless the parties need it to be. The relationship between Alice and Bravo is likely long-lived, since Bravo has issued a credential asserting something about Alice.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Second, there is no direct connection or link between Bravo Corp and Certiphi Corp. They needn’t have any preexisting business or technical relationship. Certiphi needn’t connect to a Bravo Corp API. The VDR allows Certiphi to know important things about the credential without a direct connection.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark945" class="s33">Third, the primary difference between the single-party and multiparty patterns is step 8: checking the fidelity and provenance of the credential. The fidelity check can be done automatically using cryptography. But, as you learned in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 15</span>, determining provenance is not a trivial thing, since it involves Certiphi determining that it can trust attributes attested by Bravo.</p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark945" class="s33">Provenance is a governance issue, not a technical one. The governance issue could be simple or complex, as </a><a href="#bookmark945" class="a">Chapter 15</a> <a href="#bookmark1316" class="s33">discussed. </a><a href="#bookmark1316" class="a">Chapter 22</a> <span style=" color: #000;">takes this up again in more detail.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Revisiting the Generalized Authentic Data Transfer Pattern</p><p class="s55" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark945" class="s33" name="bookmark1131">All the previous interaction patterns are specializations of the general data transfer pattern that should be familiar to you from </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 15</span><a href="#bookmark1132" class="s33">. I’ll discuss the general pattern again here so you can place the three previous patterns inside it. The general data transfer pattern shown in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 18-7</span> <span style=" color: #000;">moves beyond simple authentication and authorization patterns to using identity data in workflows.</span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">In this pattern, all the interactions are identical to the pattern for multiparty authorization in the last section, with a few exceptions. One is that Alice is accessing a general web service in step 5 that needs data to proceed, rather than a protected resource. The web service might be an IAM system, but it needn’t be. The other is that the web service uses the data from the proof presentation as part of its workflow, such as filling out a form.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">We can view all the previous patterns as specializations of this pattern. For instance:</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_460.png"/></span></p><p style="padding-top: 10pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">The peer DID relationship provides a mutually authenticated communications channel in every case. You can always use this to know that you’re talking to the entity with whom the relationship was originally established—the core requirement for any authentication system.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_461.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Transferring attributes using VCs for PBAC is just a special case of transferring attribute data in a trustworthy manner.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_462.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark945" class="s33">As you learned in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 15</span>, there’s no need for the data transferred in the general pattern to come from a single credential. In fact, the service can ask for attributes without knowing what credentials Alice holds. Alice’s agent will match the requested attributes to the credentials Alice holds. Alice can choose which credentials to use for specific attributes if</p><p style="padding-top: 3pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a name="bookmark1132">she wants.</a></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_463.png"/></span></p><p class="s55" style="padding-top: 8pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1132" class="s33">While </a><a href="#bookmark1132" class="a">Figure 18-7</a> <span style=" color: #000;">shows Alice accessing a web service, this can be further generalized beyond the web. Any data needed for an online workflow can be transferred using VCs. The next chapter will discuss how DID-based messaging can be the basis for this.</span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_464.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">While this pattern involves Alice and two organizations, there’s no reason why people can’t be credential issuers and verifiers. Any party in these diagrams could play any of the roles.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="594" height="492" alt="image" src="Image_465.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="123" height="46" alt="image" src="Image_466.jpg"/></span></p><p class="s389" style="text-indent: 1pt;line-height: 91%;text-align: left;">4. Peer DID relationship</p><p class="s390" style="padding-top: 7pt;padding-left: 14pt;text-indent: 0pt;text-align: left;">Z <i>Proof presentment</i></p><p style="text-indent: 0pt;text-align: left;"/><p class="s398" style="text-indent: 0pt;line-height: 14pt;text-align: left;">IAMsystem</p><p style="text-indent: 0pt;text-align: left;"/><p class="s389" style="text-indent: 4pt;text-align: left;">8.Veriff es public DID and credential</p><p class="s389" style="padding-left: 17pt;text-indent: 0pt;line-height: 12pt;text-align: left;">deffnition</p><p style="text-indent: 0pt;text-align: left;"/><p class="s396" style="padding-left: 11pt;text-indent: 0pt;line-height: 15pt;text-align: left;">Bravo Corp</p><p class="s397" style="padding-top: 7pt;padding-left: 8pt;text-indent: -8pt;line-height: 93%;text-align: left;">7. <span class="s389">Writes public DID and credential</span></p><p class="s389" style="padding-left: 18pt;text-indent: 0pt;line-height: 12pt;text-align: left;">deffnition</p><p style="text-indent: 0pt;text-align: left;"/><p class="s396" style="text-indent: 0pt;line-height: 15pt;text-align: left;">Certiphi Corp</p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s392" style="padding-top: 11pt;padding-left: 22pt;text-indent: 0pt;text-align: left;">Verifiable data registry</p><p style="text-indent: 0pt;text-align: left;"/><p class="s394" style="padding-left: 3pt;text-indent: 0pt;line-height: 11pt;text-align: left;">• <span style=" color: #039046;">•</span></p><p style="text-indent: 0pt;text-align: left;"/><p class="s60" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: center;">Figure 18-7. Credential-based data transfer pattern</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Viewing traditional IAM functions like authentication and authorization as special-purpose authentic data transfers significantly broadens identity beyond its traditional bounds. While this expanded view of digital identity may make some uncomfortable, I think it is perfectly aligned with the realization that we build identity systems to manage relationships rather than identities. Every relationship is unique. Flexible, trustworthy VCs uniquely serve those relationships and introduce the means of moving digital identity beyond just authentication and authorization.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">What If I Lose My Phone?</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1154" class="s33" name="bookmark1133">If people are storing all their important, sensitive data in an identity wallet, protecting that information from the disasters that will inevitably occur becomes critical. One of the chief concerns for any system using cryptographic keys is making them not just easy to use but protecting them from attackers or even simple loss. Many cryptographic systems have failed the test of time because of the poor user experience around key backup, recovery, and security. I believe it’s one of the things holding back cryptocurrencies from more widespread adoption. So, how do identity wallets and agents avoid this same fate?</a><a href="#bookmark1154" class="s42">8</a><a name="bookmark1134">&zwnj;</a><a name="bookmark1135">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_467.png"/></span></p><p style="padding-top: 5pt;padding-left: 29pt;text-indent: -24pt;line-height: 174%;text-align: left;">There are many scenarios that could pose a problem: Alice loses her phone</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_468.png"/></span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 13pt;text-align: left;">Alice can’t unlock her phone</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_469.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_470.png"/></span></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 165%;text-align: left;">Alice loses or forgets a cryptographic key Alice’s laptop is hacked</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_471.png"/></span></p><p style="padding-left: 29pt;text-indent: 0pt;text-align: left;">Alice is the victim of a ransomware attack</p><p style="padding-top: 10pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The common denominator in these is that Alice has lost control of the agent that manages her identity wallet. Fortunately, Alice can prepare for this possibility, making recovery possible and keeping her secrets safe.</p><p class="s59" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;"><a href="#bookmark1155" class="s33" name="bookmark1136">At this point in the book, you are familiar with the basics of DIDs, VCs, and their cryptographic underpinnings.</a><a href="#bookmark1155" class="s42">9</a> <a href="#bookmark1156" class="s33">That understanding will help as we follow along with Alice, who has just discovered her phone was stolen from a park bench by Malfoy. To start, let’s assume Alice’s phone has only weak protection, in the form of a PIN to unlock it.</a><a href="#bookmark1156" class="s42">10</a> <span class="p">Alice takes two steps as soon as she’s aware of the loss.</span><a name="bookmark1137">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Step 1: Alice Revokes the Lost Agent’s Authorization</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1138">Alice’s first move upon discovering her phone is missing should be to cancel its permissions to represent her. By revoking the agent, Alice limits how Malfoy can use it, should he get past the device’s PIN. Impersonating Alice requires more than her keys, credential, and link secret—it also requires that the derived credential presentation be done from an agent Alice has authorized</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">to represent her.</p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Alice revokes the device using some other agent she controls. That might be an agent on her laptop or one she controls in the cloud. This requires, of course, that she’s made these provisions and prepared for the possibility that she might lose her phone. She could even require control of more than one additional agent to revoke agents so that losing control of one doesn’t risk having an attacker revoke the others she still controls if they gain access before she realizes what’s happened.</p><p class="s59" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1157" class="s33" name="bookmark1139">Alice can revoke her agent because she’s using agents and VDRs that support this feature. The agent authorization is stored on the VDR and the derived credential presentation protocol her agents run requires that presentations be made from agents that have not been revoked. When Alice revokes an agent, the revocation is written to the VDR and anyone verifying a credential presentation will see that the agent has been revoked. Even if Malfoy is extremely sophisticated and can remove the cryptographic secrets from the phone’s secure enclave, he will not be able to use them to impersonate Alice in a credential presentation.</a><a href="#bookmark1157" class="s42">11</a> <span class="p">Writing a revocation to a VDR can be nearly instantaneous and is globally visible.</span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;">Note that unlike schemes that rely on deleting or erasing a device, revoking the agent doesn’t require that the agent be online. Alice can revoke the agent even if Malfoy has turned off the phone and removed the SIM chip.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">One of the most important features of agent revocation is that it’s reversible. If Alice later recovers her phone, she can unrevoke its agent and continue using the keys and credentials it contains. This allows Alice to be aggressive and err on the side of caution. Anytime she feels like she might have lost control of an agent, she can revoke its authorization to represent her until she’s convinced that she’s back in control.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: justify;">Step 2: Alice Rotates Her Relationship Keys</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1140">Revoking the agent means that Malfoy can’t impersonate Alice in any credential presentations. But if he can break in, he could still use the keys underpinning Alice’s peer relationships to sign and encrypt messages with Alice’s contacts. Protecting against this requires that Alice rotate her private keys. One of the advantages of autonomic identifiers like peer DIDs and KERI identifiers is that they make it possible to rotate keys without needing to change the identifier that is the basis for the relationship.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Alice’s user experience to rotate all her keys could be as simple as a single button press. Behind the scenes, the agent Alice has control of and is using to perform revocations must rotate the keys underlying each DID she’s shared and update the DID documents for each DID-based relationship. If the DID is public, that would require writing to the VDR. If it’s a peer DID, then Alice’s agent would use the normal method for notifying other parties in the peer relationship of DID document changes based on deltas.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: justify;">What Alice Has Protected</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">By taking the two simple steps of revoking the agent and her relationship keys, Alice has accomplished a lot:</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_472.png"/></span></p><p style="padding-top: 8pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Malfoy can’t use the contents of the stolen wallet and agent to impersonate her in an existing or new relationship.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_473.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Alice can use other agents she controls to continue using her existing relationships and credentials.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_474.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Alice can establish new relationships using her existing credentials without fear that Malfoy will misuse them in another context.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_475.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Malfoy can’t request new credentials in Alice’s name because he has no control of her credentials or relationship keys.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_476.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Alice can buy a new phone, install an agent on it, and use it the same way she did her old phone, with the same relationships and credentials.</p><p style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">As a result, Alice’s immediate risk is mitigated and there are few long-term impacts to having her phone stolen—at least for her SSI-based relationships and credentials.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Protecting the Information in Alice’s Wallet</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1141">Earlier, I assumed that Alice’s phone has only weak protection in the form of a PIN to unlock it. That raises the question of how the secrets in Alice’s wallet are protected. Identity wallets are encrypted and, in best practice, the unlock keys are stored separately. Because of that encryption, Malfoy might see the metadata about items stored in the wallet like creation or modifications dates, size, and data types.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The protections that the unlock key provides are largely a function of features of the underlying operating system. If Alice’s device has a secure enclave protected with biometrics rather than a simple PIN, and the wallet is designed to store sensitive data in the enclave, then Malfoy may have a very hard time breaking into Alice’s wallet.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Suppose that’s not the case, and Malfoy manages to break into the wallet. Malfoy can now see every DID, key pair, and credential that Alice knows about. He could find out private information like Alice’s birthday, her driver’s license information, or sensitive information stored in credentials, like account numbers. But, presumably, Alice’s bank accounts and credit cards are protected by her ability to respond correctly to credential challenges. Thus getting the account number isn’t very useful, since Malfoy can’t use the keys and credentials to access the account.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark945" class="s33" name="bookmark1142">If you recall our discussion of noncorrelating credential presentations in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 15</span>, there is a piece of information in Alice’s wallet called a <i>link secret</i>. The use of “secret” in the name may give you the idea that its exposure has dire consequences for Alice, but such is not the case. The link secret is used to create blinded identifiers when credentials are issued to Alice, and she uses ZKPs in derived credential presentations to prove she knows the value of the blinded identifier without revealing it. Alice has revoked the agent, and Malfoy can’t use the link secret to request</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">new credentials or make presentations. He can’t correlate it to any of Alice’s credential presentations in the past or future, since it’s always used in a blinded fashion. Alice can continue to use her link secret and the credentials based on it <i>even though Malfoy knows it</i>.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">In short, even if Malfoy gets into the wallet, he can’t do Alice much harm.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Censorship Resistance</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1143">Censorship </a><a href="#bookmark291" class="s33">is the act of preventing someone from speaking. As you learned in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 8</span><span class="p">, speech is defined as any data packet communicated on behalf of a speaker. Since Alice’s agent is doing the speaking on her behalf, the best way to censor Alice is to control her agents.</span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1144">As I just discussed, a hacker would have little chance of upsetting Alice’s communications by stealing Alice’s device—she could use agents on other devices just as easily. A hack that embeds itself on her device might be able to block her from speaking altogether, something she’d undoubtedly notice, but it can’t single out specific messages or recipients since messages are encrypted and sent on secure channels. Even if the hacker could see the DIDs, they don’t identify who Alice is speaking to—they are </a><i>private</i><a href="#bookmark291" class="s33">, as I defined the term in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 8</span><a href="#bookmark1158" class="s33">.</a><a href="#bookmark1158" class="s42">12</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The best way to censor Alice’s communications using her identity agent is to be embedded in the agent itself. Protecting against this is a software security issue, and the answers are familiar: using software from trusted sources, conducting code and operation reviews, and ensuring that installed apps haven’t been tampered with. None of this is specific to identity agents or wallets.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The biggest threat to Alice is from governments or other actors who can control or coerce ecosystems, so that all agents are spying on the people and organizations who use them. This is not a problem that can be solved with cryptography; the issue here is one of governance and human rights.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark1145">Web3, Agents, and Digital Embodiment</a></p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1146">As I write this in 2022, </a><i>Web3 </i>is a hot topic. One definition of Web3 that I’m particularly fond of looks like this:</p><p class="s35" style="padding-top: 8pt;padding-left: 11pt;text-indent: 0pt;line-height: 170%;text-align: left;">Web1: read Web2: read, write</p><p class="s35" style="padding-left: 11pt;text-indent: 0pt;line-height: 14pt;text-align: left;">Web3: read, write, own</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">I don’t know if the name “Web3” will continue to be used. And I don’t know that <i>own </i>is the right word; <i>autonomy </i>isn’t as pithy, even if it is more appropriate. But I do think the ideas behind Web3 resonate with many people, well beyond the cryptocurrency phenomenon that started it.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/hBF-E" class="s33" target="_blank">In late 2021, Tim O’Reilly published </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">“Why It’s Too Early to Get Excited About Web3”</span>, an excellent discussion on the role of bubbles in industrial transformation. He uses this historical lens to look at Web3 and where it stands in its developmental arc. One of O’Reilly’s points is that our architectures tend to fluctuate between decentralized and centralized models. He uses</p><p class="s55" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/X2xyy" class="a" target="_blank">Clayton Christensen’s law of conservation of attractive profits</a> <span style=" color: #000;">to show why this happens. O’Reilly says:</span></p><p class="s35" style="padding-top: 8pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">I love the idealism of the Web3 vision, but we’ve been there before. During my career, we have gone through several cycles of decentralization and recentralization. The personal computer decentralized computing by providing a commodity PC architecture that anyone could build and that no one controlled. But Microsoft figured out how to recentralize the industry around a proprietary operating system. Open source software, the internet, and the World Wide Web broke the stranglehold of proprietary software with free software and open protocols, but within a few decades, Google, Amazon, and others had built huge new monopolies founded on big data.</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">O’Reilly’s broader point is that while there’s a lot of promise, the applications that deliver a decentralized experience for most people just aren’t there yet. Enthusiasts like to focus on decentralized finance, but I don’t think that’s enough (nor, I think, does O’Reilly). While centralized payments are a big part of the problem, I don’t think it’s the most fundamental. The most fundamental problem is that people have no place to stand in the modern web. They are not <i>digitally embodied</i>, as I’ve termed it.</p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/rlBF1" class="s33" target="_blank">In “</a><a href="https://oreil.ly/rlBF1" class="a" target="_blank">Why Web3?”</a> <span style=" color: #000;">Fred Wilson, who has as deep an understanding of how the underlying technology works as anyone, explains it like this:</span></p><p class="s35" style="padding-top: 8pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">It all comes down to the database that sits behind an application. If that database is controlled by a single entity (think company, think big tech), then enormous market power accrues to the owner/administrator of that database.</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1024" class="s33">This should resonate with what you learned about the locus of control and identity architectures in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 16</span>. With algorithmic and autonomic identity architectures, Wilson’s application databases are decentralized. As I discussed, companies will continue to have systems for keeping track of who they interact with. But people will also have software—<i>identity agents</i>—to keep track of their relationships with these companies. More importantly, agents allow us to interact with each other without having to be controlled by someone else’s administrative system. <i>That’s the most important benefit of identity agents: digital embodiment.</i></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">In the next chapter, I’ll explore how agents and the protocol at the heart of agent interactions, DIDComm, create a secure, identity-enabled, privacy-respecting messaging overlay on top of the internet.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="624" height="1" alt="image" src="Image_477.png"/></span></p><ol id="l38"><li><p class="s65" style="padding-top: 5pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark1147">	</a><span class="s45">That said, these two ideas are not unrelated. As computing systems become more pervasive and the user experience becomes more ambient, the need for digital embodiment will become more and more critical.</span></p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a href="https://oreil.ly/HQOwA" style=" color: black; font-style: normal; font-weight: normal; text-decoration: none;" target="_blank" name="bookmark1148">	</a><a href="https://oreil.ly/HQOwA" class="s47" target="_blank">Marshall McLuhan recognized this problem</a> with respect to electronic media in general as early as 1977. He called it being <i>discarnate</i>.</p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark1149"><span class="s65">	</span></a>I’ve heard various people object to the term <i>wallet</i>, but so far, no one has come up with anything else that has stuck, so for now, <i>wallet </i>is the word the industry uses.</p></li><li><p class="s69" style="padding-top: 6pt;padding-left: 32pt;text-indent: -11pt;text-align: left;"><a href="https://oreil.ly/52Pc3" class="s68" target="_blank" name="bookmark1150">I adapted this figure from “</a><a href="https://oreil.ly/52Pc3" class="s47" target="_blank">Aries RFC 0050: Wallets”</a> <span style=" color: #000;">from the Hyperledger Aries Project, October 2021.</span></p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 32pt;text-indent: -11pt;text-align: left;"><a name="bookmark1151">I refer here to credentials in the general sense; these are not compliant with the VCs standard.</a></p></li><li><p class="s65" style="padding-top: 3pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark1152">	</a><a href="https://oreil.ly/aP_kK" class="s68" target="_blank">For more on the marketplace for wallets, see Darrell O’Donnell, “</a><a href="https://oreil.ly/aP_kK" class="s47" target="_blank">The Current and Future State of Digital Wallets”</a><span class="s69"> </span><span class="s45">(white paper, Continuum Loop, April 2019).</span></p></li><li><p class="s65" style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark1153">	</a><a href="#bookmark945" class="s68">Beyond these identity-specific functions, agents can also play a role in payments (see </a><a href="#bookmark945" class="s64">Chapter </a><span class="s67">15</span><span class="s45">). Building payments into an identity wallet would make the exchange of value for identity data easier and more secure, whether this is in the form of credentials or not. I will not discuss incorporating payments into an agent in detail here, because it’s outside the scope of this chapter.</span></p></li><li><p class="s69" style="padding-top: 6pt;padding-left: 32pt;text-indent: -11pt;text-align: left;"><a href="https://oreil.ly/Qbii5" class="s68" target="_blank" name="bookmark1154">The material in this section is based on the excellent</a><a href="https://oreil.ly/Qbii5" class="s46" target="_blank"> </a><a href="https://oreil.ly/Qbii5" class="s47" target="_blank">Sovrin Foundation paper</a> <span style=" color: #000;">by Daniel Hardman.</span></p></li><li><p class="s65" style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark1155">	</a><span class="s45">For this discussion, I assume Alice’s agent has many of the features in the Hyperledger Aries reference agent. This grounds the discussion in several specific features that are helpful in Alice’s predicament. There’s nothing about these features that couldn’t be built into other agent software as well.</span></p></li><li><p class="s65" style="padding-top: 6pt;padding-left: 27pt;text-indent: -12pt;text-align: left;"><a name="bookmark1156">	</a><span class="s45">For this discussion, we’ll ignore the help Alice’s smartphone operating system may provide, like the ability to wipe the phone remotely. Alice may have to avail herself of that remedy, but Alice should be able to recover control of her identity assets without resorting to that.</span></p></li><li><p style="padding-top: 6pt;padding-left: 27pt;text-indent: -12pt;text-align: left;"><a href="https://oreil.ly/O5XKa" style=" color: black; font-style: normal; font-weight: normal; text-decoration: none;" target="_blank" name="bookmark1157">	</a><a href="https://oreil.ly/O5XKa" class="s68" target="_blank">For more on the technology underlying these capabilities, see</a><a href="https://oreil.ly/O5XKa" class="s46" target="_blank"> </a><a href="https://oreil.ly/O5XKa" class="s47" target="_blank">“DKMS (Decentralized Key Management System) Design and Architecture V3”</a><a href="https://oreil.ly/O5XKa" class="s46" target="_blank"> </a><a href="https://oreil.ly/O5XKa" class="s68" target="_blank">by Drummond Reed, Jason Law, Daniel Hardman, and Mike Lodder.</a></p></li><li><p class="s65" style="padding-top: 6pt;padding-left: 27pt;text-indent: -12pt;text-align: left;"><a name="bookmark1158">	</a><span class="s45">This assumes that the DIDs are peer, not public. Privacy is one of the big advantages of using peer DIDs instead of public DIDs for relationships.</span></p></li></ol><p class="s21" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark1159">Chapter 19. Smart Identity Agents</a><a name="bookmark1160">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="624" height="1" alt="image" src="Image_478.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Previous chapters have discussed agents and their capabilities without saying much about how they work, other than to say they exchange messages. This chapter will discuss the protocol that agents use, DIDComm, and its importance in creating a self-sovereign internet. DIDComm is an <i>encapsulating protocol</i>—you can define other protocols that run in it. While I’ve focused on the role agents play in credential exchange, DIDComm’s properties make agents useful for more than that. I call agents that are used to participate in arbitrary protocol interactions <i>smart agents</i>.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">I begin with a discussion of self-sovereign authority and its relationship to self-sovereign communication. Next you’ll learn about DIDComm messaging and its inherent support for defining protocols. Credential exchange protocols are just two of many possible protocols. The final part of the chapter discusses smart agents and their role in helping people operationalize their online relationships.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Self-Sovereign Authority</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1161">You might hear people talk about </a><i>decentralized identity </i>instead of using the name <i>self-sovereign identity </i>(SSI). The word <i>sovereign </i>has some negative connotations for some, and others just don’t understand what it means. Personally, I don’t like the word <i>decentralized </i><a href="https://oreil.ly/BELbP" class="s33" target="_blank">to describe identity systems, since decentralization is an implementation strategy, not an outcome or feature. In an answer </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">I authored on Quora about Web3</span>, I said:<a name="bookmark1162">&zwnj;</a><a name="bookmark1163">&zwnj;</a><a name="bookmark1164">&zwnj;</a><a name="bookmark1165">&zwnj;</a></p><p class="s35" style="padding-top: 8pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">While people often talk about decentralization as an unalloyed good and the answer to every ill, the truth is that decentralization is just an implementation strategy. The goals of Web3 include self-sovereignty (autonomy and independence) and censorship resistance.</p><p class="s35" style="padding-left: 11pt;text-indent: 0pt;text-align: left;">Decentralization is a good way to achieve these things, but I can imagine decentralized services (in the technical sense) that don’t achieve either of these. It’s ok to use “decentralization” as shorthand for these goals, but recognize the goals, not the implementation technique.</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1166">Decentralization isn’t the goal. The goals are much grander and include nothing less than a digital world that respects </a><i>human dignity and autonomy</i>.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/-QCaB" class="s33" target="_blank" name="bookmark1167">In </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">“Web3 Is Self-Certifying”</span>, Jay Graber defines Web3 as <i>user-generated authority, enabled by self-certifying web protocols</i>. This is more nuanced than the definition I gave at the end of the previous chapter. I like <i>self-sovereign </i>better than <i>user-generated </i>because I think it speaks better to the source of our authority to act. Besides, <i>user </i>makes me think of a drug addict, dependent on someone for their next fix. <i>Sovereign </i>is the right word for describing the essential distinction between our inalienable self and the administrative identifiers and accounts endemic in Web2.<a name="bookmark1168">&zwnj;</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Even so, I like Graber’s work to define Web3 in terms of sovereign-source authority and self- certifying protocols.</p><p class="s55" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1169"><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 19-1</span></a> <span style=" color: #000;">distinguishes Web 1.0 from Web 2.0 and Web 3.0 based on Graber’s discussion. The axes of the matrix differentiate between who generates content and who has authority.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="442" height="422" alt="image" src="Image_479.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark1170">Figure 19-1. Comparing Web 1.0 versus 2.0 versus 3.0</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1171">In this figure, a </a><i>host </i>is some server, somewhere. In Web 1.0, it was just the machine under my desk, with no notion of users other than me. In other words, the website I hosted had no logins, no authentication, no identities. That didn’t matter, because it was public and read-only for anyone besides me. Web 2.0 separated the need to host the content from the desire to generate it: for example, blogging on platforms like Radio, Typepad, and WordPress. Later, Twitter, Facebook, and other social media platforms filled this role and became behemoths. All these systems use administrative identity to provide <i>multitenanted web services</i>. In Web 3.0, people are returning to generating content (broadly defined) under their own authority.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark875" class="s33" name="bookmark1172">You learned about self-certification in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 14</span>. A closely related idea is <i>self-administration</i>. Self-administration means that something is independently administered by the controller—not just in the Web 2.0 sense of “I have a password,” but in the sense that there <i>is </i>no administrator other than the controller.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://ipfs.tech/" class="s33" target="_blank">Here’s an example of what I mean. I’ve created a completely self-administered blog using </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">IPFS</span> <a href="https://nofilter.org/" class="s33" target="_blank">and </a><a href="https://nofilter.org/" class="s31" target="_blank">No</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">FILTER</span>. IPFS is a decentralized file storage system that addresses files using their hash as the address. <i>No</i><a href="https://metamask.io/" class="s33" target="_blank">FILTER brands itself as “the world’s first unstoppable, uncensorable, undeplatformable, decentralized freedom of speech app.” There’s no server storing files, just a set of JavaScript files that run in your browser. Identity is provided via </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">MetaMask</span>, a JavaScript</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">application that runs in the browser and uses an Ethereum address as your identifier.</p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">I created some posts using <i>No</i>FILTER to demonstrate how it works. My <i>No</i>FILTER blog can be accessed here:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s76" style="padding-left: 17pt;text-indent: 0pt;text-align: left;">https://nofilter.org/#/0xdbca72ed00c24d50661641bf42ad4be003a30b84</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1173">The portion after the # is the Ethereum address I used at </a><i>No</i><a href="#bookmark1212" class="s33">FILTER.</a><a href="#bookmark1212" class="s42">1</a><span class="s59"> </span>If you look at a single post, you’ll see a URL like this:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s76" style="padding-left: 17pt;text-indent: 0pt;text-align: left;">https://nofilter.org/#/0xdbca72ed00c24d50661641bf42ad4be003a30b84</p><p class="s76" style="padding-left: 38pt;text-indent: 0pt;text-align: left;">/QmTn2r2e4LQ5ffh86KDcexNrTBaByyTiNP3pQDbNWiNJyt</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;">Note the additional identifier following the slash after my Ethereum address. This is the IPFS hash of the content of that post and is available on IPFS directly. What’s stored on IPFS is the JSON of the post:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s76" style="padding-top: 5pt;padding-left: 17pt;text-indent: 0pt;text-align: left;">{</p><p class="s76" style="padding-left: 27pt;text-indent: 0pt;line-height: 106%;text-align: left;">&quot;author&quot;: &quot;0xdbca72ed00c24d50661641bf42ad4be003a30b84&quot;, &quot;title&quot;: &quot;The IPFS Address&quot;,</p><p class="s76" style="padding-left: 27pt;text-indent: 0pt;line-height: 10pt;text-align: left;">&quot;timestamp&quot;: &quot;2021-10-25T22:46:46-0-6:720&quot;,</p><p class="s76" style="padding-left: 27pt;text-indent: 0pt;text-align: left;">&quot;body&quot;: &quot;&lt;p&gt;If I go here:&lt;/p&gt;&lt;p&gt;&lt;a href=\&quot;https://ipfs.io/ipfs/</p><p class="s76" style="padding-left: 17pt;text-indent: 0pt;text-align: left;">QmT57jkkR2sh2i4uLRAZuWu6TatEDQdKN8HnwaZGaXJTrr\&quot;;&gt;...&quot;</p><p class="s76" style="padding-left: 17pt;text-indent: 0pt;text-align: left;">}</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">JavaScript running in the browser renders that JSON human readable.</p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">As far as I can tell, this system is completely decentralized. The identity is just an Ethereum address that anyone can create using MetaMask. The files are stored on IPFS in a decentralized manner, by providers around the internet. They are rendered into blog posts using JavaScript that runs in a browser, not on a server. So long as you have access to the JavaScript files from somewhere, you can write and read articles without relying on any central server. There are no third parties (hosts or platforms) to say what I can or can’t post, censor me, surveil me, or otherwise intermediate me and my posts.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">While I control my <i>No</i>FILTER blog using an autonomic identifier in the form of an Ethereum address, the MetaMask wallet is less sophisticated than most password managers. The agent in this scenario is weak and isn’t delivering a truly self-sovereign experience. I can’t easily rotate keys or use credentials to provide trustworthy information. For that, I would need a <i>smart identity agent </i>like the one discussed in the previous chapter.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Principles of Self-Sovereign Communication</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/ETIei" class="s33" target="_blank" name="bookmark1174">In </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">“Self-Sovereign Communication”</span>, Oskar van Deventer discusses the communications layer enabled by DIDs. This is the same layer that I discussed in the last chapter when I said that agents exchange messages based on DIDs. Van Deventer lays out nine requirements for self- sovereign communications:</p><ol id="l39"><li><p style="padding-top: 3pt;padding-left: 29pt;text-indent: -15pt;line-height: 109%;text-align: left;">The communication channel shall be usable for machine-readable issuer-holder-verifier interactions.</p></li><li><p style="padding-top: 7pt;padding-left: 29pt;text-indent: -15pt;line-height: 109%;text-align: left;">The communication channel shall be protected against eavesdropping, impersonation, message modification and repudiation.</p></li><li><p style="padding-top: 7pt;padding-left: 29pt;text-indent: -15pt;text-align: left;">Parties shall be able to digitally find each other and to establish a communication channel.</p></li><li><p style="padding-top: 9pt;padding-left: 29pt;text-indent: -15pt;text-align: left;">The communication channel between counterparties shall be persistent.</p></li><li><p style="padding-top: 9pt;padding-left: 29pt;text-indent: -15pt;text-align: left;">The communication channel shall be intrinsically symmetrical.</p></li><li><p style="padding-top: 9pt;padding-left: 29pt;text-indent: -15pt;line-height: 109%;text-align: left;">The communication channel shall not unnecessarily disclose information between counterparties or to third parties.</p></li><li><p style="padding-top: 7pt;padding-left: 29pt;text-indent: -15pt;text-align: left;">The communication channel shall be unilaterally closable.</p></li><li><p style="padding-top: 9pt;padding-left: 29pt;text-indent: -15pt;text-align: left;">The communication channel shall not depend on third parties more than needed.</p></li><li><p style="padding-top: 9pt;padding-left: 29pt;text-indent: -15pt;line-height: 109%;text-align: left;">The communication channel shall enable compliance with legal requirements, like legal intercept.</p></li></ol><p style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">These are important properties that we need in a self-sovereign messaging system like the one used by smart agents.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Reciprocal Negotiated Accountability</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1175">Van Deventer’s last point is likely to be the most controversial. Indeed, when I read it, my first reaction was to start arguing. One common answer to giving law enforcement access to encrypted communication involves creating technical “backdoors” that provide someone other than the principal the means of decrypting the message. If complying with legal requirements means creating backdoors to smart agent messaging, I’d oppose it. The problem with using backdoors for complying with legal requirements is that they require developers and cloud operators to determine who the good guys are. The whole point of decentralized communication systems is to avoid the kind of centralized single points of failure that backdoors imply.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;"><a href="#bookmark291" class="s33">One answer is provisional authenticity, which you learned about in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 8</span>. The only way to hold people accountable while protecting their privacy is to make the authenticity of a message provisional through agreement.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/YVzVW" class="s33" target="_blank">To that end, Daniel Hardman proposes what he calls </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">reciprocal negotiated accountability</span>. Hardman’s idea is to combine two capabilities—digital watermarks and provisional anonymity— to create a decentralized system that enables accountability. Let’s look more closely.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1176">The first capability is </a><i>digital watermarks, </i>which specify terms of service for the data. The watermark is a cryptographically signed addition to the original document that states the terms behind the sharing. For example, a sales agreement could include data-sharing terms stating that the recipient may not disclose named aspects of the document except under legal subpoena.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark1177">The second is </a><i>provisional anonymity, </i>where identifying information is encrypted and the</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1178">encrypted packaged is shared with the recipient. The keys to decrypt the identifying information are shared with a third party under escrow, with legal requirements that the keys only be revealed to the recipient under specific conditions.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Hardman’s proposal combines these into a decentralized system of opt-in agreements between parties that are tailored to the context and circumstances of the specific communications channel and data sharing. The legal agreement, a form of governance, defines the requirements that must be met for access. He calls this “reciprocal negotiated accountability” because both parties negotiate an agreement about how shared data will be treated.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Reciprocal negotiated accountability won’t please those who wish for unfettered access to communications channels. But it represents an alternative to backdoors that solves many of the problems backdoors present while protecting privacy for legitimate uses—as negotiated by the parties that are sharing data.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark1179">DID-Based Communication</a></p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1180">DIDs and DID-based communication, or </a><i>DIDComm, </i>form the second layer of the SSI stack, providing a secure communications layer for the exchange of identity information via verifiable credentials (VCs). Because of DIDComm’s flexibility and the ability to define protocols on top of DIDComm messaging, it promises to be as important as the identity layer it enables.<a name="bookmark1181">&zwnj;</a></p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 19-2</span> <a href="https://oreil.ly/ZX-Np" class="s33" target="_blank">shows the now-familiar identity metasystem stack. Layer 2, the DID-based agent-to- agent messaging system, is enabled by DIDComm messaging. The DIDComm protocol is governed by the </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">DIDComm specification</span><span style=" color: #000;">, hosted at the Decentralized Identity Foundation. The current ratified version is 2.0.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><table style="border-collapse:collapse;margin-left:123.972pt" cellspacing="0"><tr style="height:75pt"><td style="width:63pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s400" style="padding-top: 3pt;padding-left: 9pt;padding-right: 2pt;text-indent: -6pt;line-height: 93%;text-align: left;">Transaction endorser</p></td><td style="width:65pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s400" style="padding-top: 3pt;padding-left: 13pt;text-indent: -6pt;line-height: 90%;text-align: left;">Credential registry</p></td><td style="width:65pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:4pt"><p class="s400" style="padding-top: 3pt;padding-left: 10pt;text-indent: -6pt;line-height: 90%;text-align: left;">Governance authority</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s401" style="padding-left: 15pt;text-indent: 0pt;text-align: center;">.</p></td><td style="width:64pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:4pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:4pt"><p class="s400" style="padding-top: 2pt;padding-left: 13pt;text-indent: 0pt;text-align: left;">Auditor</p></td><td style="width:63pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:4pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s400" style="padding-top: 3pt;padding-left: 7pt;text-indent: 6pt;line-height: 93%;text-align: left;">Auditor accreditor</p></td></tr></table><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s402" style="text-indent: 0pt;text-align: left;">VDR VDR VDR VDR</p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><span><img width="452" height="132" alt="image" src="Image_480.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="595" height="440" alt="image" src="Image_481.png"/></span></p><p class="s403" style="text-indent: 0pt;line-height: 35pt;text-align: left;">(<span style=" color: #031F34;">11</span></p><p style="text-indent: 0pt;text-align: left;"/><p class="s405" style="padding-top: 2pt;padding-left: 6pt;text-indent: -6pt;line-height: 82%;text-align: left;">J<span class="s406"> </span><span class="s407">Veriff able credential</span></p><p style="text-indent: 0pt;text-align: left;"/><p class="s407" style="padding-left: 5pt;text-indent: 0pt;line-height: 29pt;text-align: left;">Credential <span class="s408">rA</span></p><p class="s407" style="text-indent: 0pt;line-height: 13pt;text-align: left;">presentation</p><p style="text-indent: 0pt;text-align: left;"/><p class="s251" style="text-indent: 0pt;line-height: 15pt;text-align: left;">issuer</p><p style="text-indent: 0pt;text-align: left;"/><p class="s407" style="text-indent: 0pt;line-height: 15pt;text-align: left;">Trust</p><p style="text-indent: 0pt;text-align: left;"/><p class="s409" style="text-indent: 0pt;line-height: 16pt;text-align: left;">Identity system</p><p style="text-indent: 0pt;text-align: left;"/><p class="s409" style="text-indent: 0pt;line-height: 91%;text-align: center;">Layer 4: Content-specific governance</p><p style="text-indent: 0pt;text-align: left;"/><p class="s409" style="text-indent: 0pt;line-height: 92%;text-align: center;">Layer 3: Credential exchange</p><p style="text-indent: 0pt;text-align: left;"/><p class="s407" style="text-indent: 0pt;line-height: 15pt;text-align: left;">Trust</p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><span><img width="595" height="325" alt="image" src="Image_482.png"/></span></p><p class="s409" style="text-indent: 0pt;line-height: 16pt;text-align: left;">Identity metasystem</p><p style="text-indent: 0pt;text-align: left;"/><p class="s409" style="text-indent: 0pt;line-height: 15pt;text-align: center;">Layer 2:</p><p class="s409" style="text-indent: 0pt;line-height: 92%;text-align: center;">DID-based agent-to-agent protocols</p><p style="text-indent: 0pt;text-align: left;"/><p class="s251" style="text-indent: 0pt;line-height: 15pt;text-align: left;">Agent</p><p style="text-indent: 0pt;text-align: left;"/><p class="s410" style="text-indent: 0pt;line-height: 15pt;text-align: left;">          P2P connection       </p><p style="text-indent: 0pt;text-align: left;"/><p class="s402" style="text-indent: 0pt;text-align: left;">DIDs</p><p style="text-indent: 0pt;text-align: left;"/><p class="s402" style="text-indent: 0pt;text-align: left;">DIDs</p><p style="text-indent: 0pt;text-align: left;"/><p class="s402" style="text-indent: 0pt;text-align: left;">DIDs</p><p style="text-indent: 0pt;text-align: left;"/><p class="s402" style="text-indent: 0pt;text-align: left;">DIDs</p><p style="text-indent: 0pt;text-align: left;"/><p class="s409" style="padding-left: 10pt;text-indent: 0pt;line-height: 92%;text-align: center;">Layer 1: Verifiable data registry</p><p class="s407" style="padding-top: 13pt;text-indent: 0pt;text-align: left;">Conffdence</p><p style="text-indent: 0pt;text-align: left;"/><h1 style="text-indent: 0pt;line-height: 80pt;text-align: left;">wwww</h1><p style="text-indent: 0pt;text-align: left;"/><p class="s60" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: center;">Figure 19-2. The identity metasystem stack</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;">The specification’s opening sentence states that “the purpose of DIDComm Messaging is to provide a secure, private communication methodology built atop the decentralized design of DIDs.”</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1182">Note that the specification describes DIDComm as a communications </a><i>methodology</i>. This means that DIDComm is more than just a way to send a message or chat with someone else. DIDComm messaging allows individual messages to be composed into application-level protocols and workflows. This makes DIDComm messaging a foundational technology for performing different kinds of interactions within the framework of trust that a DID-based relationship implies.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Exchanging DIDs</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1183">I’ve previously talked about Alice exchanging DIDs with people and organizations several times, but I haven’t discussed how that happens. You could imagine that Alice generates a new peer DID and emails it to Bob, who replies with one he’s created for Alice. But that leaves both of them entangled in the details of how DIDs work: how they’re created, stored, validated, and so on.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1184"><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Hyperledger Aries RFC 0023</span></a>, entitled <i>DID Exchange Protocol 1.0</i><a href="#bookmark1214" class="s33">, is a protocol for exchanging DIDs that allows the process to be automated by smart identity agents working on Alice and Bob’s behalf.</a><a href="#bookmark1214" class="s42">2</a><a href="#bookmark1186" class="s43"> </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 19-3</span> shows a DID exchange.<a name="bookmark1185">&zwnj;</a></p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="593" height="481" alt="image" src="Image_483.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark1186">Figure 19-3. Alice and Bob exchange DIDs</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1187">The DID Exchange Protocol uses two roles: </a><i>requester </i>and <i>responder</i><a href="#bookmark1186" class="s33">. In </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 19-3</span>, Bob is the requester and Alice is the responder.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/DrFCY" class="s33" target="_blank" name="bookmark1188">The interaction begins with Alice sending Bob an explicit invitation message using the process described by </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Aries RFC 0434 Out-of-Band Protocol</span>. Alternately, Bob might use an implied invitation from a public DID. For example, Bob might be verifying a credential. His agent could resolve the DID in the credential to get the DID document. Information in the DID document would give his agent what it needs to initiate an exchange.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The Out-of-Band message specification is important because Alice may want a new connection to Bob. If so, she can’t use an already established DIDComm connection to message him. The Out-of-Band message is plain text and could be sent as a QR code or clickable URL, in an email message or any other convenient channel. Alice will usually already possess smart agents with DIDComm capabilities, but Bob might not. The invitation gives him the opportunity to get one.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Using the invitation, Bob’s agent has the necessary information to generate a DID and send it with the initial DID document as a request to Alice. Alice’s agent evaluates the DID in Bob’s request using its specific DID method. The request includes information about the invitation so that Alice’s agent can evaluate whether it should accept the request or not. Her agent persists</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;"><a name="bookmark1191">Bob’s DID and DID document in its backing store. Finally, it generates a DID and formulates a response for Bob.</a></p><p class="s59" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1215" class="s33" name="bookmark1189">Bob processes Alice’s response by evaluating the DID Alice gave him and its DID method and persisting the information to his backing store.</a><a href="#bookmark1215" class="s42">3</a> <span class="p">Having completed these steps, Alice and Bob have exchanged DIDs and are ready to begin using DIDComm messaging to communicate with each other.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">DIDComm Messaging</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1190">Once Alice and Bob have exchanged DIDs, they have a DID-based relationship that they can use to exchange messages using the DIDComm protocol. Suppose Alice wishes to send a message to Bob: an invitation to dinner, a job offer, an invoice, or almost anything else. Alice’s smart agent composes the messages as a plain-text JSON message. Alice’s agent resolves Bob’s DID to get his DID document and retrieves two important pieces of information:</a></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_484.png"/></span></p><p style="padding-top: 8pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">The public key that Bob’s agent is using for the <span class="s70">Alice:Bob </span>relationship</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_485.png"/></span></p><p style="padding-top: 8pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">The service endpoint where messages can be delivered: this could be web, email, or almost any other transport that Alice and Bob agree on</p><p style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;">Alice uses Bob’s public key to encrypt the plain-text message and signs it using the private key she created for the <span class="s70">Alice:Bob </span><a href="#bookmark1191" class="s33">relationship. The agent arranges delivery to Bob. This might be a direct connection to Bob’s agent or involve routing through intermediaries. </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 19-4</span> shows the exchange of messages using the <span class="s70">Alice:Bob </span>relationship.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;">Bob’s smart agent receives Alice’s message. He looks up the public key Alice uses for this relationship in the DID document he gets by resolving Alice’s DID. Using the public key in the DID document, Bob authenticates the sender as Alice using the signature, then decrypts it using the private key he created for the <span class="s70">Alice:Bob </span>relationship. Bob’s agent can send a response using a reciprocal process.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="592" height="266" alt="image" src="Image_486.jpg"/></span></p><p class="s60" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: center;">Figure 19-4. Alice and Bob exchange messages</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1191" class="s33">DIDComm interactions are inherently asynchronous. So, while the exchange shown in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 19-4</span> <span style=" color: #000;">is typical, other variations are possible:</span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_487.png"/></span></p><p style="padding-top: 8pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">DIDComm supports occasionally connected endpoints because the asynchronous and simplex nature of the protocol doesn’t require turn-taking or request-response.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_488.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_489.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 165%;text-align: left;">DIDComm interactions can include more than two parties. JSON isn’t the only format allowed for messages.</p><p class="s61" style="padding-top: 10pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Properties of DIDComm Messaging</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">The DIDComm Protocol is designed to have the following properties:</p><p class="s35" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Secure</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Message security is achieved through the protocol’s support for heterarchical (peer-to-peer) connections and decentralized design along with its use of end-to-end encryption.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Private</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Message privacy is built on the exchange of peer DIDs that are created on a per-relationship basis to reduce correlatability and increase privacy.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Decentralized</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">The decentralization of DIDComm rests on the decentralized properties of DIDs. DIDComm messaging does not require specific intermediaries, oracles, or platforms.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Interoperable</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">As an interoperable protocol, DIDComm is not dependent on a specific operating system, programming language, vendor, network, hardware platform, or verifiable data registry (VDR).</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Transport-agnostic</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">In addition to being interoperable, DIDComm can use any transport mechanism including HTTP(S) 1.x and 2.0, WebSockets, Internet Relay Chat (IRC), Bluetooth, Near Field Communication (NFC), Signal, email, push notifications to mobile devices, ham radio, multicast, snail mail, and more.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Routable</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">Like email, Alice and Bob can talk to each other without having a direct connection because</p><p style="padding-top: 3pt;padding-left: 23pt;text-indent: 0pt;line-height: 142%;text-align: left;">it supports routing messages through intermediaries. A single message might be routed over different transports for different legs of its journey.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Extensible</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">The JSON data structure in the plain-text message can contain other data to support higher- level protocols riding on top of DIDComm. I’ll return to this in a later section.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Message Formats</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/r2wY6" class="s33" target="_blank" name="bookmark1192">The use of plain text to describe the messages Alice and Bob exchange doesn’t imply that the message is unstructured. DIDComm messages are based on JWM, </a><a href="https://oreil.ly/r2wY6" class="a" target="_blank">the JSON Web Message</a><a href="https://oreil.ly/r2wY6" class="s36" target="_blank"> </a><a href="https://oreil.ly/r2wY6" class="a" target="_blank">specification</a>. The following example message from the DIDComm specification shows the common elements of a DIDComm plain-text message:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s76" style="padding-top: 5pt;padding-left: 17pt;text-indent: 0pt;text-align: left;">{</p><p class="s76" style="padding-left: 27pt;text-indent: 0pt;text-align: left;">&quot;id&quot;: &quot;1234567890&quot;,</p><p class="s76" style="padding-left: 27pt;text-indent: 0pt;line-height: 106%;text-align: left;">&quot;type&quot;: &quot;&lt;message-type-uri&gt;&quot;, &quot;from&quot;: &quot;did:example:alice&quot;, &quot;to&quot;: [&quot;did:example:bob&quot;], &quot;created_time&quot;: 1516269022,</p><p class="s76" style="padding-left: 27pt;text-indent: 0pt;line-height: 106%;text-align: left;">&quot;expires_time&quot;: 1516385931, &quot;body&quot;: {</p><p class="s76" style="padding-left: 38pt;text-indent: 0pt;line-height: 106%;text-align: left;">&quot;message_type_specific_attribute&quot;: &quot;and its value&quot;, &quot;another_attribute&quot;: &quot;and its value&quot;</p><p class="s76" style="padding-left: 27pt;text-indent: 0pt;line-height: 10pt;text-align: left;">}</p><p class="s76" style="padding-left: 17pt;text-indent: 0pt;text-align: left;">}</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 4pt;padding-left: 5pt;text-indent: 0pt;line-height: 106%;text-align: left;">Most of these are self-explanatory, but a few deserve additional comment. Everything but the <span class="s70">body </span>is header information. The <span class="s70">id </span>is the message identifier and must be unique to the sender across all messages they send. The <span class="s70">type </span>is a URI that identifies a published schema describing the structure of the body. The <span class="s70">to </span>field is an array to accommodate multiple recipients. The <span class="s70">body </span>can be structured, as JSON in this case, depending on the specific type of message being sent.</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;">Messages can also have attachments to supplement the message with other, arbitrary data. Attachments are contained in a key-value pair where the key is <span class="s70">attachments </span>and the value is an array of JSON objects containing the data for the attachment. These work much like attachments in email, including support for MIME types.</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Supporting structured bodies and attachments is what makes DIDComm suitable for issuing and presenting credentials. But its extensibility is useful for more than just credential exchange.</p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 19-5</span> <span style=" color: #000;">illustrates a signed and encrypted DIDComm message. The plain-text message includes both data and metadata and can be wrapped in a signature envelope (identified by the media type JWS [JSON Web Signature]) and an encryption envelope (identified by the media type JWE [JSON Web Encryption]).</span></p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="593" height="708" alt="image" src="Image_490.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark1193">Figure 19-5. DIDComm message formats</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">DIDComm puts messages in a JWE envelope by default to hide content from unauthorized recipients and provide integrity guarantees. The JWE envelope also ensures that only authorized recipients know who the sender is.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Because DIDComm communications occurs within the mutually authenticated and encrypted DIDComm channel, the signature envelope isn’t necessary for the recipient to know who the</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;">sender is. Rather, signed messages are used when the origin of the plain-text message needs to be proven to third parties.</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark291" class="s33">Recall, from </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 8</span>, that a key factor in message privacy is repudiability: if Alice sends a private message to Bob, he shouldn’t be able to prove to Carol that Alice sent the message. Because signing messages needlessly can allow the recipient to prove to others who sent the message, signing should be used only when necessary. As a result, DIDComm messages are not often signed.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark1194">Protocological Power</a></p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1195">DIDComm is designed for extensibility, allowing for protocols to be run on top of it. By using asynchronous, simplex messaging as the lowest common denominator, you can build almost any other interaction pattern on top of DIDComm. Application-layer protocols running on top of DIDComm allow extensibility in a way that also supports interoperability.</a></p><p class="s35" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1196">Protocols </a><span class="p">describe the rules for a set of interactions, specifying the kinds of interactions that can happen without being overly prescriptive about their nature or content. Protocols formalize workflows for specific interactions like ordering food at a restaurant, playing a game, or applying for college.</span></p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/FuQ1C" class="s33" target="_blank" name="bookmark1197">The </a><a href="https://oreil.ly/FuQ1C" class="a" target="_blank">Hyperledger Aries project has a collection of RFCs</a> <a href="https://oreil.ly/wlIYG" class="s33" target="_blank">that describe adopted, accepted, demonstrated, and proposed protocols that can be encapsulated in a DIDComm message. While we frequently think of smart agents being strictly about exchanging peer DIDs to create a connection, request and issue a credential, or prove attributes using credential presentation, these are merely specific protocols defined to run inside the DIDComm messaging protocol. </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">RFC 0036</span> <a href="https://oreil.ly/rf1Qf" class="s33" target="_blank">is the protocol specification for requesting and issuing credentials. </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">RFC 0037</span> <span style=" color: #000;">is the protocol specification for presenting credentials. Dozens, even hundreds, of other protocols are possible.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Playing Tic-Tac-Toe</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/S-qE-" class="s33" target="_blank">Daniel Hardman has </a><a href="https://oreil.ly/S-qE-" class="a" target="_blank">provided a comprehensive tutorial on defining protocols that use</a><a href="https://oreil.ly/S-qE-" class="s36" target="_blank"> </a><a href="https://oreil.ly/S-qE-" class="a" target="_blank">DIDComm</a><a href="https://oreil.ly/ez0H-" class="s33" target="_blank">. Hardman gives a sample definition of a </a><a href="https://oreil.ly/ez0H-" class="a" target="_blank">protocol for playing tic-tac-toe</a><a href="https://oreil.ly/S-qE-" class="s36" target="_blank"> </a>over DIDComm messaging.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The tic-tac-toe protocol defines types of messages that are allowed, the game state, and what messages are allowed in each game state. I recommend it for understanding DIDComm protocols, since it’s familiar and easy to understand.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;">Protocols are defined by a state machine for each role. In the case of tic-tac-toe, there’s just one role, <span class="s70">player</span><a href="#bookmark1198" class="s33">, although it’s held by two parties. </a><a href="#bookmark1198" class="a">Figure 19-6</a> shows Alice and Bob playing tic- tac-toe using a DIDComm relationship. Each keeps track of the game state locally and sends messages allowed by the protocol to play the game.</p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="592" height="462" alt="image" src="Image_491.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark1198">Figure 19-6. Alice and Bob play tic-tac-toe</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 107%;text-align: left;"><a href="#bookmark1199" class="s33">The columns in </a><a href="#bookmark1199" class="a">Table 19-1</a> represent the events (sending and receiving for each of the two allowed message types, <span class="s70">move </span>and <span class="s70">outcome</span>). The rows are the allowed states. Each cell indicates the state to transition next, an error, or unreachable state.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark1199">Table 19-1. State machine for </a><span class="s49">player </span>role in tic-tac-toe</p><p style="text-indent: 0pt;text-align: left;"><br/></p><table style="border-collapse:collapse;margin-left:5.00024pt" cellspacing="0"><tr style="height:28pt"><td style="width:68pt;border-top-style:solid;border-top-width:1pt;border-top-color:#9C9C9C;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#9C9C9C"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:129pt;border-top-style:solid;border-top-width:1pt;border-top-color:#9C9C9C;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#9C9C9C"><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s411" style="padding-left: 11pt;text-indent: 0pt;text-align: left;">Send <span class="s412">move</span></p></td><td style="width:116pt;border-top-style:solid;border-top-width:1pt;border-top-color:#9C9C9C;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#9C9C9C"><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s71" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Receive <span class="s413">move</span></p></td><td style="width:76pt;border-top-style:solid;border-top-width:1pt;border-top-color:#9C9C9C;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#9C9C9C"><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s411" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Send <span class="s412">outcome</span></p></td><td style="width:79pt;border-top-style:solid;border-top-width:1pt;border-top-color:#9C9C9C;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#9C9C9C"><p class="s71" style="padding-top: 3pt;padding-left: 3pt;padding-right: 5pt;text-indent: 0pt;text-align: left;">Receive <span class="s413">outcom </span><span class="s412">e</span></p></td></tr><tr style="height:28pt"><td style="width:68pt;border-top-style:solid;border-top-width:1pt;border-top-color:#9C9C9C;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3"><p class="s414" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">my-move</p></td><td style="width:129pt;border-top-style:solid;border-top-width:1pt;border-top-color:#9C9C9C;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3"><p class="s72" style="padding-top: 2pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">Transition to <span class="s414">their-move </span>or</p><p class="s414" style="padding-left: 11pt;text-indent: 0pt;text-align: left;">wrap-up</p></td><td style="width:116pt;border-top-style:solid;border-top-width:1pt;border-top-color:#9C9C9C;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3"><p class="s72" style="padding-top: 2pt;padding-left: 5pt;padding-right: 1pt;text-indent: 0pt;text-align: left;">Error; send <span class="s414">problem-repo rt</span></p></td><td style="width:76pt;border-top-style:solid;border-top-width:1pt;border-top-color:#9C9C9C;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3"><p class="s72" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Transition to <span class="s414">done</span></p></td><td style="width:79pt;border-top-style:solid;border-top-width:1pt;border-top-color:#9C9C9C;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3"><p class="s72" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Transition to <span class="s414">done</span></p></td></tr><tr style="height:28pt"><td style="width:68pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3" bgcolor="#F0F6FB"><p class="s414" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">their-move</p></td><td style="width:129pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3" bgcolor="#F0F6FB"><p class="s72" style="padding-top: 2pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">impossible</p></td><td style="width:116pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3" bgcolor="#F0F6FB"><p class="s72" style="padding-top: 2pt;padding-left: 5pt;padding-right: 6pt;text-indent: 0pt;text-align: left;">Transition to <span class="s414">my-move </span>or <span class="s414">w rap-up</span></p></td><td style="width:76pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3" bgcolor="#F0F6FB"><p class="s72" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Transition to <span class="s414">done</span></p></td><td style="width:79pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3" bgcolor="#F0F6FB"><p class="s72" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Transition to <span class="s414">done</span></p></td></tr><tr style="height:28pt"><td style="width:68pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3"><p class="s414" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">wrap-up</p></td><td style="width:129pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3"><p class="s72" style="padding-top: 2pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">impossible</p></td><td style="width:116pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3"><p class="s72" style="padding-top: 2pt;padding-left: 5pt;padding-right: 1pt;text-indent: 0pt;text-align: left;">Error; send <span class="s414">problem-repo rt</span></p></td><td style="width:76pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3"><p class="s72" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Transition to <span class="s414">done</span></p></td><td style="width:79pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3"><p class="s72" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Transition to <span class="s414">done</span></p></td></tr><tr style="height:28pt"><td style="width:68pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3" bgcolor="#F0F6FB"><p class="s414" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">done</p></td><td style="width:129pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3" bgcolor="#F0F6FB"><p class="s72" style="padding-top: 2pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">impossible</p></td><td style="width:116pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3" bgcolor="#F0F6FB"><p class="s72" style="padding-top: 2pt;padding-left: 5pt;padding-right: 1pt;text-indent: 0pt;text-align: left;">Error; send <span class="s414">problem-repo rt</span></p></td><td style="width:76pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3" bgcolor="#F0F6FB"><p class="s72" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">(ignore)</p></td><td style="width:79pt;border-top-style:solid;border-top-width:1pt;border-top-color:#C3C3C3;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#C3C3C3" bgcolor="#F0F6FB"><p class="s72" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">(ignore)</p></td></tr></table><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">This table allows us to understand the possible actions a <span class="s70">player </span>might make in any allowed state. For example, if the <span class="s70">player </span>is in the <span class="s70">my-move </span>state, they could send a <span class="s70">move </span>message</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">and then transition to either the <span class="s70">their-move </span>or <span class="s70">wrap-up </span>state depending on whether the game is continuing or over. They could also simply transition to <span class="s70">done </span>if they wish to abandon the game.</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">A <span class="s70">move </span>message is a JSON structure that specifies the type of message. It uses a DID-based URI, an <span class="s70">id </span>to establish a message thread, a field called <span class="s70">me </span>to identify the mark (<span class="s70">X </span>or <span class="s70">O</span>) the player is using, a list of <span class="s70">moves </span>so far, and an optional <span class="s70">comment</span>:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s76" style="padding-top: 5pt;padding-left: 17pt;text-indent: 0pt;text-align: left;">{</p><p class="s76" style="padding-left: 27pt;text-indent: 0pt;line-height: 106%;text-align: left;">&quot;@type&quot;: &quot;did:sov:SLfEi9esrjzybysFxQZbfq;spec/tictactoe/1.0/move&quot;, &quot;@id&quot;: &quot;518be002-de8e-456e-b3d5-8fe472477a86&quot;,</p><p class="s76" style="padding-left: 27pt;text-indent: 0pt;line-height: 106%;text-align: left;">&quot;me&quot;: &quot;X&quot;, &quot;moves&quot;: [&quot;X:B2&quot;],</p><p class="s76" style="padding-left: 27pt;text-indent: 0pt;line-height: 10pt;text-align: left;">&quot;comment&quot;: &quot;Let&#39;s play tic-tac-toe. I&#39;ll be X. I pick cell B2.&quot;</p><p class="s76" style="padding-left: 17pt;text-indent: 0pt;text-align: left;">}</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 4pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">The <span class="s70">outcome </span>message is a JSON structure that identifies the message <span class="s70">type </span>using a DID-based URI, a <span class="s70">thread </span>identifier, a <span class="s70">winner</span>, and an optional <span class="s70">comment</span>:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s76" style="padding-top: 5pt;padding-left: 17pt;text-indent: 0pt;text-align: left;">{</p><p class="s76" style="padding-left: 27pt;text-indent: 0pt;line-height: 106%;text-align: left;">&quot;@type&quot;: &quot;did:sov:SLfEi9esrjzybysFxQZbfq;spec/tictactoe/1.0/outcome&quot;, &quot;~thread&quot;: { &quot;thid&quot;: &quot;518be002-de8e-456e-b3d5-8fe472477a86&quot;, &quot;seqnum&quot;: 3 }, &quot;winner&quot;: &quot;X&quot;,</p><p class="s76" style="padding-left: 27pt;text-indent: 0pt;line-height: 10pt;text-align: left;">&quot;comment&quot;: &quot;You won!&quot;</p><p class="s76" style="padding-left: 17pt;text-indent: 0pt;text-align: left;">}</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s55" style="padding-top: 4pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1199" class="s33">You should be able to use the state table given in </a><a href="#bookmark1199" class="a">Table 19-1</a> <span style=" color: #000;">and these sample messages to imagine the message flow necessary for a game to proceed from start to finish. The protocol says what messages and transitions you can legally make and describes all the possible outcomes of a game of tic-tac-toe.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Protocols Beyond Credential Exchange</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">DIDComm can be used to transport specialized protocols for all kinds of interactions that people might want to undertake online, including:</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_492.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_493.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_494.png"/></span></p><p style="padding-top: 8pt;padding-left: 29pt;text-indent: 0pt;line-height: 165%;text-align: left;">Delegating Commenting Notifying</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_495.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_496.png"/></span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 165%;text-align: left;">Buying and selling Negotiating</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_497.png"/></span></p><p style="padding-left: 29pt;text-indent: 0pt;text-align: left;">Enacting and enforcing contracts</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_498.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_499.png"/></span></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 165%;text-align: left;">Putting things in escrow (and taking them out again) Transferring ownership</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_500.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_501.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_502.png"/></span></p><p style="padding-top: 3pt;padding-left: 29pt;text-indent: 0pt;line-height: 165%;text-align: left;">Scheduling Auditing Reporting errors</p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">All of these would be more complicated than the tic-tac-toe protocol I discussed in the last section; they would have more roles, and each role would have its own state table and more message types. But all would be specified in a similar manner to allow scripted interactions.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark131" class="s33" name="bookmark1200">As you can see from this partial list, DIDComm is not just a secure, private way to connect and exchange credentials. Rather, it is a foundation protocol that provides a secure and private overlay to the internet for carrying out almost any online workflow. DIDComm qualifies as the encapsulating protocol of the identity metasystem I discussed in </a><a href="#bookmark131" class="a">Chapter 4</a>.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Smart Agents and the Future of the Internet</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1201">Equipped with the ability to support additional protocols like the ones discussed in the last section, smart agents can mediate many of the workflows that make up our digital lives. At their core, agents provide the following capabilities:</a></p><p class="s35" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Identity and trust establishment</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">By exchanging DIDs and VCs, agents can establish your identity and provide other reasons to trust you in the form of VCs, even if the entire interaction is digital and remote.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Relationship management</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Exchanging DIDs establishes a relationship, but relationships change over time. New information and interaction patterns emerge. An ephemeral relationship may become more permanent after repeated interactions, necessitating new services. Agents manage these changes on behalf of their controllers.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Secure, confidential, and structured message sharing</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">DIDComm provides a basic messaging protocol that ensures the confidentiality of messages based on the keys associated with the exchanged DIDs. Messages are structured so that other protocols can be wrapped in a DIDComm message. Put another way, DIDComm is a transport protocol. Agents that understand those protocols can exchange messages and engage in structured workflows.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Using the protocols that I just discussed, smart agents can aid in many of the tasks people face daily:</p><p class="s35" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Payment and value exchange</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Not all relationships are transactional, but many are. Agents need to mediate value exchange on behalf of their controllers to simplify digital interactions.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Private, secure, trustworthy data sharing</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Through their ability to issue and use VCs, agents provide private, secure, authentic data sharing. I think most people only poorly understand the magnitude of this capability. When people think about VCs, they fall back on the familiar: driver’s license, university transcripts, employee IDs, movie tickets. But as I discussed in the previous chapter, any structured data can be shared as a VC with the attendant trust and confidence that the exchange provides for more traditional credentials.</p><p class="s35" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Buying and selling</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Building on payment and value exchange, agents can be smart digital assistants for commerce with companies or individuals, managing the workflow of the entire transaction.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Ownership transfer</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a href="#bookmark1219" class="s33">Agents can play an important role in simplifying the transfer of property. Selling a car, for example, may involve interacting with banks, insurance companies, and the DMV. The agent can help mediate the interactions on these different relationships. I’ll give a detailed example of this in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 20</span>.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Interacting with things</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a href="#bookmark1219" class="s33">Agents can carry out tasks that make our interactions with the Internet of Things easier and more rewarding. Again, I’ll discuss this more in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 20</span>.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">There are many more. In fact, <i>any </i>workflow can be defined as a protocol on top of DIDComm, allowing multiple parties to work together with the help of their agents.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Operationalizing Digital Relationships</p><p class="s55" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1203" class="s33" name="bookmark1202">Smart agents are tools for people to operationalize their digital relationships. Let’s review what you’ve learned in the preceding four chapters and pull it all together to understand how Alice can operationalize her digital relationships. </a><a href="#bookmark1203" class="a">Figure 19-7</a> <span style=" color: #000;">illustrates Alice and her relationships.</span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">In the diagram, Alice has a smart agent. She uses the agent to manage her relationships with Bob and Carol as well as a host of organizations. Bob and Carol also have agents. They have a</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1203">relationship with each other, and Carol has a relationship with Bravo Corp, just as Alice does. These relationships are enabled by autonomic identifiers in the form of peer DIDs (blue arrows). The agent used by each participant provides a consistent user experience, like the browser did for the web. People using agents don’t see the DIDs (identifiers), but instead the relationships they have with other people, organizations, and things.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">As you’ve learned, these autonomic relationships are self-certifying, meaning they don’t rely on any third party for their trust basis. They are also mutually authenticating; each of the parties in the relationship can authenticate the other. Further, as you’ve just learned, these relationships use a secure communications channel based on the DIDComm protocol. Because of built-in mutual authentication, Alice has trustworthy communication channels with everyone with whom she has a peer-DID-based relationship.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1204">Alice, as mentioned, also has relationships with various organizations. Each of these organizations uses an </a><i>enterprise agent </i><a href="https://oreil.ly/8xbmv" class="s33" target="_blank">that is integrated with other enterprise systems. One of them, Attester Org, has issued a VC to Alice (green arrows) using the </a><a href="https://oreil.ly/8xbmv" class="a" target="_blank">DIDComm issue</a><a href="https://oreil.ly/8xbmv" class="s36" target="_blank"> </a><a href="https://oreil.ly/8xbmv" class="a" target="_blank">credential protocol</a>. That protocol runs on top of the DIDComm-based communication channel enabled by Alice’s peer DID relationship with Attester.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="593" height="539" alt="image" src="Image_503.png"/></span></p><p class="s415" style="text-indent: 0pt;line-height: 13pt;text-align: left;">Backing store</p><p style="text-indent: 0pt;text-align: left;"/><p class="s415" style="text-indent: 0pt;line-height: 13pt;text-align: left;">Backing store</p><p style="text-indent: 0pt;text-align: left;"/><p class="s416" style="text-indent: 0pt;line-height: 12pt;text-align: left;">Peer DID relationship</p><p style="text-indent: 0pt;text-align: left;"/><p class="s389" style="text-indent: 5pt;line-height: 91%;text-align: left;">Peer DID relationship</p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><span><img width="210" height="139" alt="image" src="Image_504.png"/></span></p><p class="s418" style="padding-left: 2pt;text-indent: 0pt;line-height: 34pt;text-align: left;"><span class="s417">◄</span>11111<span class="s419">        </span><span class="s420">►</span>t<span class="s421">•</span><span class="s422"> </span><span class="s389">Autonomic relationship</span></p><p class="s423" style="padding-left: 3pt;text-indent: 0pt;line-height: 12pt;text-align: left;">      <span class="s424">        .,. </span><span class="s389">DIDComm relationship</span></p><p class="s425" style="padding-top: 6pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">      <span class="s426">        .,. </span><span class="s389">Ledger write</span></p><p class="s427" style="padding-top: 3pt;padding-left: 4pt;text-indent: 0pt;text-align: left;">-------► <span class="s389">Ledger read</span></p><p class="s389" style="padding-top: 5pt;padding-left: 54pt;text-indent: 0pt;text-align: center;">Agent<span style=" color: #1F1F1F;">s</span></p><p style="text-indent: 0pt;text-align: left;"/><p class="s60" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: center;">Figure 19-7. Agents in digital relationships</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;"><a href="https://oreil.ly/_D0av" class="s33" target="_blank">When Alice later needs to prove something, like her address, to Certiphi Corp, she presents a </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">DIDComm-derived credential proof</span>, again enabled by the peer DID relationship she has with Certiphi Corp. Certiphi can validate the fidelity of the credential using the VDR.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1205">Alice has relationships with five different entities: her friends Bob and Carol, and three organizations. Each relationship is based on autonomic identifiers in the form of peer DIDs. All the organizations use agents to manage </a><i>autonomic relationships </i>with each other and their customers. As a credential issuer, Attester Org has an <i>algorithmic identifier </i><a href="#bookmark945" class="s33">in the form of a public DID that has been recorded on the VDR. Using algorithmic identifiers on a VDR allows discovery of the credential definition and the public DID by Certiphi Corp when it validates the credential. As you learned in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 15</span>, you need to use a public VDR for this purpose unless you’re willing to give up the loose coupling it provides. Remember, loose coupling provides scalability, flexibility, and isolation. Isolation is critical to the privacy protection promises of VC exchange.<a name="bookmark1206">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1207">Each company tracks the attributes and other properties it needs for the relationship to provide the promised utility. These are </a><i>administrative systems, </i>since they are administered by the organization for their own purpose and their root of trust is a database managed by the organization. The difference between these administrative systems and those common in online identity today is that only the organization is depending on them. Alice, Bob, and Carol have their own autonomic root of trust in their agents.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Alice might employ multiple agents (even though the diagram shows only one). Alice’s agents allow her to create, manage, and utilize secure, trustworthy communications channels with anyone online without reliance on any third party. As we’ve seen, Alice’s agents are also the place where specific, protocol-enabled interactions happen. Alice’s agents are flexible tools that she uses to manage her digital life.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Multiple Smart Agents</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">As peer-DID-based relationships become more and more common, people won’t just have a single agent. They will have agents on each of their edge devices and several (perhaps many) in the cloud. Some agents will serve as routers, automatically getting messages to the agents that can process a specific request or carry out a specialized task. Some agents will control things like a car or smart home. Some will employ automated reasoning to carry out their work.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">But regardless of its capabilities and assigned operations, every agent works on behalf of the entity who controls it. The enterprise agents that organizations employ are connected to their internal IT systems, the customer relationship management (CRM) system, the IAM system, and any other part of the enterprise that needs to securely share structured information with others.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">As I’ve discussed, people will also have agents, called <i>smart agents</i><a href="#bookmark1059" class="s33">, that work on their behalf, digitally embodying them so they can act autonomously, as peers, with other entities online. As you saw in the auto accident example in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 17</span>, smart agents will play an important role in helping people manage everyday tasks. Imagine having a smart agent that can help you schedule</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark1208">doctor’s appointments or buy a motorcycle.</a></p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Smart agents allow people to create peer networks with their friends and with businesses they use without an administrative intermediary (like Facebook, Signal, or WhatsApp). Smart agents allow people to exchange signed bundles of structured data in the form of credentials. Alice could use her smart agent to share a blog post or a picture. A network of smart agents, exchanging trustworthy structured data among peers, forms a decentralized social graph that provides safety, security, and privacy on top of the value we all recognize in being able to connect with others online.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Realizing the Smart Agent Vision</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Some of the work necessary to realize the vision for smart agents is already done. Several companies already offer agents and associated wallets that speak the necessary DIDComm messaging protocol and support protocols for exchanging DIDs and VCs. The problem is that these, like the name “verifiable credential,” are limited—based on a vision of agents that are merely software for exchanging credentials. The vision that people working in SSI have for smart agents is much more expansive.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">To fulfill that vision, agents will need to be extensible so that they can adapt to the multitude of needs a diverse set of users will have. You can’t hardwire the capabilities needed to function as a smart agent into a piece of software, any more than you could lump people’s needs for credentials into a few popular types. Smart agents must have the following capabilities and attributes:</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_505.png"/></span></p><p style="padding-top: 8pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Smart agents must be computational nodes that can represent or model anything: a person, place, or organization, a smart thing, a dumb thing, a concept, even a pothole.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_506.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Smart agents must employ a substitutable hosting model. Not only will Alice have multiple agents, but she will also host them at different places. Her new car, for example, may come with an agent that is hosted by the manufacturer. She must be able to choose to leave it there or move it somewhere else.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_507.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Smart agents must use an extensible service model onto which new functionality can be layered. The functionality within a smart agent should use a programming model that ensures its services are loosely coupled. Isolating state changes inside the smart agents will allow for adding new services without interfering with existing services.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_508.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1219" class="s33">Smart agents must provide better control over terms, apps, and data than current systems. Smart agents cleanly separate the data for different entities. Agents, representing a specific entity, and services, representing a specific business capability within it, provide fine- grained control over data and its processing. For example, if you sell your car, you can transfer the vehicle’s smart agent to the new owner, after deleting the trip service, and its associated data, while leaving untouched the maintenance records, which are stored as part of the maintenance service in the agent. I’ll discuss this more in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 20</span>.</p><p class="s48" style="padding-top: 4pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Digital Memories</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1209">Real life is complicated and messy. The only hope we have of enabling digital interactions that mirror activities in the physical world is with decentralized systems that allow each person, organization, or thing to act independently and autonomously.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">I began the chapter with a discussion about what differentiates what people are calling Web3 from what came before. The foregoing discussion of smart agents and the DIDComm protocol has given you a foundation for understanding how digital relationships can be operationalized and the capabilities such smart agents might afford people in their digital lives.</p><p class="s59" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1216" class="s33" name="bookmark1210">Marshall McLuhan wrote extensively of how our things become extensions of ourselves.</a><a href="#bookmark1216" class="s42">4</a> <a href="#bookmark108" class="s33">A driver might speak of “my engine” or “my wheels,” and a pilot might say “my wings” or “my rudder.” In </a><a href="#bookmark108" class="a">Chapter 3</a><span class="s55"> </span><span class="p">I discussed Polanyi’s ideas on tacit knowledge as a fundamental limitation of the digital world. That tacit knowledge is gained through what he calls </span><span class="s35">indwelling</span><a href="#bookmark1217" class="s33">: our senses dwell in the car, the plane, the shoes, the hammer, or the bike.</a><a href="#bookmark1217" class="s42">5</a> <span class="p">Smart agents extend people in the digital sphere, letting us dwell in the virtual tools of the digital world in the same way we naturally extend ourselves into our tools in the physical.</span><a name="bookmark1211">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Memories of our physical interactions with people, places, and things play a big part in our ability to interact with them—tacitly, without significant conscious effort. Suppose I go to the corner store to buy a Coke with a credit card. In this situation, the cashier, others in the store, and I all share a common experience. No one participating would claim to <i>own </i>the interaction. But we all retain memories that are our own. There is no single <i>true </i>record of the interaction. Every participant will have a different perspective (literally).</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">On the other hand, the store, as an institution, might retain a memory of having sold a Coke and of the associated credit card transaction. This digital memory of the transaction can easily persist longer than any of the analog memories of the event. Because it is a digital record, we trust it and consider it to be <i>true</i>. For some purposes—say, proving in a court of law that I was in the store at a particular time—that record is useful. But for other purposes, such as recalling whether the cashier was friendly or rude, the digital memory is woefully anemic.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Online, people only have digital memories. And we have very few tools for saving, managing, recalling, and using them. I think digital memories are one of the primary features of digital embodiment—giving people a place to stand in the digital world, with their own perspective, memories, and capacity to act. We can’t be peers online without having our own digital memories.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">One of the recent trends in application development is microservices, with an attendant denormalization of data. The realization that there doesn’t have to be—indeed, often <i>can’t </i>be—a single source of truth for data has freed application development from the strictures of centralization. This has led to more easily built and operated distributed applications that are resilient and scale more easily. I think this same idea applies to digital interactions generally.</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Freeing ourselves from the mindset that digital systems can and should provide a single record that is <i>true </i>will lead to more autonomy and richer interactions.</p><p class="s55" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/wnJDT" class="s33" target="_blank">StJohn Deakins </a><a href="https://oreil.ly/wnJDT" class="a" target="_blank">calls this the “analog-digital memory divide.”</a> <span style=" color: #000;">This divide is one source of the power imbalance between people and administrative entities (for instance, anyone who has a record of you in an account). In addition to all the other capabilities of smart agents that I’ve discussed in this chapter, smart agents must also provide tools for people to manage their digital memories holistically and comprehensively, if they are to be the basis for digital embodiment.</span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Smart agents provide a foundation for our digital personhood and allow us not only to take charge of our digital memories but to operationalize all of our digital relationships. Enriching our digital memories of events by allowing everyone their own perspective will lead to a digital world that is more like real life.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="624" height="1" alt="image" src="Image_509.png"/></span></p><ol id="l40"><li><p class="s45" style="padding-top: 5pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark1212"><span class="s65">	</span></a>Recall that the fragment portion of a URL (everything after the #) is used only in the browser and never sent to the server identified in the URL. So, the Ethereum address is not sent to <i>No</i>FILTER. It is only used by the JavaScript running in the browser.<a name="bookmark1213">&zwnj;</a></p></li><li><p class="s65" style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark1214">	</a><span class="s45">DIDComm v2 builds DID exchange into the protocol. Each DIDComm v2 message contains both the sender’s DID and public key. As a result, the exchange of DIDs and keys that occurs using the DID Exchange Protocol described here happens each time a message is transferred in DIDComm v2. I include a discussion of the explicit exchange protocol because it’s useful to understand exchanging DIDs explicitly as well.</span></p></li><li><p class="s65" style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark1215">	</a><span class="s45">There are several places things can go wrong and errors can be generated and communicated. The specification provides full details on these and state machine diagrams for understanding the exact interaction steps.</span></p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 32pt;text-indent: -11pt;text-align: left;"><a name="bookmark1216">Marshall McLuhan, </a><i>Understanding Media: The Extensions of Man </i>(New York: Signet Books, 1964).</p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark1217"><span class="s65">	</span></a>Michael Polanyi, “Tacit Knowing: Its Bearing on Some Problems of Philosophy,” <i>Reviews of Modern Physics </i>34, no. 601 (October 1962).</p></li></ol><p class="s21" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark1218">Chapter 20. Identity on the Internet of Things</a><a name="bookmark1219">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="624" height="1" alt="image" src="Image_510.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1220">I use a Philips Sonicare toothbrush. One of its features is a little yellow light that comes on to tell me to change the toothbrush head. The first time the light came on, I wondered how I would reset it once I replaced the head. I even googled it to find out.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Turns out I needn’t have bothered. Once I changed the head, the light went off. This didn’t happen when I simply removed the old head and put the same one back on. Each toothbrush head has a unique identity that the toothbrush recognizes. This identity is used to signal head replacement as well as to put the toothbrush into different modes based on the type of head installed.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;"><a name="bookmark1221">Philips calls this technology BrushSync, but underneath the branding it’s using RFID (radio frequency identification). Each head has an RFID chip embedded in it. The toothbrush body reads the data off the head and adjusts its internal state in the appropriate way.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">I like this RFID use case because it’s got clear benefits for both Philips and its customers. Philips sells more toothbrush heads—so the Internet of Things (IoT) use case is clearly aligned with business goals here. Customers get reminders to replace their toothbrush heads and can reset the reminder by simply doing what they’d do anyway—switching the head.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">There aren’t many privacy concerns at present—the toothbrush doesn’t connect to the internet and phone home to Philips. But as more and more products begin to include RFID chips, you could imagine scanners on garbage trucks that correlate chipped items that are used and thrown out with an address. Maybe there will be a market for garbage cans that can disable RFID chips when they’re thrown away.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">A friend of mine, Eric Olafson, is a founding investor in a company called Riot. Riot is another example of how thoughtfully applied RFID-based identifiers can solve business and customer problems. Riot creates tech that companies can use for RFID-based in-store inventory management. This solves a big problem for stores that often don’t know what inventory they have on hand. With Riot, a quick scan of the store each morning updates the inventory management system, showing where the store’s inventory data is out of sync with its physical inventory. I often go to physical stores because the parent company’s app tells me that a specific location has the product I want, so it would be nice to know the app isn’t lying. Riot puts the RFID on the product tag, not in the product, sidestepping many of the privacy concerns that arise if people are walking around with lots of RFID chips in their clothing.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Both BrushSync and Riot assign identities to physical things to solve business problems, showing that unique identifiers on individual products can be good for business and customers alike. This speaks to the breadth of identity and its importance in areas beyond associating identifiers with people.</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">This chapter starts with a discussion of the models and protocols that enable identity in the current IoT. I’ll explore the limitations of, and discuss alternatives to, the current model. The chapter concludes with a discussion of how the SSI technologies and protocols you’ve learned about in the last six chapters provide a new, better model.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Access Control for Devices</p><p class="s55" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark608" class="s33" name="bookmark1222">Managing who can control a device is a fundamental capability for the IoT. Devices—things— are not (yet) autonomous and are therefore always under the control of a person or organization. As you learned in Chapters </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">11</span> <a href="#bookmark710" class="s33">and </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">12</span><span style=" color: #000;">, authentication and authorization underpin access control. Securely connecting devices to each other, to APIs, and to the owner’s computer systems is not an easy task. Connected devices carry personal information, and as such devices become more ubiquitous, the aggregation of that data can represent significant elements of a person’s life, posing potential privacy problems. A connected car, for example, knows its current location and speed, all the trips it’s been on, perhaps who was driving, and even its fueling and maintenance records. That’s a treasure trove of personal data that has legitimate and illegitimate uses.</span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1224" class="s33" name="bookmark1223">The most common pattern for connected devices is shown in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 20-1</span>. Suppose Alice buys a new connected Bravo lightbulb. In the figure, Alice is using an app on her phone to access servers and APIs operated by Bravo, the maker of the connected lightbulb.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The lightbulb is also connected to the internet and is using Bravo’s API to send data. In some cases, the data being produced by the lightbulb and stored on Bravo’s servers contains Alice’s personal information or information that might be sensitive—like when a room is occupied.</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Consequently, the channels between Alice’s phone, the lightbulb, and Bravo’s servers should be secure and authenticated.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="592" height="312" alt="image" src="Image_511.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark1224">Figure 20-1. Relationships in the IoT</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1224" class="s33">In addition to the pattern shown in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 20-1</span>, sometimes Alice’s phone might serve as a network proxy for a Bluetooth-connected device rather than the device connecting directly to Bravo. Often, simple, low-power devices will have a smart hub that serves as their proxy.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Supporting connections with devices and ensuring that their owners control the data associated with that device assumes the manufacturer can do at least the following:</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_512.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_513.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_514.png"/></span></p><p style="padding-top: 8pt;padding-left: 29pt;text-indent: 0pt;line-height: 165%;text-align: justify;">Ensure the device has a unique identifier Register the device over a secure channel Authenticate the device</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_515.png"/></span></p><p style="padding-left: 29pt;text-indent: 0pt;text-align: justify;">Create an association or relationship between the owner and their device</p><p style="padding-top: 10pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark765" class="s33">There are various ways to implement a system that fulfills these requirements. This section will discuss using OAuth as a way of meeting the last two. I discussed the basics of OAuth in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 13</span>. As the sales of connected devices have increased, APIs for personal data have become more widely used and OAuth has become the protocol of choice for letting device owners choose what applications access their data. OAuth’s flow makes people part of the process that determines what data is shared and with what applications.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark765" class="s33">As you learned in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 13</span>, OAuth was designed for a very specific purpose: to allow people to control access to their resources (like an API) without requiring that they share their usernames and passwords. Before OAuth, if Alice wanted Bravo to have access to her data on Attester, she’d have to give Bravo her username and password on Attester. Bravo would store the username and password and impersonate Alice each time they needed to access Attester on her behalf. By using Alice’s username and password, Bravo would demonstrate they had Alice’s implicit permission to access her account at Attester.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Recall that the OAuth protocol, in contrast, does not give Alice’s username and password to Bravo. Instead, it provides an access token that Bravo can use to access an API at Attester. Alice or Attester can expire the token anytime they no longer want Bravo to have access to Alice’s data.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Using OAuth with Devices</p><p class="s55" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/lQhAG" class="s33" target="_blank" name="bookmark1225">In 2013, I launched a connected-car project called </a><a href="https://oreil.ly/lQhAG" class="a" target="_blank">Fuse</a> <a href="#bookmark1224" class="s33">on Kickstarter that followed the pattern in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 20-1</span><a href="https://oreil.ly/DH_at" class="s33" target="_blank">. Fuse used an off-the-shelf </a><a href="https://oreil.ly/DH_at" class="a" target="_blank">OBD-II device</a> <a href="#bookmark1270" class="s33">that had a cellular connection.</a><a href="#bookmark1270" class="s42">1</a><span class="s59"> </span><span style=" color: #000;">The devices were supplied by a company called Carvoyant, which also provided a cloud-based API that served as the online proxy for the device. The Carvoyant-supplied devices were preprovisioned with cellular service on a virtual mobile network that provided connectivity to Carvoyant’s servers.</span><a name="bookmark1226">&zwnj;</a><a name="bookmark1227">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark765" class="s33">Carvoyant authorized access to its API for the car using OAuth. Using the terminology of </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 13</span>: Fuse, a cloud service with a mobile app, was the client; the Carvoyant account system was the authorization server (AS); and the Carvoyant API was the resource server (RS). Fuse asked car owners to create a Carvoyant account and then authorize access to data about</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">their car in the API using OAuth. The interaction was a standard authorization code grant.</p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Fuse helped me understand the pros and cons of using OAuth for connecting devices to the internet and the importance of ensuring that vehicle data ends up in the right hands. For the most part, OAuth was a great choice for connecting the Fuse system to the Carvoyant API while allowing owners to maintain control of how their data is used. Its big advantage is that the process is well understood, and numerous libraries and API platforms provide support for API providers and client developers alike. But OAuth is far from a complete solution. Let’s see why.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">OAuth’s Shortcomings for the IoT</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1228">OAuth has several limitations that make it less than ideal as a universal solution to device authorization. I think of them in two categories: device limitations and owner autonomy.</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s104" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Device limitations</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">From the preceding discussion, you can see that one almost universal element of current connected devices is that they do not interact directly with the client. Instead, something else—a cloud-based service, a gateway, or a phone—is acting as a proxy. This is often necessary (or at least desirable) for reasons beyond access control, such as interdevice coordination. Devices often have small microcontrollers instead of full-blown microprocessors, and most don’t have the memory or processing power to even parse a JSON object, let alone handle HTTP with TLS.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Furthermore, devices often don’t have displays, making configuration and other interactions difficult. This limitation restricts the utility of OAuth flows, since the device is unlikely to have a web browser available to process redirects. These limitations apply whether the device or the client is providing the API.</p><p class="s59" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1224" class="s33" name="bookmark1229">There are several ways to mitigate these issues. The most obvious way is to use the pattern in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 20-1</span><a href="#bookmark1271" class="s33">, where a more powerful computer or smartphone sits between the device and its owner and serves as a proxy for the physical device.</a><a href="#bookmark1271" class="s42">2</a> <span class="p">That still leaves the problem of securely connecting the device to the proxy. For the most part, this latter process is ad hoc, with few standards. As a result, the user experience of connecting and using a device varies widely.</span></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">What’s more, the security of these ad hoc mechanisms depends on the abilities of the programmers creating them.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/xu23s" class="s33" target="_blank">Another approach is to make it easier to connect to lower-powered devices. Alternative transport protocols such as MQ Telemetry Transport (</a><a href="https://oreil.ly/xu23s" class="a" target="_blank">MQTT</a><a href="https://oreil.ly/xu23s" class="s33" target="_blank">), interaction protocols like the </a><a href="https://oreil.ly/xu23s" class="a" target="_blank">Constrained</a><a href="https://oreil.ly/xu23s" class="s36" target="_blank"> </a><a href="https://oreil.ly/xu23s" class="a" target="_blank">Application Protocol</a><a href="https://oreil.ly/-TWy7" class="s33" target="_blank">, and security protocols such as </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Datagram Transport Layer Security</span><a href="https://oreil.ly/xu23s" class="s36" target="_blank"> </a>are potential fixes, by themselves or in combination. Unfortunately, I’ve not seen much uptake on any of these in commercial IoT products.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">When the lack of a display is the primary problem, most devices provide some way of using Bluetooth, WiFi, or QR codes to connect to a phone or other device and complete the configuration.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s104" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Where’s the owner?</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">OAuth’s flows were designed for systems where a person is available to approve the initial connection. I’ve already discussed the problems of low-powered devices not being powerful enough to support web-browser-based flows, but there’s another problem.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark765" class="s33" name="bookmark1230">As you learned in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 13</span>, OAuth supports refresh tokens. Refresh tokens are meant to be used by the client with the AS to get a new access token when the old one has expired. Normally this isn’t a problem for a connected device, since the owner doesn’t need to reauthorize access to use a refresh token. The problem occurs when the refresh token fails for some reason and the owner needs to regrant access.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">In the web and mobile interactions envisioned by OAuth’s original framers, this wasn’t a big concern since the need to access the API would be driven by a person interacting with the application. Hence, someone would be available to approve access again, if necessary.</p><p class="s59" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1272" class="s33" name="bookmark1231">Devices are another matter. Devices are often reacting to their environment, not by a direct command, so the owner isn’t available to handle problems with access control. I had this problem with Fuse. The OBD-II device reacted to vehicle events such as the ignition being turned off or on. When that happened, the Fuse system processed the event and sometimes needed other information from the device and its API. All of this happened in the background, without human involvement. Consequently, if the refresh token failed, Fuse had no recourse except to notify the owner (using email or some other means) that an access control problem had occurred and that they would need to log in and fix it. In the meantime, Fuse was disconnected from the API and unable to carry out its expected tasks.</a><a href="#bookmark1272" class="s42">3</a> <span class="p">Note that this problem isn’t mitigated by the device having a proxy.</span><a name="bookmark1232">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Connected-car scenarios also point to other problems with connected devices and OAuth’s dependence on a person being present. For example, what happens if Alice lets Bob borrow her car? How does she grant him access? Can she limit what Bob can do? What happens if the device can’t communicate with the AS? These problems can be solved in a variety of ways, but if every device manufacturer solves them differently, the IoT won’t be interoperable.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s104" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Magically working together</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Even with the preceding problems, OAuth presents a viable solution to a lot of present-day IoT challenges. Still, supporting a world where dozens or even hundreds of connected devices easily connect with each other to get things done for their owners will need more than what present-day OAuth is prepared to provide.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/IxBVa" class="s33" target="_blank" name="bookmark1233">Mike Schwartz of Gluu </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">calls this the “magically working together” problem</span>. Schwartz uses the example of a connected lightbulb and light switch. He says, “If you buy a light switch and a lightbulb, they need to magically work together.” In this scenario the lightbulb is the RP and the switch is the client.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;">Getting connected devices to directly work together is difficult. Commercial connected lightbulb products, like Philips Hue, use a hub and a proprietary connection system. Others, like TP-Link’s Kasa, use WiFi-enabled devices, forgoing the hub but still placing everything inside a single app, disconnected from other manufacturers’ devices. It seems unlikely that any of us will be willing</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;">to buy all our lightbulbs and switches from a single vendor, let alone every connected device we might ever own.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;"><a name="bookmark1234">The CompuServe of Things</a></p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;"><a name="bookmark1235">If you’re anything like me, you’ve got a collection of connected devices—everything from Kasa- connected outlets to Nest thermostats. The problem with all these devices is that they are all quite antisocial. That is, they don’t easily talk to each other.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Nearly every connected device currently for sale asks buyers to follow the same process: download the mobile app, create an account on the manufacturer’s server, and connect your new device to your account. There are variations in how this happens, but, in the end, you have a device you can control with your phone.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1224" class="s33">Most current IoT business models focus on cloud-based strategies that place the vendor at the heart of the data architecture (as shown in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 20-1</span>). If the IoT is going to come to fruition, we’re going to need better ways of connecting devices. Merely connecting them to a network and then to an account under the manufacturer’s administrative control isn’t enough. Devices need to be connected to each other and to services that the owner uses. Owners want to coordinate their interactions, and this requires having devices connect to more than just their makers.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Here are some of the reasons devices need rich connections:</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_516.png"/></span></p><p style="padding-top: 10pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">To discover contextual and other data, such as weather or price data, through APIs</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_517.png"/></span></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">To coordinate with other devices and systems to achieve a goal, such as reducing peak electric power usage in a home</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_518.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">To integrate with systems that can automatically represent the owner’s intent, such as reducing the thermostat only if the house will be unoccupied for more than eight hours</p><p style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Richer connections require that we move from the current manufacturer-centric connected device ecosystem to a true IoT. Making these interactions secure and protecting owners’ privacy will require more sophisticated access control methods than are currently employed.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Online Services</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1236">Back in the day, by which I mean 1986, I was lucky enough to be at a university and have early access to the internet as I entered graduate school at UC Davis. In those days, if you weren’t one of the lucky few with an internet connection and you wanted to communicate with friends online, you used CompuServe, Prodigy, America Online (AOL), or some other proprietary </a><i>online service</i>. Each of these offered a way to send email, but only to people on the same service. They had forums where you could discuss various topics. And they all had what we’d call <i>apps </i>today. These services were silos. Each was an island that didn’t interoperate with the others.<a name="bookmark1237">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">In the mid-1990s, popular interest in the web caused many companies to get into the dial-up internet service provider (ISP) business. Once connected to the internet, you could email anyone,</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">participate in forums anywhere, look at any website, shop from any online store, and so on. While AOL successfully made the transition from online service business to ISP, the rest of the online services of the early ’90s did not.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Online 2.0: The Silos Strike Back</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Each of these online service businesses sought to offer a complete soup-to-nuts experience. They all capitalized on their captive audiences to get businesses to pay for access. In fact, you don’t have to look very hard to see that much of what’s popular on the internet today looks a lot like more sophisticated versions of these online service businesses. Web 2.0 isn’t so much about the web as it is about recreating the online business models of the ’80s and early ’90s. Maybe we should call it “Online 2.0” instead.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1059" class="s33">To understand the difference, consider Gmail versus Facebook Messenger. As I discussed in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 17</span>, because Gmail is really just a massive web client on top of internet mail protocols like SMTP and IMAP, you can use your Gmail account to send email to any account on any email system on the internet. And, if you decide you don’t like Gmail, you can easily switch to another email provider (at least if you have your own domain).</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1273" class="s33" name="bookmark1238">Facebook Messenger, on the other hand, can only be used to talk to people using the means Facebook allows. Not only that, but you only get to use the clients that Facebook chooses for you. Facebook is going to make those choices based on what’s best for Facebook. Most Web 2.0 business models ensure that the interests of Web 2.0 companies are not necessarily aligned with those of their users. Companies don’t decide not to make their products interoperable out of ignorance, but on purpose. For example, WhatsApp uses an open protocol (XMPP [Extensible Messaging and Presence Protocol]) but chooses to not interoperate with other XMPP clients.</a><a href="#bookmark1273" class="s42">4</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Which brings us to the IoT. The IoT, as it works today, isn’t a real internet. It’s a collection of silos, built by well-meaning companies repeating the errors of history, giving us the modern equivalents of isolated mainframes, incompatible LANs, and siloed networks like those of AOL, CompuServe, and Prodigy. What we’re building might more properly be called the CompuServe of Things.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">A Real, Open Internet of Things</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">If we were really building the Internet of Things, with all that that term implies, there would be open, decentralized, heterarchical systems at its core, just like at the core of the internet itself. There aren’t. Sure, we’re using TCP/IP and HTTP, but we’re doing it in a closed, centralized, hierarchical way, with only a minimal nod to interoperability using APIs.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">We need the IoT to be the next step in the series that began with the general-purpose PC and continued with the internet and general-purpose protocols—systems that support personal autonomy and choice. The IoT envisions computing devices that will intermediate every aspect of our lives. I strongly believe that this will provide the envisioned benefits—or even be tolerable</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;">—only if we build a true Internet of Things rather than a CompuServe of Things.</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">When I say the internet is “open,” I’m using that as a key word for the three key concepts that underlie it: decentralization, heterarchy (what some call peer-to-peer connectivity), and interoperability.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark32" class="s33">As you learned in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 2</span><a href="#bookmark524" class="s33">, decentralization and heterarchy are not the same. To recall how they differ, consider two examples: DNS, the Domain Name System you learned about in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 10</span>, and Facebook. DNS is decentralized but hierarchical. Zone administrators update their zone files and determine, in a completely decentralized manner, which subdomains inside their domain correspond to which IP addresses (among other things). But the way DNS achieves global consensus about what these mappings <i>mean </i>is hierarchical. A few well-known servers for each top-level domain (TLD) point to the servers for the various domains inside the TLD, which in turn point to servers for subdomains inside them, and so on. There’s exactly one hierarchical copy of the mapping.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Facebook, on the other hand, is heterarchical but centralized. The Facebook Open Graph relates people to each other in a heterarchical fashion—peer-to-peer—but, of course, it’s completely centralized. The entire graph resides on Facebook’s servers under Facebook’s control.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Interoperability allows independently developed systems to interact. It provides for substitutability, allowing one system or service to be substituted for another without loss of basic functionality. As previously noted, even though I use Gmail as my email provider, I can talk to people who use Hotmail and I can, if I’m unhappy with Gmail, substitute another email provider.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">These three concepts aren’t optional. We won’t get the real IoT unless we develop open systems that support decentralization, heterarchy, and interoperability. You might well ask: where are the protocols underlying the IoT? Protocols like TCP/IP, HTTP, and MQTT aren’t enough because they work at a level <i>below </i>where the IoT’s things need to interoperate. Put another way, they leave unspecified many important processes (like discovery).</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark1239">Alternatives to the CompuServe of Things</a></p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/Rdo6f" class="s33" target="_blank" name="bookmark1240">In </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">“Peloton Bricks Its Treadmills”</span><a href="#bookmark1274" class="s33">, blogger and journalist Cory Doctorow discusses fitness equipment manufacturer Peloton’s response to a product recall on its treadmills. Part of that response was a firmware upgrade. Rather than issuing the firmware upgrade to all treadmills, Peloton bricked all the treadmills and then only updated the ones whose owners were paying for monthly subscriptions to Peloton’s service.</a><a href="#bookmark1274" class="s42">5</a><a name="bookmark1241">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">This points to a bug in the current architecture for IoT. Even though you bought a connected thing, you’re really <i>renting </i>it. You don’t own it, despite paying hundreds, even thousands, of dollars up front. The terms and conditions on accounts usually allow the manufacturer to close your account for any reason and without recourse. Since many products cannot function without their associated cloud service, this renders the devices inoperable.</p><p class="s59" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1275" class="s33" name="bookmark1242">If Peloton decides to revoke my account, I will probably survive. But what if, in some future world, the root certificate authority of the identity documents I use for banking, shopping, travel, and a host of other things decides to revoke my identity for some reason?</a><a href="#bookmark1275" class="s42">6</a> <span class="p">Or if my car stops</span></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">running because Ford shuts off my account?</p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">I’ve discussed the need for autonomy in identity systems. Autonomy is just as important in those identity systems that underlie the IoT. People must be in control of the connected things in their life. There will be systems and services provided by others and they will, of necessity, be administered. But those administering authorities need not control people and their lives.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1243" class="s33">The architecture of the CompuServe of Things looks like </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 20-2</span><a href="#bookmark1224" class="s33">. This is </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 20-1</span>, but I’ve added a box to show where authority and control lie.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="593" height="399" alt="image" src="Image_519.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark1243">Figure 20-2. The architecture for the CompuServe of Things</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;">As noted above, Alice uses an app on her phone to control her connected lightbulb through the manufacturer’s API. Everything is inside the administrative control of the device manufacturer (indicated by the gray box).</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;"><a href="#bookmark1244" class="s33">There is an alternative model shown in </a><a href="#bookmark1244" class="a">Figure 20-3</a> that I call the <i>self-sovereign Internet of Things</i>.</p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="594" height="578" alt="image" src="Image_520.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark1244">Figure 20-3. A self-sovereign IoT architecture</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">In this model, the device and data about it are controlled by Alice, not the manufacturer. The device, and an associated smart agent that Alice uses to interact with it, have a relationship with the manufacturer, but the manufacturer is no longer in control. Alice is in control of her device, the data it generates, and the agent that processes the data. Note that this doesn’t mean Alice has to code or even manage all that. She can run her agent at a cloud service (called an <i>agency</i>), and the code in her agent is likely from the manufacturer. But it <i>could </i>be other code, instead of or in addition to what she gets from the manufacturer. The point is that Alice can decide. A true IoT is self-sovereign.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1160" class="s33" name="bookmark1245">You might wonder if such a model could work. Fuse, which I introduced earlier, used this model and still maintained the familiar user experience of a device controlled by an app on the owner’s phone. The agent was not a DIDComm agent (like we talked about in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 19</span>), since DIDComm did not yet exist in 2013. Instead, it was based on an open source, rule-based agent</p><p style="text-indent: 0pt;text-align: left;"><span><img width="624" height="460" alt="image" src="Image_521.png"/></span></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark1246">called a </a><i>pico</i>.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s30" style="padding-left: 3pt;text-indent: 0pt;text-align: center;">PICOS: SSI FOR THINGS</p><p class="s55" style="padding-top: 6pt;padding-left: 14pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/JtmQY" class="s33" target="_blank" name="bookmark1247">Picos are </a><a href="https://oreil.ly/JtmQY" class="a" target="_blank">an open source project</a> <span style=" color: #000;">I run to explore programmable smart agents. While a detailed discussion of picos is beyond the scope of this book, they have been the basis for my work in decentralized identity and IoT for many years.</span></p><p style="padding-top: 5pt;padding-left: 14pt;text-indent: 0pt;line-height: 109%;text-align: left;">Picos can be arranged in networks supporting peer-to-peer communication and computation. A cooperating network of picos is an actor-model distributed system, reacting to messages from other picos, changing state based on those messages, and sending messages to other picos. Picos have an internal event bus for distributing those messages to rules installed in the pico. Rules are selected to run based on declarative event expressions. The pico matches events on its bus with event scenarios declared in each rule’s event expression. The pico engine schedules any rule whose event expression matches the event for execution.</p><p style="padding-left: 14pt;text-indent: 0pt;line-height: 14pt;text-align: left;">Executing rules may raise additional events, which are processed in the same way.</p><p style="padding-top: 7pt;padding-left: 14pt;text-indent: 0pt;line-height: 109%;text-align: left;">Picos provide a programmable SSI agent system that is capable of supporting complex IoT applications. Vehicle owners in Fuse controlled their data. While the picos (acting as agents) were hosted in an agency that I provided for Fuse, someone else could have set up an alternative pico agency or hosted their own. The Fuse picos would have run there just as well without loss of functionality.</p><p style="padding-top: 5pt;padding-left: 14pt;text-indent: 0pt;line-height: 109%;text-align: justify;">Picos allowed Fuse to easily provide an autonomous processing agent for each vehicle and to organize those into fleets. Because picos support peer-to-peer architectures, putting a vehicle in more than one fleet or having a fleet with multiple owners was easy.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">The Self-Sovereign Internet of Things</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1276" class="s33" name="bookmark1248">Through Fuse and other projects, I’ve been working toward a self-sovereign Internet of Things (SSIoT) for over a decade.</a><a href="#bookmark1276" class="s42">7</a><span class="s59"> </span><a href="#bookmark1203" class="s33">In an SSIoT, Alice has direct relationships with her things or a proxy she controls. In </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 19-7</span>, I showed a diagram where Alice has relationships with people and organizations. But the diagram did not show <i>things</i><a href="#bookmark1246" class="s33">. </a><a href="#bookmark1246" class="a">Figure 20-4</a> is largely the same, but with a Bravo lightbulb.<a name="bookmark1249">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="594" height="481" alt="image" src="Image_522.png"/></span></p><p class="s429" style="padding-top: 1pt;text-indent: 3pt;line-height: 81%;text-align: left;">Peer DID relationship</p><p style="text-indent: 0pt;text-align: left;"/><p class="s429" style="padding-top: 1pt;text-indent: 5pt;line-height: 81%;text-align: left;">Peer DID relationship</p><p style="text-indent: 0pt;text-align: left;"/><p class="s429" style="padding-top: 1pt;text-indent: 5pt;line-height: 84%;text-align: left;">Peer DID relationship</p><p style="text-indent: 0pt;text-align: left;"/><p class="s60" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: center;">Figure 20-4. Alice forms a relationship with her lightbulb</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1246" class="s33">In </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 20-4</span>, the lightbulb is a fully capable participant in Alice’s relationship network. Either the lightbulb is powerful enough to run an edge agent or the lightbulb is being proxied by a <i>device shadow</i>, <i>spime</i>, or <i>pico </i>that serves as its agent. Alice has a DID-based relationship with the lightbulb’s agent. She also has a relationship with the company who makes it, Bravo, as does the lightbulb. Those last two are optional, but useful—and, importantly, fully under Alice’s control.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">DID Relationships for IoT</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Let’s focus on Alice, her lightbulb, and Bravo to better understand the contrast between the CompuServe of Things and an SSIoT.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1250" class="s33">In </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 20-5</span>, rather than being intermediated by the lightbulb’s manufacturer, Alice has a direct, DID-based relationship with the lightbulb. Both Alice and the lightbulb have agents and wallets. Alice also has a DID-based relationship with Bravo, which runs an enterprise agent.</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Alice interacts with her lightbulb and Bravo as she sees fit, even serving as the intermediary if that suits her purposes.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="594" height="423" alt="image" src="Image_523.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark1250">Figure 20-5. Alice’s relationships with her lightbulb and its manufacturer</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 20-5</span> <span style=" color: #000;">also shows a DID-based relationship between the lightbulb and Bravo. In the CompuServe of Things, Alice might be concerned with the privacy of her data. But in an SSIoT,</span></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Alice controls the policies on that relationship and thus what is shared. She might, for example, authorize the lightbulb to share diagnostic information when she needs service. She could also issue a credential to Bravo that allows them to service the lightbulb remotely, then revoke it when they’re done.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">The following sections describe three of many possible use cases for the SSIoT.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Use Case 1: Updating Firmware</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1251">One of the problems with the CompuServe of Things is securely updating device firmware. There are many ways to approach secure firmware updates in the CompuServe of things—each manufacturer does it slightly differently. The SSIoT provides a standard way for the lightbulb to determine that the firmware update is from the manufacturer and not a hacker.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1252" class="s33">As shown in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 20-6</span>, Bravo has written a public DID to a verifiable data registry (VDR). They can use that public DID to sign firmware updates. Bravo embedded its public DID in the lightbulb when it was manufactured. The lightbulb can resolve the DID to look up Bravo’s current public key on the VDR and validate the signature. This ensures that the firmware package is from Bravo. And DIDs allow Bravo to rotate its keys as needed without invalidating the DIDs stored in the devices.</p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="593" height="561" alt="image" src="Image_524.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark1252">Figure 20-6. Updating the firmware in Alice’s lightbulb</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s59" style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1277" class="s33" name="bookmark1253">Of course, digital certificates could also solve this problem.</a><a href="#bookmark1277" class="s42">8</a> <span class="p">So, this example is about achieving parity. The advantage of using SSIoT for secure firmware updates instead of digital certificates is that if Bravo is using it for other things (see below), it gets this for free without also having to support the certificate code in its products or pay for certificates and the inevitable updates.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Use Case 2: Proving Ownership</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;"><a href="#bookmark1255" class="s33" name="bookmark1254">Alice can prove she owns a particular model of lightbulb using a verifiable credential. </a><a href="#bookmark1255" class="a">Figure 20-</a><a href="#bookmark1255" class="s36"> </a><a href="#bookmark1255" class="a">7</a><a href="#bookmark1255" class="s36"> </a><a href="#bookmark1255" class="s33">shows how this could work.</a></p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;"><a href="https://oreil.ly/bO7zr" class="s33" target="_blank">The lightbulb’s agent is running the DIDComm </a><a href="https://oreil.ly/bO7zr" class="a" target="_blank">Introduce protocol</a> <span style=" color: #000;">and has introduced Alice to Bravo. This allows her to form a relationship with Bravo that is more trustworthy because it is based on an introduction from something she trusts.</span></p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="594" height="561" alt="image" src="Image_525.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark1255">Figure 20-7. Alice uses a credential to prove she owns the lightbulb</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Furthermore, Alice has received a credential from her lightbulb stating that she is the owner. This is a kind of imprinting. While it may not be secure enough for some use cases, for something like a lightbulb it’s probably secure enough. Once Alice has this credential, she can use it to prove she’s the owner. The most obvious place to do so would be at Bravo’s website, to receive support, rewards, or other benefits. But other places might be interested in seeing it as well: “Prove you own a Bravo lightbulb and get $10 off your purchase of a Certiphi light switch.”</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Use Case 3: Real Customer Service</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Nearly everyone’s experienced customer service hell: you call a company, get put on hold, get asked a bunch of questions to validate who you are, recite serial numbers or model numbers to one agent and then another, and then lose the call and have to start all over again. Or you might have been trapped in a seemingly endless automated response loop trying to even get to a human.</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The DID-based relationship Alice has created with Bravo does away with that, because DIDComm messaging creates a mutually authenticated communication channel where each participant knows they are communicating with the right party without the need for further authentication, thus reducing effort and increasing security. Furthermore, as we saw in the last section, Alice can prove she’s a bona fide owner of a Bravo lightbulb.</p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1256" class="s33">But because DIDComm messaging can support higher-level application protocols, the experience can be much richer. </a><a href="#bookmark1256" class="a">Figure 20-8</a> <span style=" color: #000;">provides a simple example.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="594" height="561" alt="image" src="Image_526.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark1256">Figure 20-8. Alice uses a specialized smart agent to manage the things she owns</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;"><a href="#bookmark1256" class="s33" name="bookmark1257">In </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 20-8</span><a href="#bookmark1278" class="s33">, Alice has two Bravo lightbulbs. Let’s further assume that Alice has a specialized smart agent to interact with her things. Alice’s smart agent does all the things a normal agent can do, but it also has a user interface for managing all the things she owns and her relationships with them.</a><a href="#bookmark1278" class="s42">9</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">Having two things manufactured by Bravo presents a problem when Alice wants to contact them</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1279" class="s33" name="bookmark1258">if she is serving as the intermediary between the thing and its vendor—she’ll have to juggle serial numbers and other identifiers to get the right information from the right device to Bravo. But if we flip that model around and let the thing be the intermediary, the problem is easily resolved. Now when Alice wants to contact Bravo, she clicks one button in her agent and the lightbulb she’s chosen intermediates the transaction. The lightbulb can interject relevant information into the conversation, so Alice doesn’t have to.</a><a href="#bookmark1279" class="s42">10</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Alice’s agent has relationships with each of her things’ agents, which might have relationships with each other if that is useful. These agents could be running an application protocol for vendor message routing. The protocol is using subprotocols that allow the lightbulb to act on Alice’s behalf in customer support scenarios. CRM tools could be fitted out to understand these protocols as well.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Vic Cooper, the CEO of HearRo, a company working on this idea, told me:</p><p style="padding-top: 10pt;padding-left: 11pt;text-indent: 0pt;text-align: left;"><a href="#bookmark1280" class="s32" name="bookmark1259">Most communications happen in the context of a process. [Customers] have a vector that involves changing some state from A to B. “My thing is broken, and I need it fixed.” “I lost my thing and need to replace it.” “I want a new thing and would like to pay for it, but my card was declined.” This is the story of the customer service call. To deliver the lowest effort interaction, we need to know this story. We need to know why they are calling. To add the story to our context we need to do two things: capture the intent and manage the state over time. SSI has one more superpower that we can take advantage of to handle the why part of our interaction. We can use SSI to operationalize the relationships. </a><a href="#bookmark1280" class="s66">11</a></p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1160" class="s33">As you saw in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 19</span>, operationalized relationships provide persistence and context for any relationship. When we include the product itself in the conversation, we can build customer service applications that lower the effort for the owner because the trustworthy connection can include not only the <i>who </i>but also the <i>what </i>to provide a more complete story, as the example with two lightbulbs shows. Automatically knowing which lightbulb Alice needs service for is a simple bit of context, but one that reduces effort, nonetheless.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1281" class="s33" name="bookmark1260">Going further, the interaction itself can be a persistent object with its own identity and DID- based connections to the participants.</a><a href="#bookmark1281" class="s42">12</a><span class="s59"> </span>Now the customer and the company can bring tools to bear on the interaction. They can invite others to join the interaction as necessary. The interaction itself now becomes a persistent nexus that evolves as the conversation does. I recently had a monthlong customer service interaction involving a few dozen calls with the financial services company Charles Schwab. Most of the effort for me and for them was repeatedly reestablishing context. No CRM tool can provide that, because such tools are entirely one-sided. Giving <i>customers </i>tools to operationalize their customer relationships solves this problem.<a name="bookmark1261">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Relationships in the SSIoT</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1262">The last section introduced the idea of Alice having a relationship with a device she owns, her lightbulb. Many of the devices we attach to the IoT will be fairly simple, with limited use cases. But some offer much richer possibilities. One of the lessons I took from Fuse is that vehicles are complex devices in a rich ecosystem. In this section, we’ll explore Alice’s relationship with her</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Ford F-150 truck in a future SSIoT.</p><p class="s55" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1263" class="a">Figure 20-9</a> <span style=" color: #000;">shows a few of the relationships a vehicle might have. The most important relationship that a vehicle has is with its owner. But there’s more than one owner over the vehicle’s lifetime. At the beginning of its life, the vehicle’s owner is the manufacturer. Later the vehicle is owned by a dealership, and then by a person or finance company. And, of course, vehicles are frequently resold. Over the course of its lifetime a vehicle will have many owners. Consequently, the vehicle’s agent must be smart enough to handle these changes in ownership and the resulting changes in authorizations.</span></p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="593" height="834" alt="image" src="Image_527.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark1263">Figure 20-9. Vehicle relationships</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">In addition to the owner, the vehicle has relationships with other people: drivers, passengers, and pedestrians. The nature of relationships changes over time. For example, the vehicle probably needs to maintain a relationship with the manufacturer and dealer even after they are no longer owners. With these changes to the relationship come changes in authorizations.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1282" class="s33" name="bookmark1264">In addition to relationships with owners, vehicles also have relationships with other players in the transportation ecosystem: repair shops, gas stations, insurance companies, finance companies, and government agencies. Vehicles might exchange data and money with these players over time. And the vehicle might have relationships with other vehicles, traffic signals, the roadway, and even potholes.</a><a href="#bookmark1282" class="s42">13</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The following sections discuss three scenarios involving Alice, the truck, and other people, institutions, and things.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Multiple Owners</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">One of the relationship types that the CompuServe of Things fails to handle well is multiple simultaneous owners. Some companies try; others just ignore the whole question. The problem is that when the service provider intermediates the connection to the thing, it must account for multiple owners and allow those relationships to change over time. For a high-value product, the engineering effort is justified, but for many others, it simply doesn’t happen.</p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1265" class="a">Figure 20-10</a> <span style=" color: #000;">shows the relationships of two owners, Alice and Bob, with their truck. The diagram is simple and hides some of the complexity of the truck dealing with multiple owners. The biggest hurdle is ensuring that developers don’t assume a single owner when they develop services to run in the truck’s agent. The infrastructure for supporting it is built into DIDComm, including standardized support for subprotocols like Introduce.</span></p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="594" height="516" alt="image" src="Image_528.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark1265">Figure 20-10. Multiple owners</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Lending the Truck</p><p class="s55" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1266" class="s33">People lend things to friends and neighbors all the time. And people rent things out. Platforms like Airbnb, Vrbo, and Outdoorsy are built to support high-value rentals. But what if you could lend or rent anything at any time, without an intermediating platform? </a><a href="#bookmark1266" class="a">Figure 20-11</a> <span style=" color: #000;">shows the relationships between Alice and her friend Carol, who wants to borrow Alice’s truck.</span></p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="594" height="515" alt="image" src="Image_529.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark1266">Figure 20-11. Borrowing the truck</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Like the multiple-owner scenario, Alice would first have a connection with Carol and introduce her to the truck using the Introduce protocol. The introduction would give the truck permission to connect to Carol and tell the truck’s agent what protocols and data to expose to Carol’s agent.</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Alice would also set the relationship’s longevity. The specific permissions that the borrower relationship enables depend, of course, on the nature of the thing.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The data that the truck stores for different activities depends on these relationships. For example, the owner is entitled to know everything, including trips. But someone who borrows the car should be able to see their trips, but not those of other drivers. Relationships dictate the interactions. Of course, a truck is a very complicated thing in a complicated ecosystem. Simpler things, like a shovel, might simply involve keeping track of who has the thing and where it is.</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">But, as you learned in the last section, there is value in having the thing itself keep track of its interactions, location, and status.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Selling the Truck</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/m_fpT" class="s33" target="_blank" name="bookmark1267">Selling the vehicle is more complicated than the previous scenarios. In 2012, my company Kynetx prototyped this scenario for Swift’s Innotribe innovations group and presented it at their Sibos conference. Heather Vescent of </a><a href="https://oreil.ly/m_fpT" class="a" target="_blank">Purple Tornado</a><a href="https://oreil.ly/m_fpT" class="s36" target="_blank"> </a><a href="https://oreil.ly/m_fpT" class="s33" target="_blank">created a </a><a href="https://oreil.ly/m_fpT" class="a" target="_blank">video that visualizes how a sale</a><a href="https://oreil.ly/m_fpT" class="s36" target="_blank"> </a><a href="https://oreil.ly/m_fpT" class="a" target="_blank">of a motorcycle</a><a href="https://oreil.ly/m_fpT" class="s36" target="_blank"> </a><a href="#bookmark1283" class="s33">might happen in a heterarchical DIDComm environment.</a><a href="https://oreil.ly/m_fpT" class="s42" target="_blank">14</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1268" class="s33">In </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 20-12</span>, Alice is selling her truck to Doug. (I’m ignoring how Alice and Doug got connected and negotiated a price; this example focuses on the sale itself.) To complete the transaction, Alice and Doug create a <i>sale relationship</i>. They both have relationships with their respective credit unions or banks where Doug initiates and Alice confirms the transaction. At the same time, Alice introduces the truck to Doug as the new owner.</p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="594" height="841" alt="image" src="Image_530.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark1268">Figure 20-12. Alice sells her truck to Doug</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Alice, Doug, and the truck are all connected to the DMV and will use these relationships to transfer the title. Doug can use his agent to register the truck and get plates. Doug also has a relationship with his insurance company. He introduces the truck to the insurance company so it can serve as the service intermediary for the policy issuance.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Alice is no longer the owner, but the truck knows things about her, like trip and maintenance information, that Doug shouldn’t have access to and that she wants to maintain. Alice creates a digital twin of the truck that is no longer attached to the physical device but has a copy of all the information Alice cocreated with the truck over the years she owned it. This digital twin has all the same functionality for accessing and using this data that the truck did. At the same time, Alice and Doug can negotiate what data also stays on the truck. Doug likely doesn’t get data about Alice’s trips and fuel purchases, but he might want the maintenance data.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Unlocking the SSIoT</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1269">DIDComm-capable smart agents can be used to create sophisticated relationship networks that include people, institutions, things, and even soft artifacts like interaction logs. The relationships in that network are rich and varied—just like relationships in the real world. Things, whether they can run their own agents or employ a digital twin to host them, are much more useful when they exist persistently, control their own agent and digital wallet, and can act independently.</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Things now react and respond to messages from others in the relationship network as they follow the rules their owner has specified.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">While the examples in this chapter may not be in production now, everything I’ve discussed is doable using technologies that already exist. By removing the intermediating administrative systems that make up the CompuServe of Things and moving to a decentralized, peer-to-peer architecture, we can unlock the tremendous potential of the self-sovereign Internet of Things.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="624" height="1" alt="image" src="Image_531.png"/></span></p><ol id="l41"><li><p class="s65" style="padding-top: 5pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark1270">	</a><a href="https://oreil.ly/Y-mCd" class="s68" target="_blank">OBD, or on-board diagnostics, provides a standard hardware interface port on every vehicle sold in the US since 1996. The port has access to events on the vehicle’s internal</a><a href="https://oreil.ly/Y-mCd" class="s46" target="_blank"> </a><a href="https://oreil.ly/Y-mCd" class="s47" target="_blank">CAN </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 9pt;">bus</span><span class="s45">.</span></p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark1271"><span class="s65">	</span></a>You’ll sometimes hear this proxy called a <i>device shadow </i>or <i>digital twin</i><a href="https://oreil.ly/IH1Qk" class="s68" target="_blank">. I prefer</a><a href="https://oreil.ly/IH1Qk" class="s46" target="_blank"> </a><a href="https://oreil.ly/IH1Qk" class="s47" target="_blank">Bruce Sterling’s </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 9pt;">name</span>: <i>spime</i>, a neologism combining the words <i>space </i>and <i>time</i>. But regardless of what you call them, the need for some computational node that is separate from, but representing, the device is a reality.</p></li><li><p class="s65" style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark1272">	</a><span class="s45">Much of the Fuse code was involved in solving this problem by recognizing when data was missing and syncing the Fuse application with the data at Carvoyant. In fairness to OAuth, even if refreshing access tokens hadn’t been a problem, significant error-handling code would still have been needed to ensure the systems were consistent.</span></p></li><li><p class="s65" style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: justify;"><a name="bookmark1273">	</a><span class="s45">I’m not making a “Google good, Facebook bad” argument, merely comparing Gmail to Facebook Messenger. Many Google products have their own forms of lock-in and are every bit as much re-creations of the 1980s “online service” business model as Facebook.</span></p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark1274"><span class="s65">	</span></a>The term <i>brick </i>is used to describe a piece of hardware that becomes useless because of a firmware update—it no longer has any more smart functions than a brick.</p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark1275"><span class="s65">	</span></a>This is the underlying scenario of one of my favorite science fiction books, <i>Rainbows End </i>by Vernor Vinge. I ask all my students to read <i>Rainbows End </i>because I think it does a good job of taking current ideas and technology and asking where they might end up in 30 or 40 years’ time. I do this as part of asking them to consider how they can build the world they want to live in.</p></li><li><p class="s45" style="padding-top: 3pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark1276"><span class="s65">	</span></a>Since things can’t be sovereign or autonomous, the term <i>self-sovereign IoT </i>shouldn’t be taken to mean autonomous things, but rather that the boundary of control is under the umbrella of the owner’s self-sovereign authority.</p></li><li><p class="s65" style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: justify;"><a name="bookmark1277">	</a><a href="#bookmark393" class="s68">The problem with using digital certificates for this is that certificates expire, as you learned in </a><span class="s67">Chapter 9</span><span class="s45">. A manufacturer would manage that by building devices that can update their certificates, but this complexity is enough that certificates are rarely used in IoT devices.</span></p></li><li><p class="s65" style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark1278">	</a><a href="https://oreil.ly/qICSV" class="s68" target="_blank">The idea of things as the conduit for customer service interactions has been on my mind for a while. This blog post I wrote in 2013,</a><a href="https://oreil.ly/qICSV" class="s46" target="_blank"> </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 9pt;">“Facebook for My Stuff”</span><span class="s45">, discusses it in the social vernacular of the day.</span></p></li><li><p style="padding-top: 6pt;padding-left: 27pt;text-indent: -12pt;text-align: justify;"><a href="https://oreil.ly/frG5b" style=" color: black; font-style: normal; font-weight: normal; text-decoration: none;" target="_blank" name="bookmark1279">	</a><a href="https://oreil.ly/frG5b" class="s68" target="_blank">Doc Searls does a great job of describing why the </a><a href="https://oreil.ly/frG5b" class="s135" target="_blank">thing as conduit </a><a href="https://oreil.ly/frG5b" class="s68" target="_blank">model is so powerful in his article</a><a href="https://oreil.ly/frG5b" class="s46" target="_blank"> </a><a href="https://oreil.ly/frG5b" class="s47" target="_blank">“Market Intelligence That Flows Both Ways”</a><a href="https://oreil.ly/frG5b" class="s68" target="_blank">.</a></p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 32pt;text-indent: -16pt;text-align: left;"><a name="bookmark1280">Private communication with the author.</a></p></li><li><p class="s65" style="padding-top: 6pt;padding-left: 27pt;text-indent: -12pt;text-align: left;"><a name="bookmark1281">	</a><span class="s45">The idea that an interaction might itself be a participant in the DID relationships may take some time to process. Once we create a true IoT, it’s not just material, connected things that will be on it. The interaction object could have its own smart agent to store credentials and allow all participants to continue to interact with it over time. It could maintain context, provide a workflow, and serve as a record that everyone involved can access for as long as they need to.</span></p></li><li><p class="s65" style="padding-top: 6pt;padding-left: 27pt;text-indent: -12pt;text-align: left;"><a name="bookmark1282">	</a><a href="https://oreil.ly/AyEJH" class="s68" target="_blank">Again, you might wonder why a pothole would be on the IoT. In my blog post</a><a href="https://oreil.ly/AyEJH" class="s46" target="_blank"> </a><a href="https://oreil.ly/AyEJH" class="s47" target="_blank">“Pot Holes </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 9pt;">and Picos”</span><span class="s45">, I explain how nonconnected things like potholes might come to have and use a presence on the internet when we imagine it as a digital world that mirrors the physical one. A well-designed IoT can become a true metaverse.</span></p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 27pt;text-indent: -12pt;text-align: left;"><a name="bookmark1283"><span class="s65">	</span></a>In 2012, DIDComm didn’t exist, of course. We were envisioning something that Innotribe called the <i>Digital Asset Grid </i>(DAG) and used the term <i>personal clouds </i>instead of agents, but the envisioned operation of the DAG was very much like what exists now in a DIDComm-enabled peer-to-peer network enabled by DIDs.</p></li></ol><p class="s21" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark1284">Chapter 21. Identity Policies</a><a name="bookmark1285">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="624" height="1" alt="image" src="Image_532.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1286">Previous chapters have discussed identity technologies of various kinds. But running an effective and secure identity system requires more than just technology. Doing so requires what we might broadly call </a><i>governance</i>.</p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1316" class="s33">This chapter will focus on identity policies, the basic tools for governance. While we typically think of policy as a tool of hierarchical organizations, markets and networks often use policy as well. </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 22</span> <span style=" color: #000;">will discuss applying policies and other tools for effectively governing identity ecosystems.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Policies and Standards</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1287">Let’s take a moment to distinguish between policies and standards. </a><i>Standards </i>stipulate specific levels of performance, specify certain goods or services, set quality requirements, or describe best practices. <i>Policies</i>, on the other hand, are rules of conduct and behavior. Policies often refer to standards but go beyond them, governing or even mandating their use in specific contexts.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Throughout this book I’ve referred to standards of various sorts. Some of the standards I’ve discussed include OAuth, SAML, OpenID Connect, various encryption algorithms, WebFinger, LDAP, DNS, TLS, FIDO’s CTAP and WebAuthn, decentralized identifiers (DIDs), verifiable credentials, and DIDComm. Standards are necessary, but often insufficient, for interoperability. Most standards have enough wiggle room to allow for incompatible or incomplete implementations. Implementation leeway is a necessary part of getting standards accepted and ensuring they are resilient to changes in technology.</p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark875" class="s33">As a result, many identity policies will reference standards but include details about how the standard is used. For example, in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 14</span> <span style=" color: #000;">you learned about the DID specification and that there are various DID methods to choose from. Each of those DID methods makes choices about things like cryptographic signature suites and, importantly, the verified data registry it uses. An organization using DIDs can’t just refer to the DID specification itself; it must pick a method and then create a policy about how the organization or group will use DIDs.</span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;">In addition to external standards, most implementations of an identity system also make choices about software and execution environments. Often these choices are turned into explicit internal standards or architectural decisions.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">The Policy Stack</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1288">Many organizations have a collection of security policies in place, and some of these touch on identity issues. I’m an advocate for separating out the identity aspects of those policies and creating a holistic approach to identity on which to build not only security policies but also other</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">important aspects of the business.</p><p class="s55" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1289" class="s33">A good way to determine what policies you need and which standards you support is to consider what the organization does and where identity impinges on its activities. </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 21-1</span> <span style=" color: #000;">shows an identity policy stack. Policies, in the center, rest on decisions about standards and architectural decisions. In turn, they provide a foundation to govern activities. A top-down approach ensures that you don’t waste time creating policies that don’t matter.</span></p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="593" height="757" alt="image" src="Image_533.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark1289">Figure 21-1. The policy stack</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 21-1</span> <span style=" color: #000;">includes policies for identifiers and naming, encryption, authentication, access control, directories, DNS, federation, privacy, and provisioning. These are just examples; you may need different policies depending on what activities are being governed. The top layer of the</span></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;">stack records activities that are important to the organization, such as software development, security practices and policies, software licensing, contracting, procurement, customer service, information protection, risk management, and partner interactions.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Attributes of a Good Identity Policy</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1290">Since policies define appropriate behavior and form the basis for enforcement, they must have several important qualities:</a></p><p class="s35" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Implementable</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Good policies should be realizable given existing technology and resources. Technical controls are not always possible. Policies should be made by teams that include subject- matter experts. You <i>will </i>discover problems that could keep the policy from being implementable during the review process, when you work to get buy-in from various groups.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Enforceable</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: justify;"><a name="bookmark1291">Enforcement is not a tool to force compliance so much as a tool for ensuring uniformity and gathering feedback. </a><i>Enforceability </i>requires that the policy contanes clear guidelines on what to do and that enforcement procedures are clearly spelled out. I’ll discuss enforcement more later in this chapter.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Understandable</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">The people who must live by the policies should be able to understand them. You can’t use the internet without running into unreadable terms and conditions in multipage agreements. These are universally derided, because they are not written to be understandable; perhaps they are even written to <i>not </i>be understandable. Writing good policies requires walking a fine line between formal and informal language. Users often perceive formal language as “stuffy” or “officious,” but informal language often lacks the precision to clearly say what needs to be said. Regardless, the tone should be straightforward and clear, using short sentences and bulleted lists for ease in reading. Paragraphs (and subparagraphs) should be numbered so that they can be referenced easily. Policies should avoid passive voice wherever possible because it can obfuscate <i>who </i>is responsible for acting. Most organizations will likely want to adopt a template as one of their first actions in creating policies, so that subsequent policies share a common format.</p><p class="s35" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Guided by the organization</p><p style="padding-top: 3pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Policies should be tied to the organization’s goals and represent a consensus. Nothing is more important than creating consensus among the influencers in your organization around each policy. Some policies will need consensus from people outside a single organization. I’ll discuss this more in the next chapter.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Practical</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">People trying to “just get the work done” will circumvent policies that are too restrictive, not understood, or perceived as being impractical. One of your primary goals should be to avoid creating policies that don’t work. Remember that no matter how important you may think a particular policy is, it will be a waste of time if most people do not voluntarily adopt it.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Recording Decisions</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/QVPr2" class="s33" target="_blank" name="bookmark1292">Creating and maintaining policies will require many significant decisions. </a><a href="https://oreil.ly/QVPr2" class="a" target="_blank">Wikipedia defines</a><a href="https://oreil.ly/QVPr2" class="s36" target="_blank"> </a><a href="https://oreil.ly/QVPr2" class="s31" target="_blank">architectural decisions</a><a href="https://oreil.ly/QVPr2" class="s54" target="_blank"> </a>as “design decisions that address architecturally significant requirements; they are perceived as hard to make and/or costly to change.” The word <i>architecture </i>may make you think of software or hardware decisions, but you can apply the architectural decision methodology to other significant decisions. For example, if you are implementing an administrative architecture for the company you work for, there will be numerous policies, which reflect countless decisions, within that overall architecture.<a name="bookmark1293">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Rather than thinking of policies as places to <i>record </i>such decisions, I think it’s better if policies <i>reflect </i>and <i>reference </i><a href="https://oreil.ly/hI6nw" class="s33" target="_blank">those decisions. You might be tempted to create a policy that says, “We will use the Ed25519 Signature Suite,” and that certainly will govern (the purpose of a policy) how people develop software. But I’m a fan of recording these decisions separately in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">architectural decision records (ADRs)</span>.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1294">Understanding the motivation behind decisions helps the people affected by them. ADRs are a process for systematically recording significant architecture decisions. They capture the context and intended consequences of decisions in versioned documents that later groups can use to understand why decisions were made when they need to be justified, updated, or retired. A lightweight ADR consists of an identifier, title, status, context, decision, and consequences.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">With a process for recording ADRs in place, policy writers can refer to decisions by ADR number (and hyperlink), giving people who read the policy a place to go for history and context on decisions that affect them and their work. For example, a policy that depends on an architectural decision on cryptographic signatures might have a section referencing relevant ADRs. Be aware that sometimes architectural decisions are made by referencing policy. The policy and architectural decision processes are mutually reinforcing.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Determining Policy Needs</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_534.png"/></span></p><p style="padding-top: 3pt;padding-left: 29pt;text-indent: -24pt;line-height: 174%;text-align: left;"><a name="bookmark1295">Identity policies will typically come from one of six places: Business-inspired projects and processes</a></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_535.png"/></span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 13pt;text-align: left;">Security considerations</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_536.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_537.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_538.png"/></span></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 165%;text-align: left;">Privacy considerations Information governance External demands</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_539.png"/></span></p><p style="padding-left: 5pt;text-indent: 24pt;line-height: 174%;text-align: left;">Feedback on existing policies This section will examine each in turn.</p><p class="s61" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Business-Inspired Projects and Processes</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">When I was the CIO for the State of Utah, we undertook a statewide metadirectory project. This project was driven by a clear business need: the governor and others wanted a better URL for state websites and shorter email addresses for employees. Accomplishing this was a big effort involving hundreds of people, and it inspired policies about naming conventions and directory interaction.</p><p class="s59" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1313" class="s33" name="bookmark1296">To some, driving policies from business projects and processes may seem somewhat less than pure.</a><a href="#bookmark1313" class="s42">1</a> <a href="#bookmark1289" class="s33">But that’s the point. The policy stack in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 21-1</span><span class="s55"> </span><span class="p">is meant to inspire a top-down approach. By tying your policies to the places where they are needed, you’ll get better policies and avoid creating policies you don’t use.</span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">As an example, say you’re looking at updating your identity infrastructure. You determine that the update would save enough money on password reset calls to justify the cost. Such a project would generate several significant architectural decisions and associated ADRs. Perhaps you’re going to move to FIDO, necessitating architectural decisions about hardware tokens, platform authenticators, supported browsers, vendors, and integration methods. These decisions provide a perfect opportunity to create or update your naming, identifier, and authentication policies. Even then, you might opt to create just the parts of those policies that you need to complete the password reset project, leaving other parts of those policies for another time.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The danger in this approach is that sometimes business requirements will force you to make decisions faster than your existing policy creation process can. You can mitigate this problem in one of three ways:</p><ol id="l42"><li><p style="padding-top: 8pt;padding-left: 29pt;text-indent: -15pt;line-height: 109%;text-align: justify;">Separate decisions from policies and use a nimbler ADR process when applicable. Some business requirements can be met with architectural decisions that are followed up with a policy.</p></li><li><p style="padding-top: 7pt;padding-left: 29pt;text-indent: -15pt;line-height: 109%;text-align: left;">Proactively create policies or ADRs in primary areas before you need to use them. For example, because of a security breach you might need to make decisions about encryption in a matter of a few days. If you wait until the decision is needed to create the policy or</p><p style="padding-top: 3pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">make a decision, you won’t have enough time.</p></li><li><p style="padding-top: 9pt;padding-left: 29pt;text-indent: -15pt;line-height: 109%;text-align: left;">Create an expedited procedure for solving policy questions. Use this process to create point policies on specific questions that need to be answered immediately, then use the longer policy process, including its built-in feedback mechanism, to iterate this point policy to a more general solution.</p></li></ol><p style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1297">In any event, you want to avoid two extremes. On one extreme, your policy process is so slow that it delays those making and implementing important business decisions. This is certain to breed discontent and force people to work around the system, rather than within it. On the other extreme, people make decisions without any guidance from the policy process, and your identity infrastructure suffers from </a><i>ad hoc </i>decisions and no structural context.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Amazon uses the metaphor of one-way and two-way doors to approach decisions. A one-way door decision is one that can’t be easily reversed. These should be done carefully since the consequences of a bad decision are large. A two-way door decision, on the other hand, <i>can </i>easily be reversed. These can be made quickly, in the spirit of experimentation. This metaphor is useful for guiding the level of deliberation you use to make policies.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">In the password reset example I gave above, deciding to move to hardware tokens and get rid of passwords completely is a one-way door decision due to the expense and difficulty in going back to passwords. Thus, policy questions surrounding it will need to be done carefully. But you might start by updating your password requirements policy to make resetting them less onerous. Such a policy change is a quick, inexpensive, two-way door decision that can be monitored and easily reversed if needed.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Security Considerations</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1298">One of the most important roles for identity policies is to secure resources for an organization or network. Much has been written about information security, and most large organizations have people dedicated to this important task. You may already have security policies that touch on some of the identity issues that your policies will need to address.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1289" class="s33">Identity enables information security but is not subsumed by it. Indeed, there are significant security considerations that have little to do with identity. This implies that security policies should be separate from and built on identity policies, as shown in the policy stack in </a><a href="#bookmark1289" class="a">Figure 21-</a><a href="#bookmark1289" class="s36"> </a><a href="#bookmark1289" class="a">1</a><a href="#bookmark1289" class="s33">.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Traditional security policies, such as network security, acceptable use, and firewall requirements, typically use concepts such as naming, authentication, encryption, and access control. However, policies on those issues are frequently not aggregated together. You may find, when you review your organization’s security policies, that they even contradict each other on these issues.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Separating identity policies from security policies requires that you rewrite each security policy to remove more general identity issues and reference the identity policies instead. As you do this, the requirements of your security policies will drive the contents of your identity policies.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">The governance process for policies should always include subject-matter experts on security, so</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">that they can speak to information security needs as policies are developed and implemented. While the needs of information security should play an important role in creating identity policies, they should not overshadow other important needs in the organization.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Privacy Considerations</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1299">Like security policies, privacy policies depend on your identity policies—even more so. While security policies are usually separate from identity policies, privacy considerations are often tightly wrapped in identity policies to ensure that the identity infrastructure they govern meets privacy needs.</a></p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 8</span> <span style=" color: #000;">contains significant information on how privacy can impact an organization’s identity decisions. Do your identity policies support privacy by design principals? Do they ensure your organization complies with the various relevant regulations and laws? Is the business need for data collection clear and reflected in decisions and policies? Are you making good trade-offs between the value of data and the cost of privacy? Most importantly, are you treating information about your customers, partners, and employees the way you would want your own data to be handled? These and other questions can guide your identity policies in support of good privacy practices.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Information Governance</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1300">Many organizations have information governance processes in place to protect sensitive information. Some of this is privacy related, but personally identifying information is not the only information that needs to be protected. Trade secrets, corporate performance numbers, and other critical data all need protection from disclosure to unauthorized parties.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Information governance has the biggest impact on access control decisions and policies. Critical questions in information governance that will drive requirements for identity policies iinclude: Where is information stored? Who has access? How long is it retained? How it is destroyed?</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1301">If your infrastructure supports policy-based access control (PBAC), many information owners and stewards will be able to write access control policies directly in the PBAC tool. These small, automatically enforced access control policies must comply with larger, more general policies.</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;">For that to happen, identity policy must be clear and complete.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Meeting External Requirements</p><p class="s55" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark291" class="s33" name="bookmark1302">External sources such as government regulators and large partners frequently place requirements on identity infrastructures. These requirements germinate identity policies. </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 8</span> <span style=" color: #000;">discussed several legal and regulatory requirements, such as GDPR, CCPA, HIPAA, Sarbanes-Oxley, and the Gramm-Leach-Bliley Act. Any of these that apply to your organization will influence the policies you put in place.</span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Some external requirements are developed by an industry group and have the force of law for all intents and purposes (such as “generally accepted accounting principles”). Others are voluntary,</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">but the organization has concluded that it will abide by them for some reason.</p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">In any event, your organization probably already meets, or attempts to meet, these requirements. Doing so places a burden on the identity infrastructure. Identity policies can codify and normalize these requirements as well as provide a process for meeting any external identity requirements that others place on your organization.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Feedback on Existing Policies</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1303">Determining what policies are needed in your organization is an iterative task, not an event. Like any good business process, your policy process should have a defined feedback mechanism. If properly implemented, this feedback mechanism will give you information about which policies are working and which are not. The process will also point to policies that need to be developed to answer questions that arise in the application or enforcement of existing policies.</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Writing Identity Policies</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1304">We’ve already discussed five important attributes of a good identity policy. In addition to those specific attributes, these important guidelines will help ensure that your policies are implementable, enforceable, understandable, practical, and guided by the business:</a><a name="bookmark1305">&zwnj;</a></p><p class="s35" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Never release a policy that you can’t or won’t enforce.</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">Creating policies that people ignore weakens the process.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Build a policy review framework.</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">The review framework is a document containing a table that gives status information and a review schedule for each policy.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Good policies are general enough that they do not need frequent updating.</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Policies should be unambiguous, without being so specific that they lose their relevance with every change to the business operations of the organization.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Avoid referencing specific standards or products in your policies.</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Instead, use an interoperability framework, which can be a collection of ADRs, to call out specific products and standards. Merely reference specific decisions from the interoperability framework in the policy. This will ensure that you don’t have to continually update policies as new products and standards are released.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Policies should not specify processes or best practices.</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">Put another way, policies should talk about “what,” not “how.” ADRs are a good place to</p><p style="padding-top: 3pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">record process and practice decisions.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Policies should not contain confidential or proprietary information.</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Policies usually need to be widely distributed to be effective. If you can’t avoid including confidential information, be sure that the policy is properly classified by your information governance process and that the chosen classification ensures everyone who needs to see it has access.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Break policies into short, modular documents.</p><p style="padding-top: 7pt;padding-left: 23pt;text-indent: 0pt;line-height: 109%;text-align: left;">Don’t write large, monolithic policies. Develop modular policy structures just as you would modular software, and cross-reference specific sections when needed. The benefits are similar. Short modular policies:</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_540.png"/></span></p><p style="padding-top: 8pt;padding-left: 41pt;text-indent: 0pt;text-align: left;">Can be reused by reference from multiple places</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_541.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_542.png"/></span></p><p style="padding-top: 9pt;padding-left: 41pt;text-indent: 0pt;line-height: 165%;text-align: left;">Benefit from being written by an expert in that specific area Are relevant for a longer period</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_543.png"/></span></p><p style="padding-left: 41pt;text-indent: 0pt;text-align: left;">Are easier to maintain</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Include the HR and legal teams in the review process.</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">This is especially important where enforcement is concerned. Without proper review, you likely will not be able to take action against individuals who break the policy.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Use a document management or version control system for managing the policy-writing process.</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">This same system can be used to distribute and version policies when they are complete. A workflow that involves writing policies in a word processor, using email for workflow, and putting together a simple website for distribution will work for a small number of documents that are modified infrequently, but it becomes unwieldy for more active policy-maintenance processes.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Rather than starting from scratch, consider buying policy templates from one of the many vendors or consulting companies who service this market.</p><p style="padding-top: 8pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Alternately, hiring a consultant to put together an identity-policy suite specific to your organization may jump-start the process and give you several workable policies in short order.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">The specific policies you develop may have all or only some of these sections depending on the</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">circumstance.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 10pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Policy Outline</p><p class="s59" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;"><a href="#bookmark1314" class="s33" name="bookmark1306">What should a policy look like? Typically, identity policies have a set of sections that follow an identifiable outline. Each policy should have a title and identifier.</a><a href="#bookmark1314" class="s42">2</a> <span class="p">I recommend the following sections:</span></p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Section 1: Purpose</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">This section is typically just a paragraph or two long and answers the question, “Why is this policy needed?”</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Section 2: Scope</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">This section is also generally short and identifies what the policy covers.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Section 3: Status</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">This section identifies the status of the policy. For example, it might be “in development,” “under review,” “approved,” “sunset,” or “revoked.”</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Section 4: Definitions</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">This section is simply a list of definitions of terms used in the rest of the document. Clear definitions are important in avoiding ambiguity in later sections and avoiding lengthy explanations of concepts in the main body of the policy. Note that the point of this section is not to give dictionary definitions so much as to give definitions specific to the organization and how the words are used in the policy.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Section 5: References</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">This section is a list of other policies, standards, architectural decisions, and documents that are used in the body of the policy.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Section 6: Policy</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">This section is the main body of the document and describes in detail the requirements of the policy.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Section 7: Enforcement</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">This section describes what actions will be taken when the policy is violated. Some enforcement actions may be against personnel such as an HR action, and others may be</p><p style="padding-top: 3pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">against organizations such as a budget action. In the case of personnel actions, you typically won’t include them in the policy directly, but by reference to the appropriate HR policy.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Section 8: Contacts</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">This section lists who is responsible for the policy and its review, modification, and enforcement. Specify this by title and position, not name, so that the policy is not outdated by personnel actions.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Section 9: Revision History</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">This section documents each revision by date and the primary changes. The version control system you use will likely include this automatically in the metadata, and that may be good enough for many actions. If policy changes require approval from other parts of the organization, the Revision History section could include that information.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">I recommend that you develop a policy template for your organization and use it for every policy, so the policies have a consistent style and format.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">The Policy Review Framework</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1307">You should include a policy review framework in the policies that you develop. The framework is really nothing more than a schedule. Consequently, it is generally short and relatively uncontroversial. The review framework consists of the following parts:</a><a name="bookmark1308">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_544.png"/></span></p><p style="padding-top: 8pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">An introduction stating the purpose of the document.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_545.png"/></span></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: justify;">A table that serves as a schedule of policies. The table should include columns for policy identifier, policy title, responsible person or group, status (for example, Approved, Final Draft, Draft—RFC), date approved, review cycle (for example, yearly, biannual, etc.).</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_546.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">A table that serves as a calendar for the current year, showing which policies will be reviewed in any given month.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_547.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Guidelines for how frequently different types of policies should be reviewed, to guide policy writers in proposing a review schedule.</p><p style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The schedule itself should be reviewed the last month of the calendar or fiscal year and a new review calendar created for the coming year.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Assessing Identity Policies</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark1309">Policies should be assessed when they are initially created, and again when they come up for</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">review or modification. This process will be most effective when done as a routine, semiformal procedure with a brief report to the reviewing body. Policies of any sort can be difficult to assess. Here are several criteria you might want to use to review and assess your policies:</p><p class="s35" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Completeness</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Ideally, policies would cover every situation that might come up. That isn’t practical, for reasons of cost and because no one can foresee every possible problem. The best approach is to create a policy that is complete for a specific context and then add to it as unforeseen circumstances arise. The building trades use this approach to create building codes, and it has served them well. The reviewing body should review any incident reports that bear on the policy and make recommendations about changes that would have prevented or lessened the severity of any related incident.</p><p class="s35" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Effectiveness</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">To gauge a policy’s effectiveness, the organization must have some goal that they want the policy to accomplish and must understand how the policy being reviewed contributes to meeting that goal.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Cost</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">This can be difficult to assess, but it’s worth at least estimating so that you can make a case for or against a policy (or changes to an existing policy). The estimate should include the cost of complying with the policy <i>and </i>the cost of not implementing the policy. Cost estimates are usually easier to make for components of a policy rather than the entire policy.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Risk</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Policies can be hard to compare for relative risk. For example, is a periodic forced password reset better than letting people choose when to update their passwords? Often, the best you can do is to estimate risk. The most important thing is to use the process to build consensus among key players about risk. As a result, everyone will approach policies and their enforcement from a similar perspective.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Enforcement</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1310">There is little point in creating policies if they are not enforced. Just imagine how ineffective building codes would be if they were not enforced. Enforcement is not a duty that can fall to a committee. Neither should the same operational group that is supposed to be providing service also enforce policy. It’s difficult to provide good customer service and be the police force at the</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">same time.</p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Make sure policies are promulgated effectively to those who need to see them. As part of this effort, you might consider developing a training program around your policy suite and make sure you include this program in new employee orientation, management training, and other meetings as appropriate.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">How strictly you want to enforce policies depends on how costly the consequences of noncompliance are. For example, if your organization is subject to regulatory oversight with potentially large fines, then you may be obligated to strictly enforce policies related to compliance with external regulations.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">You might consider including an acknowledgment statement in important policies. This can be as simple as a signed statement saying that the responsible person asserts that they (or their organization) are in compliance with the policy. If they can’t sign a compliance statement, be sure to have a program for helping them develop a roadmap that takes them to compliance and require milestone reporting for major milestones in the roadmap.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1311">One of the most effective techniques for measuring and encouraging compliance is to conduct periodic audits. Here are some important points to remember when planning and carrying out audits:</a></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_548.png"/></span></p><p style="padding-top: 8pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">Make sure you have approval to conduct the audit.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_549.png"/></span></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Don’t exclude groups or individuals, such as the IT department or executive management, from audits.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_550.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">Don’t announce the audit ahead of time.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_551.png"/></span></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Find creative ways to make audits nonpunitive where possible. As silly as it sounds, just leaving candy or rocks in someone’s office after an audit as a measure of their compliance can alert people to problems in a nonthreatening way.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_552.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">Develop standard audit forms.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_553.png"/></span></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Develop custom audit procedures for each type of policy. For example, a password audit is very different from an audit of coding practices.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_554.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_555.png"/></span></p><p style="padding-top: 8pt;padding-left: 29pt;text-indent: 0pt;line-height: 165%;text-align: left;">Develop processes for conducting audits and reference them in the policy. Document and share audit results.</p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Penalties for noncompliance should also be included in the policy where applicable. Creating workable enforcement provisions will usually require having legal and HR subject-matter experts review and comment on the policy. Be careful not to make policies so strict that they create deadlock when important work can’t get done while remaining in compliance. And provide some means of granting exceptions for exigent circumstances.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Remember that the point of policies and enforcement is to create a context within which a working digital identity infrastructure can be built and operated. Enforcement actions should</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">consequently be aimed at helping projects, organizations, and employees come into compliance rather than extracting punishment.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Procedures</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1312">Closely related to policies are procedures. Where policies define “what,” procedures define “how.” Procedures can be recorded in ADRs. A proper policy suite serves as the basis for creating procedures. Procedures outline specific actions to take in specific situations and give instructions for how to handle events and incidents—even those that are unanticipated.</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Procedures are just as important as policies, because properly defined procedures lead to repeatable results.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Procedures can be created proactively under authority granted in a policy. More often, though, they will spring up to fill a need without any specific authorization. That’s natural and proper. What’s important is that the policy should provide the context within which the procedures are created. Returning to an analogy, building codes don’t have to authorize a contractor to create their own building procedures, but the best builders create procedures with the building code in mind.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">One of the most important general procedures you can create is an incident-handling procedure. The incident-handling procedure is a preplanning document for common, foreseeable incidents. The procedure should define areas of responsibility, actions to take, and the escalation process. Other organizations within the enterprise may define specific incident-handling procedures for their areas of responsibility, but they should be done under the umbrella of a general incident- handling procedure so that nothing falls through the cracks.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Policy Completes the System</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Functional systems are more than technologies and architectures. Policies provide the structure, guidance, consistency, and control to solve problems that technology alone cannot.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">This chapter has outlined in some detail how to create policies and has given specific examples of what your organization might want in the policy suite that undergirds its identity architecture. The next chapter will take up the reason for policy: governance.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="624" height="1" alt="image" src="Image_556.png"/></span></p><ol id="l43"><li><p class="s45" style="padding-top: 5pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark1313"><span class="s65">	</span></a>The word <i>business </i>in this section doesn’t imply only for-profit, hierarchical organizations; it also encompasses the more general idea of things a group or organization needs to get done to meet its goals.</p></li><li><p class="s65" style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark1314">	</a><span class="s45">Don’t overthink this. If you’re using a version control system like GitHub, for example, the document URI can serve as its identifier and has the bonus of allowing the policy to be easily retrieved using a hyperlink.</span></p></li></ol><p class="s21" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark1315">Chapter 22. Governing Identity Ecosystems</a><a name="bookmark1316">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="624" height="1" alt="image" src="Image_557.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://sovrin.org/" class="s33" target="_blank" name="bookmark1317">Starting in 2016, I was the founding chair of the </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Sovrin Foundation</span>, a nonprofit organization created to provide governance for the identity metasystem known as the Sovrin Network. I, and a handful of like-minded people, started the foundation because we knew that an identity ecosystem that aimed to provide <i>identity for all </i>(the foundation’s vision) would need governance. The irony of decentralized systems is that they often need <i>more </i>governance than centralized systems, which can often get by with ad hoc or just-in-time decisions about how they will operate. Decentralized systems must figure that all out ahead of time or they fall apart.</p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark252" class="s33">In </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 7</span> <span style=" color: #000;">I discussed confidence and trust, ending with an exploration of social cohesion. Cohesion enables a group of people to operate with one mind about some set of ideas, processes, and outcomes. You might have wondered how the four types of organizations I discussed create cohesion; the answer is, in short, governance.</span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1318">When you hear the word </a><i>governance</i>, you might first think of presidents, legislatures, courts, and other apparatuses of governments. In his excellent (and short) introduction to governance, philosopher Mark Bevir defines <i>governance </i><a href="#bookmark1363" class="s33">as “all processes of social organization and social coordination.”</a><a href="#bookmark1363" class="s42">1</a><span class="s59"> </span>While most people typically think of governance as a process undertaken by hierarchical, bureaucratic organizations, Bevir’s definition also includes the processes for social coordination and organization used by tribal groups, markets, and networks. In Bevir’s words:</p><p class="s35" style="padding-top: 8pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">Governance refers, therefore, to all processes of governing, whether undertaken by a government, market, or network, whether over a family, tribe, formal or informal organization, or territory, and whether through laws, norms, power, or language.</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The word <i>social</i>, in Bevir’s definition of governance, refers to interactions between people and/or organizations. So, governance is any activity or process aimed at organization or coordination. Bevir points out that things like social norms, raw power, the way we speak and write, and even coercion are all part of governance. Invoking a social norm by saying “That’s rude!” is often just as effective as an actual law in regulating people’s behavior.</p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1024" class="s33">Throughout this book you’ve learned about many technologies for accomplishing specific goals. These goals are often about organization and coordination. Governance, especially in technical realms like digital identity, often involves both social and technological processes or controls, but its end goal is always coherence. This chapter will explore the processes, both social and technological, that govern identity systems and create coherence. The identity architectures you learned about in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 16</span> <span style=" color: #000;">are all governed differently. I’ll start the chapter with a section describing governance in each of these. Next, I’ll discuss governing hybrid architectures, since most interesting metasystems will be mixtures of all three types. Then I’ll turn to governing credential ecosystems that depend on the metasystem. I conclude by exploring how the</span></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">governance of an identity system promotes or detracts from its legitimacy.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 10pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Governing Administrative Identity Systems</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1319">You have been involved in administrative organizations of one kind or another for most of your life. Schools, universities, and companies are all hierarchically organized institutions that administer things. As a result, you’ve likely absorbed a lot of ideas about governance from watching (or being subjected to) how these kinds of institutions work. Creating, promulgating, and enforcing policies are social processes.</a></p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 17</span> <span style=" color: #000;">discussed the bureaucratic culture that is endemic in administrative identity ecosystems. This culture leads to a clear power imbalance. In an administrative identity ecosystem, there is a person or an organization that makes decisions and forms policy. Consequently, policies are one of the principal tools administrative organizations use to govern. You probably read the discussion in the last chapter on policy through that lens. Indeed, I find it hard to write about policy without giving it a hierarchical spin. Good policy practice is often synonymous with good corporate governance. While leaders can certainly make ad hoc decisions when unforeseen problems arise, policy is the tool that ensures consistency in how the identity system operates: preventing mistakes, increasing security, and reducing costs.</span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1320">An important goal of administrative identity system governance is to </a><i>create a clear and comprehensive set of policies that will guide its use and operation</i>. These policies let employees, partners, and customers know what is and is not allowed, and they create coherence by ensuring that everyone’s behavior is consistent with the overall goals of the identity system. For example, if your customers or partners agree to terms and conditions as part of creating an account, those should be based on policy.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark765" class="s33" name="bookmark1321">Federated identity systems make good policy even more important. As you learned in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 13</span>, <i>federation </i>is the process of outsourcing some of your identity decisions to another organization. When you use social login to authenticate customers on your site using Google’s</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">identity system, you are outsourcing the authentication question to Google. Google is the service provider and thus sets the terms for the federation. Signing up to use Google for your authentication will require that you accept Google’s terms and conditions—guided by its policies. Policies can help determine where and how social login is appropriate and what terms your organization is willing to accept.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Other types of federation, like that between an employee portal and a benefits provider, usually require negotiated agreements. In these situations, both participants’ policies come into play.</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;">They may govern activities such as session length, data sharing and retention, and access control.</p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Architectural decisions about technology and standards also play a role in governing administrative identity systems. Choosing an IAM system, for example, involves making choices about what the identity system can and can’t do. Different systems from different vendors have different features, so making a vendor choice is an act of governance: it sets a boundary for what is possible and what is not. After the choice is made, your organization might decide to turn off</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;">some features, or enable others that are not on by default—determining what is permissible within the set of possibilities. Again, each of these choices changes the boundary of what’s possible and what’s not.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Similarly, federated identity interactions are governed by protocols defined in standards. For example, federation protocols like OpenID Connect, OAuth, and SAML govern the interaction and the roles that each participant plays. Making protocol choices is an act of governance since it ultimately amounts to limiting the possible interactions and controlling them by protocol.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1322">Many of the tasks required to securely operate an administrative identity system can be controlled using technical systems that are integrated with IAM infrastructure. Systems that perform these tasks go by the name </a><i>identity governance and administration </i>(IGA). IGA systems typical provide tools that allow identity and security teams to review and control access automatically, with segregation of duties, roles, and workflows in mind. By administering the IAM system according to rules, IGA systems can automate audits, reviews, and checks that might be mandated by policy. The result is a simpler, error-resistant access control system that can provide alerts about anomalous activity and ensure policy compliance.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Governing Autonomic Identity Systems</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1024" class="s33" name="bookmark1323">Since autonomic identity systems (discussed in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 16</span>) are self-certifying, they are governed almost exclusively through technology rather than by policy. Identity ecosystems based on autonomic identifiers are peer-to-peer, with each participant exercising self-sovereign authority to make choices about technology and how to employ it.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark252" class="s33">Autonomic identifiers are self-certifying because of the cryptography that underlies them. The cryptography provides confidence (in the sense defined in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 7</span>) about the relationship between the controller, their public key, and their identifier. The controller can use their private key to authoritatively and nonrepudiably sign statements about the operations on the keys and their binding to the identifier. With the proper implementation, another party can use the public key and identifier to check those statements.</p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/0N1mI" class="s33" target="_blank">Professor Lawrence Lessig’s famous essay </a><a href="https://oreil.ly/0N1mI" class="a" target="_blank">“Code Is Law”</a> <span style=" color: #000;">explores what it means for a system to be regulated by the developers who write the code. He says:</span></p><p class="s35" style="padding-top: 8pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">The code regulates. It implements values, or not. It enables freedoms, or disables them. It protects privacy, or promotes monitoring. People choose how the code does these things. People write the code. Thus the choice is not whether people will decide how cyberspace regulates. People—coders—will. The only choice is whether we collectively will have a role in their choice—and thus in determining how these values regulate—or whether collectively we will allow the coders to select our values for us.</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">When I say that autonomic identity systems are <i>almost </i>exclusively governed through technology, my <i>almost </i>refers to the space where Lessig’s <i>collective “we” </i>might enter in.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Other parties might raise questions about the controller and their keys, the implementation, the integrity of the codebase, and choices about standards. For example, suppose Alice and Bob</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1364" class="s33" name="bookmark1324">exchange autonomic identifiers as the basis for a digital relationship. When Bob receives a signed communication from Alice, how does he know it’s really Alice and not someone who has gained control of her keys through nefarious means? If he tries to validate a signed message and it fails, is that because the signature is bad or because his implementation of the signature validation algorithm is buggy? Did someone plant a bot in Alice’s digital agent? Does the algorithm have a fundamental flaw?</a><a href="#bookmark1364" class="s42">2</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The answers to these questions are social, not technical. For example, Bob might verify it’s Alice by asking her something an impersonator wouldn’t know. Or he might trust the agent Alice uses because he’s reviewed its security features. That agent is an implementation of a set of algorithms. Its developers made choices about how to implement it (also a social phenomenon). The algorithm might have been subject to peer review or analysis by formal methods. These are all social processes that affect whether Alice and Bob can have a private, authentic, and confidential conversation.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">All these processes combine to provide governance for the algorithmic identity system. Its governance is more patchwork than that of an administrative system, where there is a person or an organization making decisions. For example, protocol standards are heavily controlled by governance processes; standards bodies go to great length to formalize and ensure committees adhere to these processes. The code may be developed in a closed or open process (the latter is commonly called <i>open source</i>). You might trust an open process more, even if you are not a developer, because its transparency makes it possible to watch what’s happening and expose flaws. Third parties might certify the agent explicitly, using a certification process, or implicitly, by including it in their product offering.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Bob might know all of this or none of it. But his confidence in the authenticity and confidentiality of Alice’s messages rests on it. You might feel uncomfortable placing your trust in a patchwork of processes, but in large part, that’s the basis for how the internet works. Few people understand, for example, how TLS works, but it protects them nonetheless. In the end, governance of an autonomic identity system relies on lots of parties worrying about lots of issues to ensure there are no major gaps in the algorithms, protocols, and implementations that make it work.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Governing Algorithmic Identity Systems</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1325">The distinguishing feature of an algorithmic identity architecture is the verifiable data registry (VDR), where public DIDs are associated with DID documents and other information related to the credential may be stored, like the schema, credential definition, and revocation registry. So the nature of the VDR’s governance is an important pillar in the trustworthiness and legitimacy of an algorithmic identity system.</a><a name="bookmark1326">&zwnj;</a></p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 22-1</span> <span style=" color: #000;">classifies a few popular VDRs (or ways VDRs might be implemented) on two axes based on their read and write permissions. A VDR can be public or private for reading and permissioned or permissionless for writing. Being permissionless and private doesn’t make much sense, so that square is red.</span></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">VDRs based on Bitcoin, Ethereum, and many other blockchains are public: anyone can read any record stored on them (although the record may be encrypted) and anyone can write a record.</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark393" class="s33">Recall, from </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 9</span>, that permissionless blockchains are designed to overcome Byzantine faults and prevent double spending, protecting records from being written fraudulently so long as the writer is firmly in control of their private keys.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1327">VDRs based on </a><i>public-permissionless ledgers </i>are not without governance. But their governance is created through interactions between interested parties. For example, in the case of Bitcoin, there are developers who can propose changes, node operators (<i>miners</i>) who decide whether to accept the code changes, and people who decide whether to use Bitcoin for their use case (like a VDR). Each of these parties makes individual decisions every day about the ongoing legitimacy of the Bitcoin blockchain and applications that run on it. That is a social process governing the network.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="490" height="525" alt="image" src="Image_558.jpg"/></span></p><p class="s60" style="padding-top: 7pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark1328">Figure 22-1. Classifying algorithmic identity systems</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1329">R3’s Corda, an open source distributed ledger usually run by a consortium of companies for their own purposes, is an example of a </a><i>private-permissioned VDR</i>. Only the organizations that control</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;">a specific instance of Corda can say who is allowed to read and write to the ledger. The consortium makes these decisions using an administrative corporate governance process.</p><p class="s59" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1365" class="s33" name="bookmark1330">VDRs based on HTTP or on well-known repositories may be centralized and governed by a single organization.</a><a href="#bookmark1365" class="s42">3</a> <span class="p">The governance of a private-permissioned ledger is like the governance of a federated identity system in that it’s negotiated between parties in the consortium that runs the VDR. The legitimacy of this governance model rests on the legitimacy of the consortium and how it is run.</span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1331">That brings us back to the Sovrin Network—a network running the Hyperledger Indy codebase, which represents a </a><i>public-permissioned </i><a href="https://oreil.ly/qODvu" class="s33" target="_blank">model. Anyone can read the VDR, but writing is controlled by a set of nodes that operate according to the extensive </a><a href="https://oreil.ly/qODvu" class="a" target="_blank">governance documents of the</a><a href="https://oreil.ly/qODvu" class="s36" target="_blank"> </a><a href="https://oreil.ly/qODvu" class="a" target="_blank">Sovrin Network</a>, which are based on the broad, open input of participants in the Sovrin ecosystem.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Other public-permissioned VDRs, based on other ledgers or HTTP-based systems, might have similar governance models—or they could be more centralized. The legitimacy of a public- permissioned system depends on its governance policies and the integrity of the node operators in following them.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1332">Beyond normal operational issues that any online system must deal with, like reliability and scalability, </a><i>censorship </i>is a key question that VDRs must address. Each of the three models handles this differently:</p><p class="s35" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Public-permissionless VDRs</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Proponents of public-permissionless VDRs often tout censorship resistance as a primary feature because their operation is dictated by the code implementing the algorithms. But the devil is in the details. For example, the integrity of most permissionless blockchains depends on no single person or organization controlling a majority of the nodes operating the chain. Large mining pools could threaten that because they represent a cartel that operates as a bloc. For similar reasons, well-known, heavily used blockchains like Bitcoin and Ethereum are more trustworthy than lightly trafficked systems, where theoretical guarantees about censorship resistance are overcome by the practical reality of not very many nodes maintaining the chain. Nevertheless, public-permissionless VDRs have the strongest claim to censorship resistance of any of the three models.</p><p class="s35" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Private-permissioned VDRs</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">These usually have the weakest guarantees on censorship resistance, since the organization running the VDR network can make any decisions it wants regarding its operation, including whom and what to censor. It usually isn’t a concern for the members, since there’s a clear use case for the VDR and who’s using it, and a private VDR will be used in a completely closed</p><p style="padding-top: 3pt;padding-left: 23pt;text-indent: 0pt;text-align: left;"><a name="bookmark1333">ecosystem.</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Public-permissioned VDRs</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a name="bookmark1334">These VDRs, like the Sovrin Network, depend on public pronouncements about their governance to guarantee censorship resistance. No single node operator can decide independently to censor a record. The public nature of the ledger allows outside parties to check for censorship, since changed or removed records would be noticed. The legitimacy of a public-permissioned VDR thus depends on the neutrality, transparency, and perceived fairness of its governance, similar to how the legitimacy of modern democratic nation-states is judged.</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Governance in a Hybrid Identity Ecosystem</p><p class="s59" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1366" class="s33" name="bookmark1335">In “Digital Ecosystems: Evolving Service-Oriented Architectures,”</a><a href="#bookmark1366" class="s42">4</a> <a href="#bookmark1333" class="s33">Briscoe and De Wilde describe digital ecosystems that mimic the properties of biological ecosystems: they are distributed, adaptive, diverse, self-organizing, and scalable. Many successful identity systems in the physical and digital worlds have similar properties. </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 22-2</span><span class="s55"> </span><a href="#bookmark1203" class="s33">reproduces </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 19-7</span><span class="p">, which illustrates the mixed architectural nature of an operational identity ecosystem as the basis for discussing how governance functions in this hybrid system.</span><a name="bookmark1336">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s430" style="padding-left: 48pt;text-indent: 0pt;line-height: 2pt;text-align: left;"><span><img width="46" height="1" alt="image" src="Image_559.png"/></span>	<span><img width="46" height="1" alt="image" src="Image_560.png"/></span>	<span><img width="46" height="1" alt="image" src="Image_561.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="593" height="531" alt="image" src="Image_562.png"/></span></p><p class="s431" style="text-indent: 0pt;line-height: 13pt;text-align: left;">Backing store</p><p style="text-indent: 0pt;text-align: left;"/><p class="s431" style="text-indent: 0pt;line-height: 13pt;text-align: left;">Backing store</p><p style="text-indent: 0pt;text-align: left;"/><p class="s432" style="text-indent: 0pt;line-height: 14pt;text-align: left;">Peer <span class="s433">DID relationship</span></p><p class="s434" style="padding-top: 4pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Bob</p><p class="s435" style="padding-top: 10pt;padding-left: 37pt;text-indent: 5pt;line-height: 93%;text-align: left;">Peer<span class="s429">DID relationship</span></p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><span><img width="208" height="139" alt="image" src="Image_563.png"/></span></p><p class="s437" style="padding-left: 2pt;text-indent: 0pt;line-height: 35pt;text-align: left;"><span class="s436">◄</span>-<span class="s436">◄</span>---....i<span class="s438">►</span>it <span class="s438">• </span><span class="s429">Autonomic relationship</span></p><p class="s439" style="padding-left: 3pt;text-indent: 0pt;line-height: 12pt;text-align: left;">---•<span class="s429">DIDComm relationship</span></p><p class="s440" style="padding-top: 7pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">---•<span class="s429">Ledger write</span></p><p class="s441" style="padding-left: 4pt;text-indent: 0pt;text-align: left;">- - -----► <span class="s429">Ledger read</span></p><p class="s429" style="padding-top: 6pt;padding-left: 53pt;text-indent: 0pt;text-align: center;">Agents</p><p style="text-indent: 0pt;text-align: left;"/><p class="s60" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: center;">Figure 22-2. Agents in digital relationships</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Alice, Carol, and Bob share relationships with an autonomic identity architecture. Similarly, Alice has peer DID-based relationships with Attester, Bravo, and Certiphi. But the IAM systems that manage Alice’s accounts with these three organizations will be administrative. Finally, Attester is a credential issuer, Certiphi is a credential verifier, and Alice is a credential holder.</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;">So, each party is participating in one or more algorithmic identity systems.</p><p class="s55" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1333" class="s33">The identity ecosystem pictured in </a><a href="#bookmark1333" class="a">Figure 22-2</a> <span style=" color: #000;">is a form of networked organization with multiple participants in a governance patchwork. Each of the administrative identity systems is likely governed differently from all the others. The diagram shows only peer DID relationships, but it’s possible that some of these relationships are based on KERI-compliant autonomic identifiers. In this figure, with just one VDR, Alice, Attester, and Certiphi are participants in only one set of VDR governance policies. But Alice could have credentials on different VDRs and thus be subject to each, forcing verifiers like Certiphi to participate in them in turn if they want to accept credentials issued on those VDRs.</span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The range of governance models in the ecosystem and the plurality of stakeholders are realities in an identity metasystem. The stakeholders in a networked ecosystem are interdependent, and governance policies in the patchwork will necessarily influence others in the ecosystem. As they respond with their own changes, the ecosystem adjusts again. Actors in a network generally learn to trust each other through these interactions.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1337">Networked ecosystems are more likely to end up with stable governance relationships when all the participants have equal resources. That’s not usually going to be the case in identity metasystems, since some participants (like the VDR) will be in positions of relatively greater power. Fairness and stability in these situations will depend on the VDR’s choice of partners and on any public commitments to specific policies to inform those choices. Even so, this is a dangerous area and all participants, especially those designing governance policies for potentially powerful actors like a VDR, must pay attention to it.</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Governing Individual Identity Ecosystems</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1338">Consider your daily interactions that use a credential of some sort. Whether it’s a movie ticket, a loyalty card, a credit card, or a government ID like a driver’s license, each represents an identity ecosystem that was designed for a specific purpose. Some of those credentials have broad uses outside their intended purpose because of who the issuer is and the strength of the governance that underlies them.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark252" class="s33">The marketer at the grocery store chain who thinks up and designs a loyalty card, for example, may not think that they are building an identity ecosystem, but they are. Much of what you’ve learned in this book comes into play in creating a loyalty program or any other successful credential use case. In </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 7</span>, I distinguished between confidence and trust, with confidence being based on fidelity and trust being based on provenance. These concepts are useful for understanding the need for credential governance, which the following sections examine.</p><p class="s61" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Credential Fidelity and Confidence</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1339">The processes for issuing and presenting credentials impact people’s </a><i>confidence </i>in the result. These processes are controlled by decisions about architecture and standards that govern the operation of the VDR and agents. The following are all questions you can ask about the <i>fidelity </i>of a credential:</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_564.png"/></span></p><p style="padding-top: 8pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">How are this credential’s DIDs resolved? Put another way: Do I trust the DID method?</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_565.png"/></span></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 109%;text-align: left;">Do I have confidence that the resulting DID document is the one that the purported controller of the DID intends me to receive?</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_566.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">Has the definition for the credential been tampered with?</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_567.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_568.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_569.png"/></span></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 165%;text-align: left;">Has the schema referenced in the definition been tampered with? Can the verifier validate the credential has not been tampered with? Was the credential issued to the subject who is presenting it?</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_570.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_571.png"/></span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 165%;text-align: left;">Is the presentation made by a holder with whom the verifier has a relationship? Has the issuer revoked the credential?</p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The answers to these questions are all knowable based on the technology, architecture, algorithms, and protocols used to issue and present the credential. With the right choices for the VDR and proof methods for the credential, you can evaluate the technology stack and cryptographically verify the credential to gain confidence in its fidelity.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Credential Provenance and Trust</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1340">Determining the </a><i>provenance </i>of a credential and whether you can <i>trust </i>it is a more difficult problem than credential fidelity. Note that the list of questions in the previous section didn’t include <i>Is the DID controlled by the party that I think it is? </i>For example, if Alice presents a derived credential based on credentials she received from her university and employer, how can the verifier trust that the information actually comes from those institutions?</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Each credential includes an identifier for the issuer, usually a public DID. The verifier can resolve the DID and retrieve the DID document. The DID document will contain public keys and service endpoints. The verifier could use any or all of the following methods to determine the <i>provenance </i>of the issuer’s identifier and develop trust in it:</p><p class="s35" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Personal knowledge</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">The identifier might be known to the verifier through other interactions outside of the credential exchange. For instance, the verifier of Alice’s credential might have had other business with her university or employer. Verifiers (whether institutions or people) will build up personal address books containing the public identifiers of parties with whom they</p><p style="padding-top: 3pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">interact.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Out-of-band verification</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a href="https://oreil.ly/N9dCB" class="s33" target="_blank" name="bookmark1341">The verifier might be able to use the service endpoints in the DID document, along with a </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">well-known discovery scheme like the one described in RFC 5785</span><a href="#bookmark393" class="s33">, to check that the identifiers are claimed by an entity otherwise identified using PKI. For example, if the university’s DID document includes a web server protected using TLS, the digital certificate authenticating the domain will likely also identify that server’s owner. As you saw in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 9</span>, depending on the type of certificate, that <i>might </i>lead the verifier to believe that the identifier is associated with Alice’s university. They must evaluate, for their particular purpose, the level of proof they need and whether the certificate provides that proof.</p><p class="s35" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Web of trust</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a href="https://oreil.ly/-_xh9" class="s33" target="_blank">The issuer’s identifier could be introduced to the verifier by someone it trust, or who can be transitively associated with someone it trusts. This category is similar to the </a><a href="https://oreil.ly/-_xh9" class="a" target="_blank">web of trust</a><a href="https://oreil.ly/-_xh9" class="s36" target="_blank"> </a><a href="https://oreil.ly/-_xh9" class="a" target="_blank">model</a><a href="https://oreil.ly/-_xh9" class="s36" target="_blank"> </a>that Pretty Good Privacy (PGP) and other public-key cryptography systems use to establish the authenticity of the binding between an identifier and a public key. In this case, however, the verifier already has confidence in the binding to the public key. Instead, the verifier would be interested in the binding between the identifier and a domain or some other well-known public identifier for the issuer.</p><p class="s35" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Verifiable claims</p><p class="s59" style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a href="#bookmark1367" class="s33" name="bookmark1342">The identifier could be verified by reliance on other trustworthy claims in verifiable credentials (VCs) issued to the issuer. This is analogous to how banks use other documents that they can trust (like a driver’s license or passport) to establish the identity of a new account holder.</a><a href="#bookmark1367" class="s42">5</a> <span class="p">They trust those documents because they know the issuer.</span><a name="bookmark1343">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1344" class="s33">While personal knowledge, out-of-band verification, and webs of trust can all be used to develop trust in credential issuers, relying on VCs is the most scalable and automatable. </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 22-3</span> <a href="#bookmark970" class="s33">contains the familiar trust triangle of </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 15-3</span> <span style=" color: #000;">and illustrates how this works.</span></p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="593" height="782" alt="image" src="Image_572.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark1344">Figure 22-3. The credential exchange diamond</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: center;"><a href="#bookmark1344" class="s33">In </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 22-3</span>, I’ve left out the VDR for clarity and added a second credential exchange triangle on the bottom to create a diamond. In this example, Alice has a credential issued by Attester Org</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;"><a name="bookmark1345">and is presenting it to Certiphi Corp. Attester also has a credential issued by a </a><i>governance authority</i>. The governance authority has published a <i>governance framework</i>, a document that binds it to operating in a specific way and according to published policy and rules.<a name="bookmark1346">&zwnj;</a></p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">For example, if Attester is a US-based bank, the governance authority might be the Office of the Comptroller of the Currency (OCC), which charters, regulates, and supervises all national banks and federal savings associations in the US. Certiphi can know the public identifier of the OCC and access its governance framework. This allows them to trust the provenance of the credential Alice presents to them, because they know that it comes from a chartered bank.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/KmJ7t" class="s33" target="_blank">How does Certiphi come to trust the OCC? In the words of the old joke, it’s </a><a href="https://oreil.ly/KmJ7t" class="a" target="_blank">turtles all the way</a><a href="https://oreil.ly/KmJ7t" class="s36" target="_blank"> </a><a href="https://oreil.ly/KmJ7t" class="a" target="_blank">down</a>. The OCC will have credentials from the US Department of the Treasury. At some point, Certiphi will run into an organization that represents the final authority in a credential chain. In this example, the Department of the Treasury serves that function since its authority ultimately rests on the US Constitution, it is readily identifiable, and its authority to regulate financial institutions in the US is established in US law.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">As I mentioned earlier, organizational credentials are usually public and can thus be freely shared in a public directory. Organizations don’t usually need minimal disclosure for these kinds of credentials, so full credential presentation is appropriate for them. Attester could, for example, not only issue its own credential to Alice but also give her its credential from the OCC. Alice could use both in her credential presentation to prove the data Attester has claimed and that it comes from a chartered national bank.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark1347">Domain-Specific Trust Frameworks</a></p><p class="s55" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark252" class="s33" name="bookmark1348">Domain-specific trust frameworks (as discussed in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 7</span><a href="#bookmark1344" class="s33">) provide the means to help people and organizations answer trust questions. The governance framework in </a><a href="#bookmark1344" class="a">Figure 22-3</a> <span style=" color: #000;">is part of an overall trust framework provided by the governance authority.</span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">A governing authority does <i>not </i><a href="#bookmark1344" class="s33">need to be a government body. In fact, most will be private organizations. Anyone determining the rules, procedures, and technology for a given use of a VC is that credential’s governing authority. In the example I gave earlier about a loyalty card program, the company issuing the loyalty card is the credential’s governing authority. In addition to governance documents in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 22-3</span>, a trust framework for a given domain might include the technology, business processes, and legal agreements necessary to trust the claims in the credential. The decisions of this authority create the trust framework for a given domain.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">A trust framework can be ad hoc. For example, in the loyalty program, the grocery store issuing it might make most of its decisions without regard to how others will interact with the credential and thus never publish them. Only the grocery store needs to know how it is governed because no one else is relying on the loyalty card.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">But a trust framework for an identity ecosystem used by interacting partners must be more formal. This is as true for federated identity ecosystems as it is for a credential-based identity ecosystem. Designing a trust framework can seem daunting at first, but remember that there are many real-world examples. Governing and regulating bodies for banks, universities, sports</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1349">leagues, credit cards, and many other organizations have been doing this for decades, even centuries in some cases. What’s new is that digital capabilities provide many organizations with the technical means to easily create networks that might be useful to others using credentials, forming an ecosystem.</a></p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/miZF7" class="s33" target="_blank" name="bookmark1350">The </a><a href="https://oreil.ly/miZF7" class="a" target="_blank">Trust Over IP Foundation (ToIP)</a> <span style=" color: #000;">is a nonprofit subsidiary of the Linux Foundation that aims to help organizations understand, build, and deploy trust frameworks. ToIP promotes global standards that provide confidential, direct connections between parties. It does this by helping people and organizations understand and exploit opportunities for interoperable digital wallets and credentials. Among other activities, ToIP provides example processes, governing documents, and legal structures. If you find yourself designing an identity ecosystem, ToIP can help.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">The Legitimacy of Identity Ecosystems</p><p class="s55" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1024" class="s33" name="bookmark1351">I said in </a><a href="#bookmark1024" class="a">Chapter 16</a> <span style=" color: #000;">that an identity system’s legitimacy comes, in part, from the structure of its governance. After this discussion of governance, you are prepared to analyze the legitimacy of all the parts of an identity ecosystem.</span><a name="bookmark1352">&zwnj;</a></p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1349" class="a">Figure 22-4</a> <span style=" color: #000;">reproduces the SSI stack that I’ve discussed several times throughout the book. The identity metasystem that underlies each ecosystem depends on one or more VDRs, shown in Layer 1. Each VDR will be governed in the ways I discussed earlier for algorithmic identity systems, including the choice of standards and technologies that define its operation.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><table style="border-collapse:collapse;margin-left:123.972pt" cellspacing="0"><tr style="height:75pt"><td style="width:63pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s400" style="padding-top: 3pt;padding-left: 9pt;padding-right: 2pt;text-indent: -6pt;line-height: 93%;text-align: left;">Transaction endorser</p></td><td style="width:65pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s400" style="padding-top: 3pt;padding-left: 13pt;text-indent: -6pt;line-height: 90%;text-align: left;">Credential registry</p></td><td style="width:65pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:4pt"><p class="s400" style="padding-top: 3pt;padding-left: 10pt;text-indent: -6pt;line-height: 90%;text-align: left;">Governance authority</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s401" style="padding-left: 15pt;text-indent: 0pt;text-align: center;">.</p></td><td style="width:64pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:4pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:4pt"><p class="s400" style="padding-top: 2pt;padding-left: 13pt;text-indent: 0pt;text-align: left;">Auditor</p></td><td style="width:63pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:4pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s400" style="padding-top: 3pt;padding-left: 7pt;text-indent: 6pt;line-height: 93%;text-align: left;">Auditor accreditor</p></td></tr></table><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s402" style="text-indent: 0pt;text-align: left;">VDR VDR VDR VDR</p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><span><img width="452" height="132" alt="image" src="Image_573.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="595" height="440" alt="image" src="Image_574.png"/></span></p><p class="s403" style="text-indent: 0pt;line-height: 35pt;text-align: left;">(<span style=" color: #031F34;">11</span></p><p style="text-indent: 0pt;text-align: left;"/><p class="s405" style="padding-top: 2pt;padding-left: 6pt;text-indent: -6pt;line-height: 82%;text-align: left;">J<span class="s406"> </span><span class="s407">Veriff able credential</span></p><p style="text-indent: 0pt;text-align: left;"/><p class="s407" style="padding-left: 5pt;text-indent: 0pt;line-height: 29pt;text-align: left;">Credential <span class="s408">rA</span></p><p class="s407" style="text-indent: 0pt;line-height: 13pt;text-align: left;">presentation</p><p style="text-indent: 0pt;text-align: left;"/><p class="s251" style="text-indent: 0pt;line-height: 15pt;text-align: left;">issuer</p><p style="text-indent: 0pt;text-align: left;"/><p class="s407" style="text-indent: 0pt;line-height: 15pt;text-align: left;">Trust</p><p style="text-indent: 0pt;text-align: left;"/><p class="s409" style="text-indent: 0pt;line-height: 16pt;text-align: left;">Identity system</p><p style="text-indent: 0pt;text-align: left;"/><p class="s409" style="text-indent: 0pt;line-height: 91%;text-align: center;">Layer 4: Content-specific governance</p><p style="text-indent: 0pt;text-align: left;"/><p class="s409" style="text-indent: 0pt;line-height: 92%;text-align: center;">Layer 3: Credential exchange</p><p style="text-indent: 0pt;text-align: left;"/><p class="s407" style="text-indent: 0pt;line-height: 15pt;text-align: left;">Trust</p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><span><img width="595" height="325" alt="image" src="Image_575.png"/></span></p><p class="s409" style="text-indent: 0pt;line-height: 16pt;text-align: left;">Identity metasystem</p><p style="text-indent: 0pt;text-align: left;"/><p class="s409" style="text-indent: 0pt;line-height: 15pt;text-align: center;">Layer 2:</p><p class="s409" style="text-indent: 0pt;line-height: 92%;text-align: center;">DID-based agent-to-agent protocols</p><p style="text-indent: 0pt;text-align: left;"/><p class="s251" style="text-indent: 0pt;line-height: 15pt;text-align: left;">Agent</p><p style="text-indent: 0pt;text-align: left;"/><p class="s410" style="text-indent: 0pt;line-height: 15pt;text-align: left;">          P2P connection       </p><p style="text-indent: 0pt;text-align: left;"/><p class="s402" style="text-indent: 0pt;text-align: left;">DIDs</p><p style="text-indent: 0pt;text-align: left;"/><p class="s402" style="text-indent: 0pt;text-align: left;">DIDs</p><p style="text-indent: 0pt;text-align: left;"/><p class="s402" style="text-indent: 0pt;text-align: left;">DIDs</p><p style="text-indent: 0pt;text-align: left;"/><p class="s402" style="text-indent: 0pt;text-align: left;">DIDs</p><p style="text-indent: 0pt;text-align: left;"/><p class="s409" style="padding-left: 10pt;text-indent: 0pt;line-height: 92%;text-align: center;">Layer 1: Verifiable data registry</p><p class="s407" style="padding-top: 13pt;text-indent: 0pt;text-align: left;">Conffdence</p><p style="text-indent: 0pt;text-align: left;"/><h1 style="text-indent: 0pt;line-height: 80pt;text-align: left;">wwww</h1><p style="text-indent: 0pt;text-align: left;"/><p class="s60" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: center;">Figure 22-4. SSI stack</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The peer-to-peer connections in Layer 2 are governed through the standards and implementation code of the autonomic identifiers on which they depend. Even though there may not be any overt governance other than the standard documents defining the operation, the choices developers and people make about agent implementations provide networked governance for this layer. The technical choices and governance of Layers 1 and 2 inspire confidence in the metasystem, leading ecosystem architects to recognize its legitimacy and use it.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark291" class="s33">Each identity ecosystem will define credentials and schema, choose credential presentation models, and, possibly, provide governance frameworks for the interactions that take place within the ecosystem. Each organizational participant will usually have policies that govern how they act. Individuals will not usually have formal policy documents but will have a collection of agreements they have made and records of what they have consented to. Their participation may be regulated by the governance framework of the ecosystem, the regulations and laws of their specific government jurisdiction, and their personal value system. In addition, as you learned in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 8</span>, their participation may place obligations on other actors in the ecosystem through laws like GDPR and CCPA.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark131" class="s33" name="bookmark1353">The explicit and implicit technical choices of an ecosystem, including choices of metasystem,  and governance are designed to inspire trust in the authenticity of the actors in that ecosystem  and the authenticity of the data they share. These choices directly impact the legitimacy of the ecosystem and thus its adoption. Even if people are unaware of the Laws of Identity (introduced in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 4</span>), I believe that the degree to which identity ecosystems respect and follow these laws affects whether or not an ecosystem enjoys legitimacy. For example, given a choice, people and many organizations will opt for systems that respect privacy through <i>minimal disclosure</i>, including only <i>justifiable parties, </i>and using <i>directed identity</i>. Similarly, the interoperability required by the law of <i>pluralism of operators and technologies </i>will drive network effects that grow ecosystems that offer it. And, as I’ve discussed many times in the book, the laws of <i>user control and consent</i>, <i>human integration</i>, and <i>consistent user experience across contexts </i>engender identity ecosystems that support respect for autonomy and human dignity and in which people can live effective online lives.<a name="bookmark1354">&zwnj;</a><a name="bookmark1355">&zwnj;</a><a name="bookmark1356">&zwnj;</a><a name="bookmark1357">&zwnj;</a><a name="bookmark1358">&zwnj;</a><a name="bookmark1359">&zwnj;</a><a name="bookmark1360">&zwnj;</a><a name="bookmark1361">&zwnj;</a><a name="bookmark1362">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Some identity ecosystems are inconsequential, and thus people make few demands concerning their legitimacy. Other ecosystems are significant, with regional, national, and international impact. Some, like national identity cards, passports, and driver’s licenses, are obvious. Others, like the trust models underlying things like the financial system and university transcripts, are less well understood and appreciated. Combining the technology underlying the identity metasystem with governance models appropriate for digital identity ecosystems provides solutions for moving these vastly important ecosystems (and others) firmly into the digital realm.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="624" height="1" alt="image" src="Image_576.png"/></span></p><ol id="l44"><li><p class="s45" style="padding-top: 5pt;padding-left: 32pt;text-indent: -11pt;text-align: left;"><a name="bookmark1363">Mark Bevir, </a><i>Governance: A Very Short Introduction </i>(Oxford: University of Oxford Press, 2012).</p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark1364">TLS has suffered from all of these at one time or another. For example, Heartbleed was a bug in the OpenSSL code base that introduced a security hole in millions of servers around the web. TLS 1.0 protocol was found to be vulnerable to man- in-the-middle attacks. TLS 1.2 does not have that vulnerability and has been formally verified to provide greater assurance</a></p><p class="s45" style="padding-top: 3pt;padding-left: 27pt;text-indent: 0pt;text-align: left;">about its design.</p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;line-height: 108%;text-align: left;"><a href="https://oreil.ly/KcIGx" class="s68" target="_blank" name="bookmark1365">For example,</a><a href="https://oreil.ly/KcIGx" class="s46" target="_blank"> </a><a href="https://oreil.ly/KcIGx" class="s47" target="_blank">RFC 5785</a> specifies a path, <span class="s76">~/.well-known/</span>, that can be used in URIs as an aid for discovering well- known information.</p></li><li><p class="s45" style="padding-top: 5pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark1366">Gerard Briscoe and Philippe De Wilde, “Digital Ecosystems: Evolving Service-Oriented Architectures” (Conference on Bio-Inspired Models of Network, Information and Computing Systems, IEEE, 2006).</a></p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark1367">In the case of banks, this process is highly regulated by Anti-Money-Laundering laws and goes by the moniker Know Your Customer (KYC).</a></p></li></ol><p class="s21" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark1368">Chapter 23. Generative Identity</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="624" height="1" alt="image" src="Image_577.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1369">Each semester, I challenge my students to “build the world you want to live in.” I believe that as technologists we have a duty to create systems that respect people, give them better lives, and help them realize their dreams. The designers, architects, product managers, and developers of identity systems make choices each day that impact the lives of the people who use them.</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;">Sometimes that impact is trivial or mundane, but often it is not.</p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1370">As I said at the close of the last chapter, I take an optimistic view that people will choose systems that respect the Laws of Identity, and that the network effects of interoperable ecosystems will ensure their growth beyond those of systems that do not. But current implementations of digital identity have their dangers, especially when it comes to enabling a surveillance economy that commands enormous resources and reaps tremendous profits. The result is that technical systems have encroached on our private lives and administer the means by which we interact with each other. We cannot dismiss this as we contemplate what kinds of identity systems we should build.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Throughout this book, I’ve been asking you to consider how an identity metasystem that conforms to the Laws of Identity could overcome the problems of identity. Having read this far, you have learned a great deal about the philosophies, architectures, protocols, technologies, and social context comprising modern notions of digital identity. If you’ve learned only one thing, I hope it’s that identity is more complex and nuanced than people usually give it credit for. This misunderstanding of identity’s subtleties sits at the heart of many of the security, privacy, and autonomy problems that people experience online.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">This chapter closes the book by describing two identity metasystems, one that exists today and another that is emerging. I introduce the concept of generativity and use it to explore the properties of self-sovereign systems that make them generative and the consequence of that for our digital future.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">A Tale of Two Metasystems</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The identity technologies you’ve learned about give rise to two different views of how the metasystem can be architected. I call these the Social Login (SL) Metasystem and the Self- Sovereign Identity (SSI) Metasystem.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">The Social Login Metasystem</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1371">First, let’s look at the system in place now. The SL Metasystem is composed of the various “Log in with…” identity systems that large companies like Facebook, Google, Apple, Twitter, and Amazon support. SL rests on a foundation created using the OAuth and OpenID Connect (OIDC) protocols and uses an administrative architecture. Of course, the large companies aren’t the only ones that support authentication in the SL Metasystem, but they have the largest number</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">of accounts and thus are attractive to organizations looking to outsource their authentication.</p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1372"><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 23-1</span></a> shows the relationships in the SL Metasystem. Alice has an account at Attester, the <i>identity provider </i>(IdP), which offers SL services. She also has accounts with Bravo and Certiphi, which have relationships with Attester. The relationship between Alice and Attester was likely created for some purpose other than providing authentication services; that is, Attester provides authentication as a sideline, not as its primary business. The relationships that Bravo and Certiphi have with Attester are not negotiated but based on a set of terms and conditions to which Attester requires all their partners agree. In the SL Metasystem, Attester is the center of attention, since everyone has a relationship with it and depends on it.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="593" height="572" alt="image" src="Image_578.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark1373">Figure 23-1. Relationships in the SL Metasystem</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark131" class="s33" name="bookmark1374">The SL Metasystem stacks up pretty well when we evaluate it against the Laws of Identity. (If you need a refresher on the Laws, see </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 4</span>.) Let’s take a look:<a name="bookmark1375">&zwnj;</a></p><p class="s35" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">User control and consent</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Alice chooses “Login with Attester” on Bravo and Certiphi’s websites or in their apps, so she’s in control of the authentication choice and is implicitly consenting to those relying parties (RPs) using Attester. Bravo and Certiphi likely support more than one IdP, to ensure broad coverage for the largest possible number of accounts, providing Alice with a choice, albeit limited by their decisions.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Minimal disclosure for a constrained use</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a href="#bookmark765" class="s33">If authentication is the primary use, then the information disclosures are small but important: Bravo and Certiphi know that Alice uses Attester and Attester knows that Alice uses Bravo and Certiphi. Whether that use is constrained or not depends on the terms and conditions Alice agrees to (if she even reads them). If their use involves access to other data about Alice at Attester, then the scopes of these terms and conditions (see </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 13</span>) clearly indicate to Alice what’s being shared with Bravo and Certiphi.</p><p class="s35" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Justifiable parties</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">You could argue that Attester is a justifiable party, since its authentication service is needed to complete the transaction. You might consider the fact that Alice and Bravo have consented to this arrangement as evidence that they see Attester as a justifiable party. But Attester, from its central position, doesn’t <i>just </i>see that Alice is logging into Bravo; it also knows about everyone else who logs into Bravo using its login service, as well as all the other sites Alice logs into using its service. In addition, Bravo learns something about Alice it doesn’t necessarily need to know: that she has an account at Attester.</p><p class="s35" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Directed identity</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">SL uses omnidirectional (what I’ve called <i>public</i>) identifiers almost exclusively. Attester can correlate Alice’s activity across the web because the relationships she’s creating are not based on unidirectional, or peer, identifiers.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Pluralism of operators and technologies</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a href="#bookmark945" class="s33">Using an underlying protocol like OIDC allows SL to be used on the web, in apps, and in other browsers or browser-like interactions. But OIDC has traditionally been limited in the kinds of data it can transport. Recent innovations to transport credentials over OIDC fix this, as you learned in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 15</span>.</p><p class="s35" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark1377">Human integration</a></p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Because of how OAuth and OIDC are designed, Bravo and Certiphi can leverage Attester’s authentication service by redirecting through Alice’s browser. She’s integrated with the flow by construction and is a necessary part of the interaction.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Consistent experience across contexts</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">The redirection experience from one website to another, or from inside an app to another website, can feel a little clunky, but it <i>is </i>consistent. Once Alice is familiar with the process, she can follow what’s happening and know that she’s logging into Attester, a site she trusts. If she uses more than one IdP, her interactions with those different IdPs may differ quite a bit. For example, one may use FIDO while another uses passwords with SMS-based MFA. The user experience with authentication can be rather inconsistent, but that’s more a problem the SL Metasystem inherits from the web on which it relies.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1376">The SL Metasystem’s two biggest problems with the justifiable parties and directed identity laws may seem small, but they limit how and where SL is used.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Because its architecture is largely administrative, SL doesn’t easily support peer relationships between people. It has thus been limited to transactional relationships with organizations. People have no specific tools for interacting other than the IdPs’ various websites, which don’t support anything other than authentication with partner web services and apps. Thus, SL has <i>not embodied people or given them autonomy</i>. The very name of Attester’s role, <i>identity provider</i>, speaks to the fact that Alice is not the source of her own identity in the SL Metasystem.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Despite recent work to provide ways of transporting richer, more authentic data over OIDC using verifiable credentials (VCs), SL’s use has been largely limited to authentication. That’s an important part of digital identity, but it isn’t enough on its own to support rich relationships.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Because the architecture of SL puts the IdP in the middle, SL has been unable to gain acceptance in some industries, like banking, where organizations are unwilling to give up their primacy in the relationship with their customers.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Finally, some people, like me, prefer to use the RP’s authentication system over SL because of concerns about privacy. The primary benefit of SL—fewer passwords to remember—isn’t as important when you’re using a good password manager, but the threat of surveillance is all too real.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Even with these limitations, there’s no denying that the SL Metasystem is a huge success that is providing significant utility to companies and people alike. Next, let’s examine the SSI Metasystem.</p><p class="s61" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">The Self-Sovereign Identity Metasystem</p><p class="s55" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1160" class="s33" name="bookmark1378">The SSI Metasystem is based on cryptographic identifiers and VCs and uses a hybrid of administrative, algorithmic, and autonomic architectures. (The discussion of operationalizing digital relationships in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 19</span> <span style=" color: #000;">exemplifies this metasystem.)</span></p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 23-2</span> <span style=" color: #000;">shows the relationships in the SSI Metasystem. Alice has relationships with Attester, Bravo, and Certiphi. Attester has issued Alice a credential that she can present to Bravo and Certiphi as her needs dictate. In the SSI Metasystem, Alice is at the center.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="592" height="390" alt="image" src="Image_579.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark1379">Figure 23-2. Relationships in the SSI Metasystem</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark1380">The SSI Metasystem conforms well to the Laws of Identity:</a></p><p class="s35" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">User control and consent</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a name="bookmark1381">Alice is choosing with whom she has relationships, what credentials she holds, and what data she shares from her credentials to others.</a></p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Minimal disclosure for a constrained use</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Alice can make derived credential presentations, disclosing only the data necessary for a given request. Her consent to the disclosure is implied by that sharing.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Justifiable parties</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">If Alice shares data from her credential with Certiphi, Attester will not know what she shared</p><p style="padding-top: 3pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">or with whom she shared it.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Directed identity</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">SSI, as you’ve learned, uses both public and peer identifiers in different contexts, limiting the ability of the parties to the transactions (or anyone else) to correlate Alice’s activities.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Pluralism of operators and technologies</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Autonomic identifiers can support both ephemeral and long-term relationships. VCs are a flexible and trustworthy method of sharing data. DIDComm, as an encapsulating protocol, allows any workflow to be defined as its own protocol on top of the messaging platform through smart agents. The combination of these three capabilities ensures that the SSI Metasystem can be used in an incredibly diverse range of applications.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Human integration</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">The smart agent that sits at the heart of the SSI Metasystem and provides all players with tools for operationalizing their online relationships ensures that people are integrated with the system in ways that give them full control over their relationships.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Consistent experience across contexts</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Regardless of application, the underlying experience in the SSI Metasystem is one of managing relationships and credentials. Both are familiar experiences to most people and can be used in a variety of contexts.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark131" class="s33" name="bookmark1382">Because it conforms so well to the Laws of Identity, the SSI Metasystem more closely aligns with the ideal metasystem Cameron defined (see </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 4</span>). The flexible nature of the SSI Metasystem’s architecture allows decentralized players to define, build, and deploy identity systems that match their needs. This is called <i>generativity</i>.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Generativity</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="https://oreil.ly/4N9r6" class="s33" target="_blank" name="bookmark1383">In 2006, Jonathan Zittrain </a><a href="https://oreil.ly/4N9r6" class="a" target="_blank">wrote a compelling and prescient examination of the generative</a><a href="https://oreil.ly/4N9r6" class="s36" target="_blank"> </a><a href="#bookmark1401" class="a">capacity of the internet</a><a href="#bookmark1401" class="s42">1</a><a href="https://oreil.ly/4N9r6" class="s43" target="_blank"> </a>and its billions of attached personal computers, tablets, and smartphones. He defines <i>generativity </i>as “a technology’s overall capacity to produce unprompted change driven by large, varied, and uncoordinated audiences,” adding, “Generativity is a function of a technology’s capacity for leverage across a range of tasks, adaptability to a range of different tasks, ease of mastery, and accessibility.”<a name="bookmark1384">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Zittrain masterfully describes the extreme generativity of the internet and its attached computers,</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">explains why the openness of both the network and the attached computers is so important, discusses threats to the generative nature of the internet, and proposes ways that the internet can remain generative while addressing some of those threats. I recommend you take some time to explore Zittrain’s paper in detail, since its applications are broader than just identity systems.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1385">Generative systems use a few basic rules, structures, and features to yield behaviors that can be extremely varied and unpredictable. Zittrain lays out four important criteria for evaluating the generativity of a technology:</a></p><p class="s35" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Capacity for leverage</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">Generative technology makes difficult jobs easier—and sometimes even possible. <i>Leverage</i></p><p style="padding-top: 6pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">is measured by the capacity of a device to reduce effort.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Adaptability</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Generative technology can be applied to a wide variety of uses with little or no modification. Where leverage speaks to a technology’s depth, <i>adaptability </i>speaks to its breadth. Many useful devices, such as airplanes, saws, and pencils, have good leverage but are nevertheless narrow in their scope and application.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Ease of mastery</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Generative technology is easy to adopt and adapt to new uses. Many billions of people use a PC, tablet, or smartphone to perform tasks important to them without understanding the details about how they work. As they become more proficient at using a technology, they can apply that learning to an even wider variety of tasks.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Accessibility</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Generative technology is easy to come by and to access. Access is a function of cost, deployment, regulation, monopoly power, secrecy, and anything else that introduces artificial scarcity.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">I will use Zittrain’s framework, outlined above, to explore the generativity of two layers in the SSI Metasystem: the secure overlay network formed by DIDComm, in Layer 2, and the credential exchange that happens in Layer 3.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">The Self-Sovereign Internet</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1386">Generativity provides decentralized actors the means to create cooperating, complex structures and behavior. No one person or group can or will think of all of its possible uses, but each is free to adapt the system to their own use. The architecture of the self-sovereign internet exhibits</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">several important properties on which its generativity depends. The true value of the self- sovereign internet is that it provides a leveragable, adaptable, usable, accessible, and stable platform upon which others can innovate.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1160" class="s33">The network of relationships created by the exchange of decentralized identifiers (DIDs; Layer 2 in SSI stack) forms a new, more secure layer on the internet (see </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 19</span>). Moreover, the protocological properties of DIDComm make that layer especially useful and flexible, mirroring the internet itself.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1387">This kind of “layer” is called an overlay network. An </a><i>overlay network </i>comprises virtual links that correspond to a path in the underlying network. Secure overlay networks rely on an identity layer based on asymmetric-key cryptography to ensure message integrity, nonrepudiation, and confidentiality. TLS (HTTPS) is a secure overlay, but it is incomplete because it’s not symmetrical. Furthermore, it’s relatively inflexible, because it overlays a network layer that uses a client-server protocol rather than a peer-to-peer protocol.</p><p class="s55" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;"><a name="bookmark1388"><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 23-3</span></a> <a href="https://oreil.ly/hoRmK" class="s33" target="_blank">illustrates an overlay network of messaging nodes (smart agents) riding atop the routing infrastructure of the internet itself. In </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">“Key Event Receipt Infrastructure (KERI)”</span><a href="#bookmark1402" class="s33">,</a><a href="#bookmark1402" class="s42">2</a><span class="s59"> </span><span style=" color: #000;">Sam Smith makes an important point about secure overlay networks:</span><a name="bookmark1389">&zwnj;</a></p><p class="s35" style="padding-top: 9pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">The important essential feature of an identity system security overlay is that it binds together controllers, identifiers, and key-pairs. A sender controller is exclusively bound to the public key of a (public, private) key-pair. The public key is exclusively bound to the unique identifier. The sender controller is also exclusively bound to the unique identifier. The strength of such an identity system-based security overlay is derived from the security supporting these bindings.</p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="594" height="614" alt="image" src="Image_580.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark1390">Figure 23-3. The self-sovereign internet as an overlay on the existing internet</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Figure 23-4</span> <a href="#bookmark1024" class="s33">(reproduced from </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 16</span><span style=" color: #000;">) shows the critical bindings between the three components of the secure overlay that Smith mentions.</span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The important point here, from the standpoint of generativity, is that the peer-to-peer network created by peer DID exchanges constitutes an overlay with an autonomic architecture, providing the strongest possible bindings between the controller, identifiers, and authentication factors (public-private keys). In addition, this network doesn’t need an external trust basis (like a VDR) because autonomic identifiers are self-certifying.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">DIDs allow us to create cryptographic relationships, solving significant key management problems that have plagued asymmetric cryptography since its inception. Consequently, a regular person can now use a general-purpose secure overlay network based on DIDs and smart</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;"><a href="#bookmark1160" class="s33">agents. As you learned in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 19</span>, the DID network that is created when people use these relationships provides a protocol, DIDComm, that is every bit as flexible and useful as TCP/IP.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="593" height="510" alt="image" src="Image_581.jpg"/></span></p><p class="s60" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark1391">Figure 23-4. Binding of controller, authentication factors, and identifiers in identity systems</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1392">Because DIDComm provides the same features as TCP/IP does, communications over a DIDComm-enabled peer-to-peer network are as generative as the internet itself. Thus, the secure overlay network formed by DIDComm connections represents a </a><i>self-sovereign internet</i><a href="#bookmark1403" class="s33">, emulating the underlying internet’s peer-to-peer messaging in a way that is both secure and credible, without the need for external third parties.</a><a href="#bookmark1403" class="s42">3</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-top: 4pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Properties of the Self-Sovereign Internet</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_582.png"/></span></p><p style="padding-top: 6pt;padding-left: 29pt;text-indent: -24pt;line-height: 174%;text-align: left;"><a href="https://oreil.ly/Q8KTK" class="s33" target="_blank">In </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">“World of Ends”</span>, Doc Searls and Dave Weinberger enumerate the internet’s three virtues: No one owns it.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_583.png"/></span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 13pt;text-align: left;">Everyone can use it.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="6" alt="image" src="Image_584.png"/></span></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">Anyone can improve it.</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">These virtues apply to the self-sovereign internet as well. As a result, the self-sovereign internet displays important properties that support its generativity. Here are the most important:</p><p class="s35" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Decentralized</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Decentralization follows directly from the fact that “no one owns it.” This is the primary criterion for judging the degree of decentralization in a system.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Heterarchical</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a href="#bookmark32" class="s33">In </a><a href="#bookmark32" class="a">Chapter 2</a> you learned that a <i>heterarchy </i>is an organization where the nodes are unranked (nonhierarchical). This is colloquially called a <i>peer-to-peer organization</i>. Nodes in a DIDComm-based self-sovereign internet relate to each other as peers. This is a heterarchy because there is no inherent ranking of nodes in the architecture of the system.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Interoperable</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a href="#bookmark1404" class="s33" name="bookmark1393">Regardless of what providers or systems you use to connect to the self-sovereign internet, you can interact with anyone else who is using it, so long as they follow its protocols.</a><a href="#bookmark1404" class="s42">4</a></p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Substitutable</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Substitutability is an outgrowth of interoperability. The DIDComm protocol defines how systems that use it must behave to achieve interoperability. Thus, anyone who understands the protocol can write software that uses DIDComm. This ensures that people can choose from different software, hardware, and service offerings without fear of being locked into a proprietary system. Usable substitutes provide choice and freedom.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Reliable and censorship resistant</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">People, businesses, and others must be able to use the self-sovereign internet without worrying that it will go down, stop working, go up in price, or get taken over by someone who would do harm to it and those who use it. This is larger than mere technical trust that a system will be available; it extends to the issue of censorship.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Nonproprietary and open</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">No one has the power to change the self-sovereign internet by fiat. Nor can it suddenly go out of business and stop operating, since its maintenance and operation are distributed, not centralized in the hands of a single organization. Because the self-sovereign internet is an <i>agreement </i>rather than a technology or system, it will continue to work so long as there are enough people who want it to work.</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The next section analyzes how these properties combine to create a secure network overlay that is as generative as the internet it relies upon.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">The Generativity of the Self-Sovereign Internet</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Applying Zittrain’s framework for evaluating generativity is useful for analyzing the generative properties of the self-sovereign internet.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s104" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Capacity for leverage</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">In Zittrain’s words, leverage is the extent to which an object “enables valuable accomplishments that otherwise would be either impossible or not worth the effort to achieve.” Leverage multiplies effort, reducing the time and cost necessary to innovate new capabilities and features. Like the internet, DIDComm’s extensibility through protocols enables the creation of special- purpose networks and data distribution services on top of it. By providing a secure, stable, trustworthy platform for these services, DIDComm-based secure overlay networks reduce the effort and cost associated with these innovations.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;">Like a modern operating system’s API, DIDComm provides a standardized platform supporting message integrity, nonrepudiation, and confidentiality. Programmers get the benefits of a trusted message system without need for the expensive and difficult development work needed to create it.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s104" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Adaptability</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Adaptability can refer to a technology’s utility for multiple activities without change, as well as its capacity for modification in service of new use cases. Adaptability is orthogonal to capacity for leverage. An airplane, for example, offers incredible leverage, transporting goods and people over long distances quickly. But airplanes are neither useful in activities outside transportation nor easily modified for different uses. A technology that supports hundreds of use cases is more generative than one that is useful in only a few.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1160" class="s33">Like TCP/IP, DIDComm makes few assumptions about how the secure messaging layer will be used. Consequently, the network formed by the nodes in a DIDComm network can be adapted to any number of applications (as you learned in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 19</span>). Moreover, because a DIDComm- based network is decentralized and self-certifying, it is inherently scalable for many uses.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s104" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Ease of use</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Ease of use <span class="p">refers to how readily, easily, and broadly a technology can be adapted and adopted. Having a secure, trustworthy platform supporting the self-sovereign internet allows developers to create applications without worrying about the intricacies of the platform’s underlying cryptography or key management.</span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;">At the same time, because of its standard interface and protocol, DIDComm-based networks can present people with a consistent user experience that reduces the skill they need to establish and use connections. Just like a browser presents a consistent user experience on the web, a</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">DIDComm-based smart agent can present people with a consistent user experience for basic messaging, as well as specialized operations that run over the basic messaging system.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark875" class="s33">Of special note is key management, which has been the Achilles’ heel of previous attempts at secure overlay networks for the internet. As you learned in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 14</span>, DIDs reference their associated public keys indirectly, so that the keys can be rotated, when necessary, without also needing to refresh the identifier. This greatly reduces the need for people to manage or even see keys. People focus on the relationships, and the underlying software manages the keys for them.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s104" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Accessibility</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1394">Accessible technologies are easy to acquire, inexpensive, and resistant to censorship. DIDComm’s accessibility is a product of its decentralized and self-certifying nature. Peer DIDs are free to create, requiring only a little computation on devices that people already own. Their protocols and implementing software are freely available to anyone, without intellectual property encumbrances. Multiple vendors, and even open source tools, can easily use DIDComm. You don’t need any central gatekeeper or other third party to initiate a DIDComm connection and form a digital relationship. Moreover, not requiring specific third parties makes censorship more difficult.</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Generative Identity</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1395">One of the key features of the self-sovereign internet is that it is protocological—its messaging layer supports the implementation of protocol-mediated interchanges on top of it. This extensibility underpins its generativity. Two of the most important protocols defined on top of the self-sovereign internet support the exchange of VCs. Together, these protocols work on top of the self-sovereign internet to give rise to a global identity metasystem that provides generative identity.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1160" class="s33">The preceding chapters have given you a deep understanding of how credential exchange works, the support DIDs and DIDComm provide for credential exchange, and its nature and properties. There’s no need to repeat that here, but if you need a refresher, review the “Operationalizing Digital Relationships” section of </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 19</span>.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark945" class="s33">The properties of credential exchange (enumerated in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 15</span><a href="#bookmark1059" class="s33">) underlie several important characteristics that support its generativity. Credential exchange also inherits important characteristics from the SSI Metasystem: it is decentralized, open, permissionless, inclusive, agentic, flexible, and universal (see </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 17</span>). Several other characteristics deserve mention because of the ways credential exchange supports them. Credential exchange is:</p><p class="s35" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Private</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">Privacy by design is baked deep into the architecture of the SSI Metasystem. This is reflected by several of its fundamental architectural choices, including using peer DIDs that can’t be correlated, using derived credential presentations for minimal disclosure, and isolating the</p><p style="padding-top: 3pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">verifier from the issuer.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Interoperable</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;">VCs have a standard format, readily accessible schemas, and standardized protocols for issuance, presentation, and verification. Credential exchange isn’t a single, centralized system from a single vendor with limited pieces and parts. Rather, interoperability relies on interchangeable parts, built and operated by various parties.</p><p class="s35" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Reliable and censorship resistant</p><p style="padding-top: 9pt;padding-left: 23pt;text-indent: 0pt;line-height: 143%;text-align: left;"><a href="#bookmark1316" class="s33">Resisting censorship is part technical and part governance. People, businesses, and others must be able to exchange credentials without worrying that the infrastructure will be unavailable. Substitutable tools and credentials, combined with autonomy, make the system resistant to censorship. The biggest threat of censorship lies in the VDR, which allows verifiers to ensure the fidelity of the credential presentation. Governance, as you learned in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 22</span>, is a key factor in supporting VDRs that resist censorship.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: justify;">Because of these properties, credential exchange can be used to build millions of different identity systems matching many specific contexts and use cases. The next two subsections analyze the generativity of credential exchange and its role in generative identity.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: justify;">The Generativity of Credential Exchange</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1396">To better understand the generative properties of the SSI Metasystem, it’s instructive to apply Zittrain’s framework for evaluating generativity to credential exchange. This section spends some time on each of his four criteria.</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s104" style="padding-left: 5pt;text-indent: 0pt;text-align: justify;">Capacity for leverage</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Traditional identity systems have been anemic, supporting simple relationships focused on authentication and a few basic attributes their administrators need. They can’t easily be leveraged by anyone but their owners. Federation through SAML or OIDC in the SL Metasystem has allowed users to leverage the IdP’s authentication expertise in a standard way, but authentication is just a small portion of the overall utility of a digital relationship.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1059" class="s33">Credential exchange’s capacity for leverage could be the foundation for a system that disintermediates platform companies like Uber, Airbnb, and Grubhub, as I discussed in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 17</span>. Because platform companies build proprietary trust frameworks to mediate transactions between parties, they can charge exorbitant rents for what ought to be a natural</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">interaction among peers. Credential exchange can open up these trust frameworks, creating open marketplaces for services.</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark945" class="s33">Credential exchange on the SSI Metasystem supports all of the use cases I described in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 15</span>, with minimal development work on the part of issuers, verifiers, and holders. And</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">because the underlying system is interoperable, an investment in the tools necessary to solve one identity problem with credentials can be leveraged by many others without new investment. The cost to define a credential is very low (usually less than $100), and once the definition is in place, there is no cost to issue credentials against it. A small investment can allow an organization to issue millions of credentials of different types for different use cases.</p><p class="s104" style="padding-top: 11pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Adaptability</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Identity systems based on credential exchange provide people with the tools for acting online as peers, for managing their relationships and interacting through them—in short, for operationalizing their online relationships. In addition, credential exchange allows for ad hoc interactions that were not or cannot be imagined <i>a priori</i>.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The wide variety of credential use cases I’ve discussed speaks to the flexibility of credentials. Every bundle of data transmitted in a workflow is a potential credential. Since credentials are just trustworthy containers for data, there are many more use cases that might not typically be thought of as credentials.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The information needed by the participants in any given relationship varies widely with context. Credential exchange protocols must be adaptable enough to support many different situations, including context-dependent, ad hoc situations.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s104" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Ease of use</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">One of the core features of credential exchange on the SSI Metasystem is that it supports the myriad use cases I’ve discussed <i>without </i>requiring new applications or user experiences for each one. The smart agent at the heart of credential exchange activities on the self-sovereign internet supports two primary artifacts, along with the user experiences to manage them: relationships (via DID-based connections) and credentials. Even though multiple vendors provide smart agents, the underlying protocol informs a common user experience (much as a web browser does). Consistent user experiences let people know what to expect, so they can intuitively understand how to interact in any given situation regardless of context.</p><p class="s104" style="padding-top: 11pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Accessibility</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Because it is open, standardized, and supported by multiple vendors, credential exchange is easily available to anyone with access to a computer (or other device with an internet connection). But its use shouldn’t be limited to individuals who have digital access and legal capacity. Ensuring that technical and legal architectures for credential exchange support guardianship and use on borrowed hardware can ensure SSI is accessible by almost everyone in the world.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Self-Sovereign Identity and Generativity</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="https://oreil.ly/hXtDb" class="s33" target="_blank" name="bookmark1397">In a 2020 blog post called &quot;</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">What Is SSI?”</span>, I made the claim that SSI requires DIDs, credential</p><p class="s59" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark1405" class="s33" name="bookmark1398">exchange, and autonomy for participants. Dick Hardt,</a><a href="#bookmark1405" class="s42">5</a> <span class="p">CEO of Hellō, pushed back on that a bit and asked me if DIDs were really necessary. We had several fun discussions on that topic.</span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a href="#bookmark945" class="s33" name="bookmark1399">As I thought about Dick’s comments, I realized that the issue isn’t DIDs and VCs—those are implementation choices. The important thing is their properties. For example, OpenID4VC and SIOP (discussed in </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Chapter 15</span><a href="#bookmark1406" class="s33">) might be used to form an SSI Metasystem with the same properties as one built on DIDs.</a><a href="#bookmark1406" class="s42">6</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">I also realized that administrative identity systems <i>can’t </i>provide generative identity. Self- sovereign identity is generative not only because of the credential exchange protocols but also because of the properties of the self-sovereign internet, upon which credential exchange protocols are defined and operate. Without the self-sovereign internet, enabled through DIDComm, you might implement something that exchanges credentials like SSI, but it wouldn’t provide the leverage and adaptability necessary to create a generative ecosystem or the network effects to propel it to ubiquity.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The approach to digital identity that is common on the internet has put us in a difficult position: people’s privacy and security are threatened by the administrative identity architecture being imposed on them. Moreover, limiting its scope to authentication and a few unauthenticated attributes, repeated across thousands of websites with little interoperability, has created confusion, frustration, and needless expense. None of the identity systems in common use today offers support for the kind of ad hoc attribute sharing that happens every day in the physical world. The result has been anything but generative. Entities that rely on attributes from several parties must perform custom integrations with the APIs for each of them. This is slow, complex, and costly, so it typically happens only for high-value applications.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">An identity metasystem that supports protocol-mediated credential exchange, running on top of the self-sovereign internet, solves these problems and promises generative identity for everyone. By starting with people and their innate autonomy, generative identity supports online activities that are lifelike and natural. Generative identity allows us to live digital lives with dignity and effectiveness, contemplates and addresses the problems of social inclusion, and supports economic access for people around the globe.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Our Digital Future</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><a name="bookmark1400">I opened this chapter with a discussion of two metasystems, the SL Metasystem and the SSI Metasystem. The SL Metasystem, which represents business as usual on the internet, has provided significant utility and made Web 2.0 possible. But it has come at a cost.</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">In the book <i>Age of Surveillance Capitalism</i>, Shoshana Zuboff asks: “Can the digital future be our home?” The answer comes down to who will determine and control the experiences available to us. Will our experiences be predicated on our own goals, desires, and needs, or those of the companies that control Web 2.0?</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The SSI Metasystem offers a different choice, one where people act autonomously as digitally embodied agents to live effective online lives. The architectural differences between these two</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">metasystems, which I’ve discussed at length, illustrate why. Remember: <i>architecture eats culture and culture eats strategy</i>. The generativity of the SSI Metasystem gives rise to an online ecosystem of decentralized actors in which <i>all of us can find a digital home</i>.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="624" height="1" alt="image" src="Image_585.png"/></span></p><ol id="l45"><li><p class="s45" style="padding-top: 5pt;padding-left: 32pt;text-indent: -11pt;text-align: left;"><a name="bookmark1401">Jonathan Zittrain, “The Generative Internet,” </a><i>Harvard Law Review </i>119, no. 7 (2006): 1974.</p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 32pt;text-indent: -11pt;text-align: left;"><a name="bookmark1402">Samuel M. Smith, “Key Event Receipt Infrastructure (KERI),” arXiv, October 11, 2021.</a></p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark1403">Admittedly, the secure overlay is running on top of a network with many third parties, some benign and others not. Part of the challenge of engineering a functional secure overlay with self-sovereignty is mitigating the effects that these third parties can have on the self-sovereign internet—engineering against censorship, for example.</a></p></li><li><p style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a href="https://oreil.ly/bhyFK" class="s68" target="_blank" name="bookmark1404">Interoperability is, of course, more complicated than merely following the protocols. Daniel Hardman does an excellent job of discussing this for VCs (a protocol that runs over DIDComm), in</a><a href="https://oreil.ly/bhyFK" class="s46" target="_blank"> </a><a href="https://oreil.ly/bhyFK" class="s47" target="_blank">“Getting to Practical Interop With Verifiable Credentials”</a><a href="https://oreil.ly/bhyFK" class="s68" target="_blank">.</a></p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 32pt;text-indent: -11pt;text-align: left;"><a name="bookmark1405">Private communication with the author.</a></p></li><li><p class="s45" style="padding-top: 6pt;padding-left: 27pt;text-indent: -7pt;text-align: left;"><a name="bookmark1406">What’s missing in an OpenID4VC-based SSI Metasystem is the secure network overlay that DIDComm provides. But that’s not strictly necessary for autonomous, private, and effective credential exchange.</a></p></li></ol><p class="s21" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark1407">Index</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="624" height="1" alt="image" src="Image_586.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 8pt;text-indent: 0pt;text-align: left;"><span class="s442" style=" background-color: #EFEFEF;">Symbols                                                                                                                            </span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark619" class="s33">2FA (two-factor authentication), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Authentication Factors</span><a href="#bookmark642" class="s33">, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Identifier and Authentication Factors</span><a href="#bookmark683" class="s33">, </a><a href="#bookmark683">The Authentication Pyramid</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 4pt;padding-left: 8pt;text-indent: 0pt;text-align: left;"><span class="s442" style=" background-color: #EFEFEF;">A                                                                                                                                         </span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark766" class="s33">Aadhaar, </a><a href="#bookmark766">Federated Identity—Leveraging Strong Relationships</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark736" class="s33">ABAC (attribute-based access control), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Attribute- and Policy-Based Access Control</span> <span style=" color: #000;">access</span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><a href="#bookmark351" class="s33">by individuals to their PII, </a><a href="#bookmark351">Principle 7: Respect for User Privacy—Keep It User-Centric</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 24pt;line-height: 178%;text-align: left;"><a href="#bookmark60" class="s33">definition of term, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The Language of Digital Identity</span> <span style=" color: #000;">access control</span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 11pt;text-align: left;"><a href="#bookmark741" class="s33">abstract authorization architectures, </a><a href="#bookmark749" class="a">Abstract Authorization Architectures</a><a href="#bookmark749" class="s33">-</a><a href="#bookmark749">Abstract</a></p><p style="padding-top: 1pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark749">Authorization Architectures</a></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark713" class="s33">access policies, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Policy First</span><a href="#bookmark721" class="s33">-</a><a href="#bookmark721">Accountability Scales Better Than Enforcement</a></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark722" class="s33">authorization patterns and, </a><a href="#bookmark738" class="a">Authorization Patterns</a><a href="#bookmark738" class="s33">-</a><a href="#bookmark738" class="a">Attribute- and Policy-Based Access</a><a href="#bookmark738" class="s36"> </a><a href="#bookmark738">Control</a></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark711" class="s33">concept of, </a><a href="#bookmark711">Access Control and Relationship Utility</a></p><p class="s55" style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1222" class="s33">for devices, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Access Control for Devices</span><a href="#bookmark1234" class="s33">-</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Magically working together</span> <a href="#bookmark760" class="s33">digital certificates and, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Digital Certificates and Access Control</span> <a href="#bookmark712" class="s33">examples of, </a><a href="#bookmark712">Access Control and Relationship Utility</a></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark839" class="s33">OAuth protocol for, </a><a href="#bookmark839">OAuth basics</a></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark750" class="s33">representing and managing policies for, </a><a href="#bookmark750" class="a">Representing and Managing Access Control</a><a href="#bookmark750" class="s36"> </a><a href="#bookmark750" class="a">Policies</a><a href="#bookmark759" class="s33">-</a><a href="#bookmark750" class="a">R</a><a href="#bookmark750">epresenting and Managing Access Control Policies</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark730" class="s33">access control lists (ACLs), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Access Control Lists</span> <a href="#bookmark57" class="s33">access requests, </a><a href="#bookmark57">The Language of Digital Identity</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark695" class="s33">account recovery, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Account Recovery</span><a href="#bookmark698" class="s33">-</a><a href="#bookmark698">Account Recovery</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark61" class="s33">account store, </a><a href="#bookmark61">The Language of Digital Identity</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark40" class="s33">account, definition of term, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The Language of Digital Identity</span> <span style=" color: #000;">accountability</span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><a href="#bookmark720" class="s33">in access control policies, </a><a href="#bookmark720">Accountability Scales Better Than Enforcement</a></p><p class="s55" style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark352" class="s33">concerning use of PII, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Principle 7: Respect for User Privacy—Keep It User-Centric</span> <a href="#bookmark328" class="s33">functional privacy and, </a><a href="#bookmark328">Functional Privacy</a></p><p class="s55" style="padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark346" class="s33">PII and, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Principle 6: Visibility and Transparency—Keep It Open</span> <a href="#bookmark1175" class="s33">reciprocal negotiated accountability, </a><a href="#bookmark1175">Reciprocal Negotiated Accountability</a></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark267" class="s33">accreditation, </a><a href="#bookmark267">Trust Frameworks</a></p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark730" class="s33">ACLs (access control lists), </a><a href="#bookmark730">Access Control Lists</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark734" class="s33">action authorization (in access control), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Role-Based Access Control</span> <a href="#bookmark558" class="s33">Active Directory (AD), </a><a href="#bookmark558">Directories</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark786" class="s33">ad hoc identity federation, </a><a href="#bookmark786">Pattern 1: Ad Hoc Federation</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1297" class="s33">ad hoc policy decisions, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Business-Inspired Projects and Processes</span> <span style=" color: #000;">ad tracking</span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><a href="#bookmark640" class="s33">cookies and, </a><a href="#bookmark640">Identifier Only</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 24pt;line-height: 174%;text-align: left;"><a href="#bookmark161" class="s33">how it works, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Justifiable Parties</span> <a href="#bookmark532" class="s33">ADA (see authorization decision) addresses, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Naming</span><a href="#bookmark556" class="s33">, </a><a href="#bookmark556">Discovery</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark1035" class="s33">administrative architecture, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Administrative Architecture</span><a href="#bookmark1039" class="s33">-</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Administrative Architecture</span><a href="#bookmark1071" class="s33">, </a><a href="#bookmark1061" class="a">A</a><a href="#bookmark1071" class="a">dministrative Identity Systems Create Anemic Relationships</a><a href="#bookmark1071" class="s33">-</a><a href="#bookmark1071" class="a">Administrative Identity Systems</a><a href="#bookmark1071" class="s36"> </a><a href="#bookmark1071">Create Anemic Relationships</a></p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">administrative identity systems</p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark132" class="s33">drawbacks of, </a><a href="#bookmark132">The Laws of Digital Identity</a></p><p class="s55" style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1319" class="s33">governing, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Governing Administrative Identity Systems</span> <a href="#bookmark113" class="s33">purpose of, </a><a href="#bookmark113">The Proximity Problem</a></p><p class="s55" style="padding-left: 5pt;text-indent: 24pt;line-height: 178%;text-align: left;"><a href="#bookmark1207" class="s33">root of trust for, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Operationalizing Digital Relationships</span> <a href="#bookmark1294" class="s33">ADRs (architectural decision records), </a><a href="#bookmark1294">Recording Decisions</a></p><p class="s55" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark406" class="s33">Advanced Encryption Standard (AES), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Secret Key Cryptography</span> <a href="#bookmark1118" class="s33">agents, </a><a href="#bookmark1118">The Roles of Agents</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark1040" class="s33">algorithmic architecture, </a><a href="#bookmark1046" class="a">Algorithmic Architecture</a><a href="#bookmark1046" class="s33">, </a><a href="#bookmark1046" class="a">Algorithmic and Autonomic Identity in</a><a href="#bookmark1046" class="s36"> </a><a href="#bookmark1046">Practice</a></p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark1205" class="s33">algorithmic identifiers, </a><a href="#bookmark1205">Operationalizing Digital Relationships</a></p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark1325" class="s33">algorithmic identity systems, governing, </a><a href="#bookmark1334" class="a">Governing Algorithmic Identity Systems</a><a href="#bookmark1334" class="s33">-</a><a href="#bookmark1334" class="a">Governing</a><a href="#bookmark1334" class="s36"> </a><a href="#bookmark1334">Algorithmic Identity Systems</a></p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">algorithms</p><p class="s55" style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark496" class="s33">conflict-free replicated data types (CRDTs), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Byzantine Failure and Sybil Attacks</span> <a href="#bookmark438" class="s33">message digests, </a><a href="#bookmark438">Message Digests and Hashes</a></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark497" class="s33">Paxos algorithm, </a><a href="#bookmark497">Byzantine Failure and Sybil Attacks</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 24pt;line-height: 178%;text-align: left;"><a href="#bookmark421" class="s33">public-key cryptosystems, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Public-Key Cryptosystem Algorithms</span> <span style=" color: #000;">anonymity</span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 11pt;text-align: left;"><a href="#bookmark186" class="s33">characteristics of anonymity, </a><a href="#bookmark186">Fixing the Problems of Identity</a></p><p class="s55" style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark118" class="s33">examples of anonymity problems, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The (Lack of) Anonymity Problem</span> <a href="#bookmark215" class="s33">versus pseudonymity, </a><a href="#bookmark215">Anonymity and Pseudonymity</a></p><p class="s55" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark317" class="s33">Anti-Money Laundering (AML), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Privacy, Authenticity, and Confidentiality</span> <a href="#bookmark1294" class="s33">architectural decision records (ADRs), </a><a href="#bookmark1294">Recording Decisions</a></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1292" class="s33">architectural decisions, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Recording Decisions</span> <a href="#bookmark808" class="s33">assertions, </a><a href="#bookmark808">SAML</a></p><p style="text-indent: 0pt;text-align: left;"><span><img width="128" height="1" alt="image" src="Image_587.png"/></span></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark614" class="s33">attribute collection, </a><a href="#bookmark614" class="s36">Attribute Collection</a></p><p style="text-indent: 0pt;text-align: left;"><span><img width="281" height="1" alt="image" src="Image_588.png"/></span></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark736" class="s33">attribute-based access control (ABAC), </a>Attribute- and Policy-Based Access Control <span style=" color: #000;">attributes</span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><a href="#bookmark950" class="s33">and claims in credentials, </a><a href="#bookmark950">The Nature of Credentials</a></p><p class="s55" style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark75" class="s33">correlating attributes, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Digital Identity Perspectives</span> <a href="#bookmark48" class="s33">in identity records, </a><a href="#bookmark48">The Language of Digital Identity</a></p><p class="s55" style="padding-left: 5pt;text-indent: 24pt;line-height: 178%;text-align: left;"><a href="#bookmark148" class="s33">inalienable versus alienable, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">User Control and Consent</span> <a href="#bookmark1311" class="s33">audits, </a><a href="#bookmark1311">Enforcement</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">authentic digital relationships (see also digital relationships; relationships)</p><p class="s55" style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1073" class="s33">alternatives to transactional relationships, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Alternatives to Transactional Relationships</span> <a href="#bookmark1080" class="s33">disintermediating platforms and, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Disintermediating Platforms</span><a href="#bookmark1081" class="s33">-</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Disintermediating Platforms</span> <a href="#bookmark1083" class="s33">example of, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Digitizing Auto Accidents</span><a href="#bookmark1086" class="s33">-</a><a href="#bookmark1086">Digitizing Auto Accidents</a></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark1202" class="s33">operationalizing digital relationships, </a><a href="#bookmark1208" class="a">Operationalizing Digital Relationships</a><a href="#bookmark1208" class="s33">-</a><a href="#bookmark1208" class="a">Realizing the</a><a href="#bookmark1208" class="s36"> </a><a href="#bookmark1208">Smart Agent Vision</a></p><p class="s55" style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1087" class="s33">operationalizing your relationships, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Taking Our Rightful Place in the Digital Sphere</span> <a href="#bookmark1060" class="s33">role of architecture in culture and relationships, </a><a href="#bookmark1060">Authentic Digital Relationships</a></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark1077" class="s33">self-sovereign identity (SSI), </a><a href="#bookmark1079" class="a">The Self-Sovereign Alternative</a><a href="#bookmark1079" class="s33">-</a><a href="#bookmark1079" class="a">The Self-Sovereign</a><a href="#bookmark1079" class="s36"> </a><a href="#bookmark1079">Alternative</a></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark1061" class="s33">shortcomings of administrative architecture, </a><a href="#bookmark1061" class="a">Administrative Identity Systems Create</a><a href="#bookmark1061" class="s36"> </a><a href="#bookmark1061" class="a">Anemic Relationships</a><a href="#bookmark1071" class="s33">-</a><a href="#bookmark1061" class="a">A</a><a href="#bookmark1071" class="a">dministrative Identity Systems Create Anemic Relationship</a><a href="#bookmark1071">s</a></p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">authentication</p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark695" class="s33">account recovery, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Account Recovery</span><a href="#bookmark698" class="s33">-</a><a href="#bookmark698">Account Recovery</a></p><p class="s55" style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark616" class="s33">authentication factors, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Authentication Factors</span><a href="#bookmark636" class="s33">-</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Temporal Factor: Some Time You’re In</span> <a href="#bookmark637" class="s33">authentication methods, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Authentication Methods</span><a href="#bookmark656" class="s33">-</a><a href="#bookmark656">Biometric factors</a></p><p class="s55" style="padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark824" class="s33">authentication requests, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">SAML Authentication Flow</span> <a href="#bookmark825" class="s33">authentication responses, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">SAML Authentication Flow</span> <a href="#bookmark673" class="s33">authentication tokens, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Token-Based Authentication</span> <a href="#bookmark664" class="s33">authenticators, </a><a href="#bookmark664">FIDO authentication</a></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark20" class="s33">based on identity, </a><a href="#bookmark20">Identity Is Bigger Than You Think</a></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark674" class="s33">classifying strength of, </a><a href="#bookmark694" class="a">Classifying Authentication Strength</a><a href="#bookmark694" class="s33">-</a><a href="#bookmark694" class="a">Authentication Assurance</a><a href="#bookmark694" class="s36"> </a><a href="#bookmark694">Levels</a></p><p class="s55" style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark41" class="s33">definition of term, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The Language of Digital Identity</span> <a href="#bookmark610" class="s33">enrollment, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Enrollment</span><a href="#bookmark615" class="s33">-</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Attribute Collection</span> <a href="#bookmark52" class="s33">authentication factors, </a><a href="#bookmark52">The Language of Digital Identity</a></p><p class="s55" style="padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark699" class="s33">properties of authentication systems, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Authentication System Properties</span><a href="#bookmark700" class="s33">-</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Federation Support</span> <a href="#bookmark609" class="s33">purpose of, </a><a href="#bookmark609">Authentication and Relationship Integrity</a></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark693" class="s33">authentication assurance levels, </a><a href="#bookmark693">Authentication Assurance Levels</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark680" class="s33">authentication pyramid, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The Authentication Pyramid</span><a href="#bookmark690" class="s33">-</a><a href="#bookmark690">The Authentication Pyramid</a></p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark305" class="s33">authenticity, </a><a href="#bookmark314" class="a">Communications Privacy and Confidentiality</a><a href="#bookmark314" class="s33">, </a><a href="#bookmark314" class="a">Privacy, Authenticity, and</a><a href="#bookmark314" class="s36"> </a><a href="#bookmark314" class="a">Confidentiality</a><a href="#bookmark324" class="s33">-</a><a href="#bookmark314" class="a">P</a><a href="#bookmark314">rivacy, Authenticity, and Confidentiality</a></p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">authorization</p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark42" class="s33">definition of term, </a><a href="#bookmark42">The Language of Digital Identity</a></p><p class="s55" style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark722" class="s33">patterns for, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Authorization Patterns</span><a href="#bookmark738" class="s33">-</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Attribute- and Policy-Based Access Control</span> <a href="#bookmark1138" class="s33">revoking, </a><a href="#bookmark1138">Step 1: Alice Revokes the Lost Agent’s Authorization</a></p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">authorization decision assertion (ADA)</p><p class="s55" style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark748" class="s33">in abstract authorization architecture, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Abstract Authorization Architectures</span> <a href="#bookmark65" class="s33">in identity systems, </a><a href="#bookmark65">The Language of Digital Identity</a></p><p class="s55" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark843" class="s33">authorization grant types, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Getting a token</span> <a href="#bookmark841" class="s33">authorization servers (AS), </a><a href="#bookmark841">OAuth basics</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark1042" class="s33">autonomic architecture, </a><a href="#bookmark1046" class="a">Autonomic Architecture</a><a href="#bookmark1046" class="s33">, </a><a href="#bookmark1046" class="a">Algorithmic and Autonomic Identity in</a><a href="#bookmark1046" class="s36"> </a><a href="#bookmark1046">Practice</a></p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">autonomic identifiers</p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark917" class="s33">Key Event Receipt Infrastructure (KERI), </a><a href="#bookmark923" class="a">Key Event Receipt Infrastructure</a><a href="#bookmark923" class="s33">-</a><a href="#bookmark923" class="a">The KERI DID</a><a href="#bookmark923" class="s36"> </a><a href="#bookmark923">Method</a></p><p class="s55" style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark907" class="s33">peer DIDs, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Peer DIDs</span><a href="#bookmark916" class="s33">-</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Peer DID authentication and authorization</span> <a href="#bookmark902" class="s33">self-certification by, </a><a href="#bookmark902">Self-Certification</a></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark901" class="s33">self-governing quality of, </a><a href="#bookmark901">Autonomic Identifiers</a></p><p class="s55" style="padding-top: 10pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1323" class="s33">autonomic identity systems, governing, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Governing Autonomic Identity Systems</span> <a href="#bookmark1206" class="s33">autonomic relationships, </a><a href="#bookmark1206">Operationalizing Digital Relationships</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;">autonomy</p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark81" class="s33">in identity systems, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Locus of Control</span><a href="#bookmark90" class="s33">-</a><a href="#bookmark90">Locus of Control</a></p><p class="s55" style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1353" class="s33">legitimacy of identity ecosystems, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The Legitimacy of Identity Ecosystems</span> <a href="#bookmark1166" class="s33">smart identity agents and, </a><a href="#bookmark1166">Self-Sovereign Authority</a></p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark114" class="s33">autonomy problem, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The Autonomy Problem</span><a href="#bookmark182" class="s33">, </a><a href="#bookmark182">Fixing the Problems of Identity</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 4pt;padding-left: 8pt;text-indent: 0pt;text-align: left;"><span class="s442" style=" background-color: #EFEFEF;">B                                                                                                                                         </span></p><p class="s55" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark780" class="s33">back-channel presentation, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The Nature of Federated Identity</span> <a href="#bookmark908" class="s33">backing stores, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Making peer DIDs trustworthy</span> <a href="#bookmark795" class="s33">BankAmericard, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Pattern 2: Hub-and-Spoke Federation</span> <a href="#bookmark453" class="s33">base64-encoded certificates, </a><a href="#bookmark453">Digital Certificates</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark463" class="s33">basic constraints, </a><a href="#bookmark463">Certificate Authorities</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark633" class="s33">behavior factors, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Behavior Factor: Something You Do</span> <a href="#bookmark1028" class="s33">bindings, </a><a href="#bookmark1028">The Trust Basis for Identifiers</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;">biometrics</p><p class="s55" style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark653" class="s33">authentication methods, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Biometric factors</span> <a href="#bookmark613" class="s33">collection of, </a><a href="#bookmark613">Biometric Collection</a></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark630" class="s33">examples of, </a><a href="#bookmark630">Inherence Factor: Something You Are</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 24pt;line-height: 178%;text-align: left;"><a href="#bookmark25" class="s33">universal identity systems and, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">No Universal Identity Systems</span> <a href="#bookmark990" class="s33">blinded identifiers, </a><a href="#bookmark990">Correlation and blinded identifiers</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 13pt;text-align: left;">blockchain technology</p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark493" class="s33">basics of, </a><a href="#bookmark493">Blockchain Basics</a></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark501" class="s33">building blockchains, </a><a href="#bookmark502" class="a">Building a Blockchain</a><a href="#bookmark502" class="s33">-</a><a href="#bookmark502" class="a">Problem 6: Ordering transactions and handling</a><a href="#bookmark502" class="s36"> </a><a href="#bookmark502">disagreements</a></p><p class="s55" style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark498" class="s33">Byzantine failure and Sybil attacks, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Byzantine Failure and Sybil Attacks</span><a href="#bookmark906" class="s33">, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Self-Certification</span> <a href="#bookmark506" class="s33">classifying blockchains, </a><a href="#bookmark506">Classifying Blockchains</a></p><p class="s55" style="padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark503" class="s33">countering Sybil attacks, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Other Ways of Countering Sybil Attacks</span> <a href="#bookmark495" class="s33">decentralized consensus, </a><a href="#bookmark495">Decentralized Consensus</a></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark515" class="s33">evaluating need for, </a><a href="#bookmark515">Should You Use a Blockchain?</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 24pt;line-height: 178%;text-align: left;"><a href="#bookmark587" class="s33">using for discovery, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Using Blockchains for Discovery</span><a href="#bookmark597" class="s33">-</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Using Blockchains for Discovery</span> <a href="#bookmark295" class="s33">bodily privacy, </a><a href="#bookmark295">What Is Privacy?</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 13pt;text-align: left;"><a href="#bookmark997" class="s33">bottom-up digital identity, </a><a href="#bookmark997">The Properties of Credential Exchange</a></p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark13" class="s33">bundle theory, </a><a href="#bookmark13">A Bundle of Sticks?</a></p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark498" class="s33">Byzantine failure, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Byzantine Failure and Sybil Attacks</span><a href="#bookmark906" class="s33">, </a><a href="#bookmark906">Self-Certification</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 4pt;padding-left: 8pt;text-indent: 0pt;text-align: left;"><span class="s442" style=" background-color: #EFEFEF;">C                                                                                                                                         </span></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark365" class="s33">California Consumer Privacy Act (CCPA), </a><a href="#bookmark365">California Consumer Privacy Act</a></p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark369" class="s33">Canadian Personal Information Protection and Electronic Documents Act, </a><a href="#bookmark369" class="a">Other Regulatory</a><a href="#bookmark369" class="s36"> </a><a href="#bookmark369">Efforts</a></p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark611" class="s33">CAPTCHA, </a><a href="#bookmark611">Identity Proofing</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark590" class="s33">CAS (content-addressable storage), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Using Blockchains for Discovery</span> <a href="#bookmark1332" class="s33">censorship, </a><a href="#bookmark1332">Governing Algorithmic Identity Systems</a></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1143" class="s33">censorship resistance, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Censorship Resistance</span> <a href="#bookmark777" class="s33">centralized identity, </a><a href="#bookmark777">The Nature of Federated Identity</a></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark457" class="s33">certificate authorities (CAs), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Certificate Authorities</span><a href="#bookmark471" class="s33">, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Public-Key Infrastructures</span> <a href="#bookmark464" class="s33">certificate policies, </a><a href="#bookmark464">Certificate Authorities</a></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark466" class="s33">certificate revocation lists (CRLs), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Certificate Revocation Lists</span> <a href="#bookmark474" class="s33">certification paths, </a><a href="#bookmark474">Public-Key Infrastructures</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark462" class="s33">certification practice statement (CPS), </a><a href="#bookmark462">Certificate Authorities</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark657" class="s33">challenge-response systems, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Challenge-Response Systems</span><a href="#bookmark670" class="s33">-</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">FIDO authentication</span> <a href="#bookmark909" class="s33">change documents (deltas), </a><a href="#bookmark909">Making peer DIDs trustworthy</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark910" class="s33">change fragments, </a><a href="#bookmark910">Making peer DIDs trustworthy</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark248" class="s33">change phase (digital relationship lifecycle), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Updating or Changing</span> <a href="#bookmark372" class="s33">Children’s Online Privacy Protection Act (COPPA), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Other Regulatory Efforts</span> <span style=" color: #000;">claims</span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><a href="#bookmark950" class="s33">and attributes in credentials, </a><a href="#bookmark950">The Nature of Credentials</a></p><p class="s55" style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark958" class="s33">credential exchange transfers trust, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Credential Exchange Transfers Trust</span> <a href="#bookmark180" class="s33">identity metasystems and, </a><a href="#bookmark180">Fixing the Problems of Identity</a></p><p class="s55" style="padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark62" class="s33">in identity systems, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The Language of Digital Identity</span> <a href="#bookmark1343" class="s33">verifiable, </a><a href="#bookmark1343">Credential Provenance and Trust</a></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark662" class="s33">client authentication, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Digital certificates and challenge-response</span> <a href="#bookmark851" class="s33">client credentials grant, </a><a href="#bookmark851">Getting a token</a></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark668" class="s33">Client to Authenticator Protocol (CTAP), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">FIDO authentication</span> <a href="#bookmark242" class="s33">co-creating phase (digital relationship lifecycle), </a><a href="#bookmark242">Co-Creating</a></p><p class="s55" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark274" class="s33">coherence, social systems and, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Coherence and Social Systems</span><a href="#bookmark280" class="s33">-</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Coherence and Social Systems</span> <a href="#bookmark95" class="s33">colocated components, </a><a href="#bookmark95">Reimagining Decentralized and Distributed</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark778" class="s33">colocated identity systems, </a><a href="#bookmark778">The Nature of Federated Identity</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark758" class="s33">combining algorithms, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Representing and Managing Access Control Policies</span> <a href="#bookmark8" class="s33">comments and questions, </a><a href="#bookmark8">How to Contact Us</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;">communication</p><p class="s55" style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1180" class="s33">DID-based, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">DID-Based Communication</span> <a href="#bookmark1182" class="s33">methodologies for, </a><a href="#bookmark1182">DID-Based Communication</a></p><p class="s55" style="padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark303" class="s33">privacy of, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Communications Privacy and Confidentiality</span> <a href="#bookmark1174" class="s33">self-sovereign, </a><a href="#bookmark1174">Principles of Self-Sovereign Communication</a></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark276" class="s33">community coherence, </a><a href="#bookmark276">Coherence and Social Systems</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark754" class="s33">conditions (in XACML policies), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Representing and Managing Access Control Policies</span> <span style=" color: #000;">confidence</span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><a href="#bookmark21" class="s33">based on identity, </a><a href="#bookmark21">Identity Is Bigger Than You Think</a></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark1339" class="s33">in individual identity ecosystems, </a><a href="#bookmark1339">Credential Fidelity and Confidence</a></p><p class="s55" style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark254" class="s33">relationship to trust and risk, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Trust, Confidence, and Risk</span><a href="#bookmark259" class="s33">-</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Trust, Confidence, and Risk</span> <a href="#bookmark261" class="s33">roles of fidelity and provenance, </a><a href="#bookmark261">Fidelity and Provenance</a></p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">confidentiality</p><p class="s55" style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark303" class="s33">communications privacy and, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Communications Privacy and Confidentiality</span> <a href="#bookmark330" class="s33">confidentiality agreements, </a><a href="#bookmark330">Functional Privacy</a></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark394" class="s33">relationship to integrity and nonrepudiation, </a><a href="#bookmark394">Integrity, Nonrepudiation, and Confidentiality</a></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark314" class="s33">relationship to privacy and authenticity, </a><a href="#bookmark324" class="a">Privacy, Authenticity, and Confidentiality</a><a href="#bookmark324" class="s33">-</a><a href="#bookmark324">Privacy,</a></p><p style="padding-top: 1pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark324">Authenticity, and Confidentiality</a></p><p style="padding-top: 10pt;padding-left: 5pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark496" class="s33">conflict-free replicated data types (CRDTs), </a><a href="#bookmark913" class="a">Byzantine Failure and Sybil Attacks</a><a href="#bookmark913" class="s33">, </a><a href="#bookmark913" class="a">Making peer</a><a href="#bookmark913" class="s36"> </a><a href="#bookmark913">DIDs trustworthy</a></p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">connections</p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark207" class="s33">definition of term, </a><a href="#bookmark207">Relationship Integrity</a></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark1235" class="s33">rich connections, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The CompuServe of Things</span><a href="#bookmark1239" class="s33">-</a><a href="#bookmark1239">A Real, Open Internet of Things</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">consent problem</p><p class="s55" style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark350" class="s33">concerning PII, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Principle 7: Respect for User Privacy—Keep It User-Centric</span> <a href="#bookmark116" class="s33">digital versus physical worlds, </a><a href="#bookmark116">The Consent Problem</a></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark149" class="s33">self-sovereign identity and, </a><a href="#bookmark149">User Control and Consent</a></p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 24pt;line-height: 25pt;text-align: left;"><a href="#bookmark184" class="s33">solving through appropriately designed systems, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Fixing the Problems of Identity</span><a href="#bookmark176" class="s36"> </a><a href="#bookmark175" class="s33">consistent experience across contexts, </a><a href="#bookmark176" class="a">Consistent Experience Across Contexts</a><a href="#bookmark176" class="s33">-</a><a href="#bookmark176">Consistent</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark176" class="a">Experience Across Contexts</a><a href="#bookmark932" class="s33">, </a><a href="#bookmark176" class="a">Cryptographic Identifiers and the Laws of Identity</a><a href="#bookmark176" class="s33">, </a><a href="#bookmark1354" class="a">The Legitimacy</a><a href="#bookmark1354" class="s36"> </a><a href="#bookmark1354">of Identity Ecosystems</a></p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark154" class="s33">constrained use, </a><a href="#bookmark927" class="a">Minimal Disclosure for a Constrained Use</a><a href="#bookmark927" class="s33">, </a><a href="#bookmark927" class="a">Cryptographic Identifiers and the</a><a href="#bookmark927" class="s36"> </a><a href="#bookmark927" class="a">Laws of Identity</a><a href="#bookmark985" class="s33">, </a><a href="#bookmark927" class="a">D</a><a href="#bookmark927">erived Credential Presentation</a></p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark559" class="s33">container objects, </a><a href="#bookmark559">Directories</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark590" class="s33">content-addressable storage (CAS), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Using Blockchains for Discovery</span> <a href="#bookmark119" class="s33">continuity, anonymity problem and, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The (Lack of) Anonymity Problem</span> <a href="#bookmark864" class="s33">contracts of adhesion, </a><a href="#bookmark864">Governing Federation</a></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark149" class="s33">control, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">User Control and Consent</span><a href="#bookmark341" class="s33">, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Principle 6: Visibility and Transparency—Keep It Open</span> <a href="#bookmark1034" class="s33">control authority, </a><a href="#bookmark1034">Identity Architectures</a></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark120" class="s33">convenience, anonymity problem and, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The (Lack of) Anonymity Problem</span> <a href="#bookmark298" class="s33">conversations, </a><a href="#bookmark298">What Is Privacy?</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;">cookies</p><p class="s55" style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: justify;"><a href="#bookmark639" class="s33">as authentication system, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Identifier Only</span> <a href="#bookmark159" class="s33">justifiable parties and, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Justifiable Parties</span> <a href="#bookmark168" class="s33">as public identifiers, </a><a href="#bookmark168">Directed Identity</a></p><p class="s55" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark372" class="s33">COPPA (Children’s Online Privacy Protection Act), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Other Regulatory Efforts</span> <a href="#bookmark75" class="s33">correlating attributes, </a><a href="#bookmark75">Digital Identity Perspectives</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark160" class="s33">correlation identifiers, </a><a href="#bookmark160">Justifiable Parties</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark312" class="s33">correlation of data sets, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Correlation</span><a href="#bookmark969" class="s33">, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Verifiable Credentials</span> <a href="#bookmark462" class="s33">CPS (certification practice statement), </a><a href="#bookmark462">Certificate Authorities</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark496" class="s33">CRDTs (conflict-free replicated data types), </a><a href="#bookmark913" class="a">Byzantine Failure and Sybil Attacks</a><a href="#bookmark913" class="s33">, </a><a href="#bookmark913" class="a">Making peer</a><a href="#bookmark913" class="s36"> </a><a href="#bookmark913">DIDs trustworthy</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">credentials</p><p class="s55" style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1004" class="s33">alternatives for VC exchange, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Alternatives to DIDs for VC Exchange</span> <a href="#bookmark1395" class="s33">characteristics of credential exchange, </a><a href="#bookmark1395">Generative Identity</a></p><p class="s55" style="padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark950" class="s33">claims and attributes in, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The Nature of Credentials</span> <a href="#bookmark973" class="s33">credential trust triangle, </a><a href="#bookmark973">Exchanging VCs</a></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark1339" class="s33">fidelity and confidence in, </a><a href="#bookmark1339">Credential Fidelity and Confidence</a></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark1396" class="s33">generativity of credential exchange, </a><a href="#bookmark1396">The Generativity of Credential Exchange</a></p><p class="s55" style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark946" class="s33">need for verifiable credentials, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Verifiable Credentials</span><a href="#bookmark1343" class="s33">, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Credential Provenance and Trust</span> <a href="#bookmark69" class="s33">physical, </a><a href="#bookmark69">Identity Scenarios in the Physical World</a></p><p class="s55" style="padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark981" class="s33">presentation types, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Credential Presentation Types</span><a href="#bookmark994" class="s33">-</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Correlation and blinded identifiers</span> <a href="#bookmark996" class="s33">properties of credential exchange, </a><a href="#bookmark996">The Properties of Credential Exchange</a></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark995" class="s33">provenance and trust of, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Answering Trust Questions</span><a href="#bookmark1340" class="s33">, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Credential Provenance and Trust</span>-</p><p style="padding-top: 1pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark1347">Credential Provenance and Trust</a></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark955" class="s33">roles in credential exchange, </a><a href="#bookmark962" class="a">Roles in Credential Exchange</a><a href="#bookmark962" class="s33">-</a><a href="#bookmark962" class="a">Credential Exchange Transfers</a><a href="#bookmark962" class="s36"> </a><a href="#bookmark962">Trust</a></p><p class="s55" style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1012" class="s33">use cases for, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">A Marketplace for Credentials</span> <a href="#bookmark618" class="s33">use of term, </a><a href="#bookmark618">Authentication Factors</a></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark1000" class="s33">VC ecosystems, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">VC Ecosystems</span><a href="#bookmark1003" class="s33">-</a><a href="#bookmark1003">VC Ecosystems</a></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark972" class="s33">VC exchange, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Exchanging VCs</span><a href="#bookmark980" class="s33">-</a><a href="#bookmark980">Presenting Credentials</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 24pt;line-height: 178%;text-align: left;"><a href="#bookmark963" class="s33">Verifiable Credential (VC) specification, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Verifiable Credentials</span><a href="#bookmark971" class="s33">-</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Verifiable Credentials</span> <span style=" color: #000;">credit card industry</span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 11pt;text-align: left;"><a href="#bookmark795" class="s33">BankAmericard security problems, </a><a href="#bookmark795">Pattern 2: Hub-and-Spoke Federation</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 24pt;line-height: 178%;text-align: left;"><a href="#bookmark784" class="s33">federated identity in, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Federation in the Credit Card Industry</span> <a href="#bookmark475" class="s33">cross-certification, </a><a href="#bookmark475">Public-Key Infrastructures</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 13pt;text-align: left;"><a href="#bookmark439" class="s33">cryptographic hash functions, </a><a href="#bookmark439">Message Digests and Hashes</a></p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">cryptographic identifiers (see also identifiers)</p><p class="s55" style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark901" class="s33">autonomic identifiers, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Autonomic Identifiers</span><a href="#bookmark924" class="s33">-</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Other Autonomic Identifier Systems</span> <a href="#bookmark880" class="s33">decentralized identifiers (DIDs), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Decentralized Identifiers</span><a href="#bookmark900" class="s33">-</a><a href="#bookmark900">Indirection and Key Rotation</a></p><p style="padding-top: 3pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;">e-mail based identifiers,<a href="#bookmark878" class="s36"> </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The Problem with Email-Based Identifiers</span><a href="#bookmark925" class="s33"> Laws of Identity and,</a><a href="#bookmark925" class="s36"> </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Cryptographic Identifiers and the Laws of Identity</span><a href="#bookmark876" class="s33"> role of context in identifiers,</a><a href="#bookmark876" class="s36"> </a><a href="#bookmark876">Cryptographic Identifiers</a></p><p class="s55" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark659" class="s33">cryptographic shared secrets, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Challenge-Response Systems</span> <a href="#bookmark401" class="s33">cryptography, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Cryptography</span><a href="#bookmark433" class="s33">-</a><a href="#bookmark433">Key Management</a></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><a href="#bookmark414" class="s33">hybrid key systems, </a><a href="#bookmark414">Hybrid Key Systems</a></p><p class="s55" style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark427" class="s33">key generation, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Key Generation</span> <a href="#bookmark432" class="s33">key management, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Key Management</span> <a href="#bookmark402" class="s33">limits of, </a><a href="#bookmark402">Cryptography</a></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark407" class="s33">public-key cryptography, </a><a href="#bookmark407">Public-Key Cryptography</a></p><p class="s55" style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark421" class="s33">public-key cryptosystem algorithms, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Public-Key Cryptosystem Algorithms</span> <a href="#bookmark403" class="s33">secret key cryptography, </a><a href="#bookmark403">Secret Key Cryptography</a></p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark1106" class="s33">cryptowallets, </a><a href="#bookmark1106">Identity Wallets</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark668" class="s33">CTAP (Client to Authenticator Protocol), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">FIDO authentication</span> <a href="#bookmark717" class="s33">custodian roles (in access control), </a><a href="#bookmark717">Responsibility</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark370" class="s33">Customer Identification Program (Patriot Act), </a><a href="#bookmark370">Other Regulatory Efforts</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 4pt;padding-left: 8pt;text-indent: 0pt;text-align: left;"><span class="s442" style=" background-color: #EFEFEF;">D                                                                                                                                         </span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark723" class="s33">DAC (discretionary access control), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Mandatory and Discretionary Access Control</span> <span style=" color: #000;">data (see also personal data)</span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><a href="#bookmark155" class="s33">controlling data breaches, </a><a href="#bookmark155">Minimal Disclosure for a Constrained Use</a></p><p class="s55" style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark312" class="s33">correlation of data sets, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Correlation</span> <a href="#bookmark428" class="s33">information entropy, </a><a href="#bookmark428">Key Generation</a></p><p class="s55" style="padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1300" class="s33">information governance, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Information Governance</span> <a href="#bookmark480" class="s33">information leakage, </a><a href="#bookmark480">Zero-Knowledge Proofs</a></p><p class="s55" style="padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark296" class="s33">information privacy, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">What Is Privacy?</span><a href="#bookmark306" class="s33">, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Information Privacy</span> <a href="#bookmark156" class="s33">overcollection of, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Minimal Disclosure for a Constrained Use</span> <a href="#bookmark947" class="s33">polymorphic data records, </a><a href="#bookmark947">Verifiable Credentials</a></p><p style="padding-top: 3pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark331" class="s33">principles for processing personal, </a><a href="#bookmark353" class="a">Privacy by Design</a><a href="#bookmark353" class="s33">-</a><a href="#bookmark353">Principle 7: Respect for User Privacy</a></p><p style="padding-top: 1pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark353">—Keep It User-Centric</a></p><p class="s55" style="padding-top: 10pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark562" class="s33">databases, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Directories are not databases</span> <a href="#bookmark495" class="s33">decentralized consensus, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Decentralized Consensus</span> <span style=" color: #000;">decentralized identifiers (DIDs)</span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><a href="#bookmark1004" class="s33">alternative to for VC exchange, </a><a href="#bookmark1004">Alternatives to DIDs for VC Exchange</a></p><p class="s55" style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1123" class="s33">authentication pattern, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">DID Authentication Pattern</span><a href="#bookmark1125" class="s33">-</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">DID Authentication Pattern</span> <a href="#bookmark893" class="s33">DID documents, </a><a href="#bookmark893">DID Documents</a></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark1249" class="s33">DID relationships for IoT, </a><a href="#bookmark1261" class="a">The Self-Sovereign Internet of Things</a><a href="#bookmark1261" class="s33">-</a><a href="#bookmark1261" class="a">Use Case 3: Real</a><a href="#bookmark1261" class="s36"> </a><a href="#bookmark1261">Customer Service</a></p><p class="s55" style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1181" class="s33">DID-based communication (DIDComm), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">DID-Based Communication</span> <a href="#bookmark1190" class="s33">DIDComm messaging, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">DIDComm Messaging</span><a href="#bookmark1194" class="s33">-</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Message Formats</span> <a href="#bookmark208" class="s33">example of, </a><a href="#bookmark208">Relationship Integrity</a></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark1183" class="s33">exchanging, </a><a href="#bookmark1183">Exchanging DIDs</a></p><p class="s55" style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark897" class="s33">indirection and key rotation, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Indirection and Key Rotation</span><a href="#bookmark900" class="s33">-</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Indirection and Key Rotation</span> <a href="#bookmark591" class="s33">ION system and, </a><a href="#bookmark591">Using Blockchains for Discovery</a></p><p class="s55" style="padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark922" class="s33">KERI DID method, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The KERI DID Method</span> <a href="#bookmark882" class="s33">properties of, </a><a href="#bookmark882">DID Properties</a></p><p class="s55" style="padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark890" class="s33">resolution of, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">DID Resolution</span> <a href="#bookmark883" class="s33">syntax of, </a><a href="#bookmark883">DID Syntax</a></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark1161" class="s33">decentralized identity, </a><a href="#bookmark1161">Self-Sovereign Authority</a></p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark592" class="s33">Decentralized Identity Foundation (DIF), </a><a href="#bookmark592">Using Blockchains for Discovery</a></p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark92" class="s33">decentralized systems, </a><a href="#bookmark100" class="a">Reimagining Decentralized and Distributed</a><a href="#bookmark100" class="s33">-</a><a href="#bookmark100" class="a">Reimagining Decentralized</a><a href="#bookmark100" class="s36"> </a><a href="#bookmark100" class="a">and Distributed</a><a href="#bookmark153" class="s33">, </a><a href="#bookmark100" class="a">U</a><a href="#bookmark100">ser Control and Consent</a></p><p class="s55" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark336" class="s33">default principle, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Principle 2: Privacy as the Default Setting</span> <a href="#bookmark921" class="s33">delegation events, </a><a href="#bookmark921">Delegation</a></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark909" class="s33">deltas (change documents), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Making peer DIDs trustworthy</span> <a href="#bookmark454" class="s33">DER (Distinguished Encoding Rules), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Digital Certificates</span> <a href="#bookmark566" class="s33">dereferencing, </a><a href="#bookmark566">Domain Name System</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark986" class="s33">derived credential presentation, </a><a href="#bookmark994" class="a">Derived Credential Presentation</a><a href="#bookmark994" class="s33">-</a><a href="#bookmark994" class="a">Correlation and blinded</a><a href="#bookmark994" class="s36"> </a><a href="#bookmark994">identifiers</a></p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">devices</p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark1222" class="s33">access control for, </a><a href="#bookmark1222">Access Control for Devices</a></p><p class="s55" style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1221" class="s33">RFID (radio frequency identification), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Identity on the Internet of Things</span> <a href="#bookmark1226" class="s33">using OAuth with, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Using OAuth with Devices</span><a href="#bookmark1234" class="s33">-</a><a href="#bookmark1234">Magically working together</a></p><p class="s55" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark583" class="s33">DHT (distributed hash tables), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Distributed Hash Tables</span><a href="#bookmark586" class="s33">-</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Distributed Hash Tables</span> <span style=" color: #000;">DIDs (see decentralized identifiers)</span></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark592" class="s33">DIF (Decentralized Identity Foundation), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Using Blockchains for Discovery</span> <a href="#bookmark415" class="s33">Diffie–Hellman key exchange, </a><a href="#bookmark415">Hybrid Key Systems</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;">digital certificates</p><p class="s55" style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark760" class="s33">access control and, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Digital Certificates and Access Control</span> <a href="#bookmark450" class="s33">basics of, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Digital Certificates</span><a href="#bookmark455" class="s33">-</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Digital Certificates</span> <a href="#bookmark457" class="s33">certificate authorities (CAs), </a><a href="#bookmark457">Certificate Authorities</a></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark466" class="s33">certificate revocation lists (CRLs), </a><a href="#bookmark466">Certificate Revocation Lists</a></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark661" class="s33">challenge-response systems and, </a><a href="#bookmark661">Digital certificates and challenge-response</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 24pt;line-height: 178%;text-align: left;"><a href="#bookmark470" class="s33">public-key infrastructures (PKIs), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Public-Key Infrastructures</span><a href="#bookmark477" class="s33">-</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Public-Key Infrastructures</span> <span style=" color: #000;">digital identity (see also identity)</span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 11pt;text-align: left;"><a href="#bookmark997" class="s33">bottom-up versus top-down, </a><a href="#bookmark997">The Properties of Credential Exchange</a></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark92" class="s33">decentralized versus distributed systems, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Reimagining Decentralized and Distributed</span><a href="#bookmark803" class="s33">- </a><a href="#bookmark100" class="a">R</a><a href="#bookmark803" class="a">eimagining Decentralized and Distributed</a><a href="#bookmark803" class="s33">, </a><a href="#bookmark803" class="a">Network Effects and Digital Identity</a><a href="#bookmark803" class="s36"> </a><a href="#bookmark803">Management</a></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark34" class="s33">definition of term, </a><a href="#bookmark34">Defining Digital Identity</a></p><p class="s55" style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark68" class="s33">identity scenarios in physical world, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Identity Scenarios in the Physical World</span> <a href="#bookmark70" class="s33">identity, security, and privacy, </a><a href="#bookmark70">Identity, Security, and Privacy</a></p><p class="s55" style="padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark27" class="s33">important concepts surrounding, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The Road Ahead</span> <a href="#bookmark80" class="s33">locus of control, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Locus of Control</span><a href="#bookmark90" class="s33">-</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Locus of Control</span> <a href="#bookmark74" class="s33">multiple identities, </a><a href="#bookmark74">Digital Identity Perspectives</a></p><p class="s55" style="padding-top: 3pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark39" class="s33">nomenclature, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The Language of Digital Identity</span><a href="#bookmark67" class="s33">-</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The Language of Digital Identity</span> <a href="#bookmark109" class="s33">problems of, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The Problems of Digital Identity</span><a href="#bookmark128" class="s33">-</a><a href="#bookmark128">Solving the Problems</a></p><p class="s55" style="padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark133" class="s33">solving problems of, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The Laws of Digital Identity</span><a href="#bookmark177" class="s33">, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Fixing the Problems of Identity</span> <a href="#bookmark78" class="s33">tiers of identity, </a><a href="#bookmark78">Tiers of Identity</a></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">digital identity architectures</p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark1035" class="s33">administrative architecture, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Administrative Architecture</span><a href="#bookmark1039" class="s33">-</a><a href="#bookmark1039">Administrative Architecture</a></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark1046" class="s33">algorithmic and autonomic identity in practice, </a><a href="#bookmark1046" class="a">Algorithmic and Autonomic Identity in</a><a href="#bookmark1046" class="s36"> </a><a href="#bookmark1046">Practice</a></p><p class="s55" style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1040" class="s33">algorithmic architecture, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Algorithmic Architecture</span> <a href="#bookmark1042" class="s33">autonomic architecture, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Autonomic Architecture</span> <a href="#bookmark1047" class="s33">comparing, </a><a href="#bookmark1047">Comparing Identity Architectures</a></p><p class="s55" style="padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1336" class="s33">hybrid architecture, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Governance in a Hybrid Identity Ecosystem</span> <a href="#bookmark1050" class="s33">power and legitimacy in, </a><a href="#bookmark1050">Power and Legitimacy</a></p><p class="s55" style="padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1025" class="s33">role of power and authority in, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Digital Identity Architectures</span> <a href="#bookmark1027" class="s33">trust basis for identifiers, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The Trust Basis for Identifiers</span> <a href="#bookmark1033" class="s33">types of, </a><a href="#bookmark1033" class="a">Identity </a><a href="#bookmark1033">Architectures</a></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark768" class="s33">Digital Identity Research Initiative (DIRI), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Federated Identity—Leveraging Strong Relationships</span> <a href="#bookmark1104" class="s33">digital identity wallets, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Identity Wallets</span><a href="#bookmark1110" class="s33">-</a><a href="#bookmark1110" class="a">Identity </a><a href="#bookmark1110">Wallets</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark1209" class="s33">digital memories, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Digital Memories</span><a href="#bookmark1213" class="s33">-</a><a href="#bookmark1213">Digital Memories</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark238" class="s33">digital relationship lifecycle, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The Digital Relationship Lifecycle</span><a href="#bookmark250" class="s33">-</a><a href="#bookmark250" class="a">Lifecycle Planning</a> <span style=" color: #000;">(see also relationships)</span></p><p style="padding-top: 6pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark242" class="s33">co-creating phase, </a><a href="#bookmark242">Co-Creating</a></p><p class="s55" style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark239" class="s33">diagram of, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The Digital Relationship Lifecycle</span> <a href="#bookmark241" class="s33">discovery phase, </a><a href="#bookmark241">Discovering</a></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark340" class="s33">full lifecycle protection principle, </a><a href="#bookmark340" class="a">Principle 5: End-to-End Security—Full Lifecycle</a><a href="#bookmark340" class="s36"> </a><a href="#bookmark340">Protection</a></p><p class="s55" style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark245" class="s33">propagation phase, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Propagating</span> <a href="#bookmark249" class="s33">termination phase, </a><a href="#bookmark249">Terminating</a></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark248" class="s33">update or change phase, </a><a href="#bookmark248">Updating or Changing</a></p><p style="padding-top: 3pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark247" class="s33">use phase, </a><a href="#bookmark247">Using</a></p><p class="s55" style="padding-top: 10pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark423" class="s33">Digital Signature Algorithm (DSA), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Public-Key Cryptosystem Algorithms</span> <a href="#bookmark410" class="s33">digital signatures, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Public-Key Cryptography</span><a href="#bookmark446" class="s33">, </a><a href="#bookmark446">Digital Signatures</a></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark976" class="s33">digital wallets, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Holding Credentials</span><a href="#bookmark1134" class="s33">, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">What If I Lose My Phone?</span><a href="#bookmark1145" class="s33">-</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Censorship Resistance</span> <a href="#bookmark1176" class="s33">digital watermarks, </a><a href="#bookmark1176">Reciprocal Negotiated Accountability</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark1067" class="s33">digitally embodied, </a><a href="#bookmark1089" class="a">Administrative Identity Systems Create Anemic Relationships</a><a href="#bookmark1089" class="s33">, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Taking Our</span><a href="#bookmark1146" class="s36"> </a><a href="#bookmark1089" class="a">Rightful Place in the Digital Sphere</a><a href="#bookmark1099" class="s33">, </a><a href="#bookmark1089" class="a">Identity Wallets and Agents</a><a href="#bookmark1089" class="s33">, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Web3, Agents, and Digital</span><a href="#bookmark1146" class="s36"> </a><a href="#bookmark1146">Embodiment</a></p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark163" class="s33">directed identity, </a><a href="#bookmark929" class="a">Directed Identity</a><a href="#bookmark169" class="s33">-</a><a href="#bookmark929" class="a">Directed Identity</a><a href="#bookmark929" class="s33">, </a><a href="#bookmark929" class="a">Cryptographic Identifiers and the Laws of</a><a href="#bookmark929" class="s36"> </a><a href="#bookmark929" class="a">Identity</a><a href="#bookmark1355" class="s33">, </a><a href="#bookmark929" class="a">T</a><a href="#bookmark929">he Legitimacy of Identity Ecosystems</a></p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">directories</p><p class="s55" style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark562" class="s33">versus databases, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Directories are not databases</span> <a href="#bookmark557" class="s33">directory services, </a><a href="#bookmark557">Directories</a></p><p class="s55" style="padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark576" class="s33">heterarchical, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Heterarchical Directories</span><a href="#bookmark597" class="s33">-</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Using Blockchains for Discovery</span> <a href="#bookmark560" class="s33">hierarchical structure of, </a><a href="#bookmark560">Directories</a></p><p class="s55" style="padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark563" class="s33">Lightweight Directory Access Protocol (LDAP), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">LDAP</span> <a href="#bookmark581" class="s33">personal directories, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Personal Directories and Introductions</span> <a href="#bookmark525" class="s33">purpose of, </a><a href="#bookmark525">Names, Identifiers, and Discovery</a></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark527" class="s33">use case in, </a><a href="#bookmark530" class="a">Utah.gov: A Use Case in Naming and Directories</a><a href="#bookmark530" class="s33">-</a><a href="#bookmark530" class="a">Utah.gov: A Use Case in</a><a href="#bookmark530" class="s36"> </a><a href="#bookmark530">Naming and Directories</a></p><p class="s55" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark768" class="s33">DIRI (Digital Identity Research Initiative), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Federated Identity—Leveraging Strong Relationships</span> <span style=" color: #000;">discovery</span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><a href="#bookmark555" class="s33">characteristics of URIs, URLs, and URNs, </a><a href="#bookmark555">Discovery</a></p><p class="s55" style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark526" class="s33">definition of term, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Names, Identifiers, and Discovery</span> <a href="#bookmark557" class="s33">role of directories in, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Directories</span><a href="#bookmark564" class="s33">-</a><a href="#bookmark564">LDAP</a></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark587" class="s33">using blockchains for discovery, </a><a href="#bookmark597" class="a">Using Blockchains for Discovery</a><a href="#bookmark597" class="s33">-</a><a href="#bookmark597" class="a">Using Blockchains for</a><a href="#bookmark597" class="s36"> </a><a href="#bookmark597">Discovery</a></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark569" class="s33">using WebFinger, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">WebFinger</span><a href="#bookmark575" class="s33">-</a><a href="#bookmark575">WebFinger</a></p><p style="padding-top: 10pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark241" class="s33">discovery phase (digital relationship lifecycle), </a><a href="#bookmark241">Discovering</a></p><p class="s55" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark723" class="s33">discretionary access control (DAC), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Mandatory and Discretionary Access Control</span> <a href="#bookmark1080" class="s33">disintermediating platforms, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Disintermediating Platforms</span><a href="#bookmark1081" class="s33">-</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Disintermediating Platforms</span> <a href="#bookmark454" class="s33">Distinguished Encoding Rules (DER), </a><a href="#bookmark454">Digital Certificates</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark583" class="s33">distributed hash tables (DHT), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Distributed Hash Tables</span><a href="#bookmark586" class="s33">-</a><a href="#bookmark586">Distributed Hash Tables</a></p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark92" class="s33">distributed systems, </a><a href="#bookmark100" class="a">Reimagining Decentralized and Distributed</a><a href="#bookmark100" class="s33">-</a><a href="#bookmark100" class="a">Reimagining Decentralized and</a><a href="#bookmark100" class="s36"> </a><a href="#bookmark100">Distributed</a></p><p class="s55" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark565" class="s33">Domain Name System (DNS), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Domain Name System</span><a href="#bookmark577" class="s33">, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Heterarchical Directories</span> <a href="#bookmark1348" class="s33">domain-specific trust frameworks, </a><a href="#bookmark1348">Domain-Specific Trust Frameworks</a></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark460" class="s33">domain-validation certificates, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Certificate Authorities</span> <span style=" color: #000;">domains</span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><a href="#bookmark537" class="s33">basics of namespaces, </a><a href="#bookmark537">Namespaces</a></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark536" class="s33">domain names, </a><a href="#bookmark536">Naming</a></p><p style="padding-top: 10pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark952" class="s33">driver&#39;s licenses, </a><a href="#bookmark952">The Nature of Credentials</a></p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark423" class="s33">DSA (Digital Signature Algorithm), </a><a href="#bookmark423">Public-Key Cryptosystem Algorithms</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 4pt;padding-left: 8pt;text-indent: 0pt;text-align: left;"><span class="s442" style=" background-color: #EFEFEF;">E                                                                                                                                         </span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark755" class="s33">effect (in XACML policies), </a><a href="#bookmark755">Representing and Managing Access Control Policies</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark424" class="s33">Elliptic Curve Digital Signature Algorithm (ECDSA), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Public-Key Cryptosystem Algorithms</span> <span style=" color: #000;">email systems</span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><a href="#bookmark229" class="s33">continued use of, </a><a href="#bookmark229">Transactional and Interactional Relationships</a></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark878" class="s33">email-based identifiers, </a><a href="#bookmark878">The Problem with Email-Based Identifiers</a></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark226" class="s33">interactional nature of, </a><a href="#bookmark1075" class="a">Transactional and Interactional Relationships</a><a href="#bookmark1075" class="s33">, </a><a href="#bookmark1075" class="a">Alternatives to</a><a href="#bookmark1075" class="s36"> </a><a href="#bookmark1075">Transactional Relationships</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark337" class="s33">embedded principle, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Principle 3: Privacy Embedded into Design</span> <a href="#bookmark1090" class="s33">embodied agents, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Taking Our Rightful Place in the Digital Sphere</span> <a href="#bookmark1101" class="s33">embodied experience, </a><a href="#bookmark1101">Identity Wallets and Agents</a></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark137" class="s33">encapsulating protocols, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">An Identity Metasystem</span><a href="#bookmark1162" class="s33">, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Smart Identity Agents</span> <a href="#bookmark400" class="s33">encryption, </a><a href="#bookmark400">Integrity, Nonrepudiation, and Confidentiality</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark340" class="s33">end-to-end security, </a><a href="#bookmark340">Principle 5: End-to-End Security—Full Lifecycle Protection</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">enforcement</p><p class="s55" style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark720" class="s33">access control policies and, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Accountability Scales Better Than Enforcement</span> <a href="#bookmark1291" class="s33">enforceability of identity policies, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Attributes of a Good Identity Policy</span><a href="#bookmark1310" class="s33">, </a><a href="#bookmark1310">Enforcement</a></p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark610" class="s33">enrollment, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Enrollment</span><a href="#bookmark615" class="s33">-</a><a href="#bookmark615">Attribute Collection</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1204" class="s33">enterprise agents, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Operationalizing Digital Relationships</span> <a href="#bookmark43" class="s33">entities, definition of term, </a><a href="#bookmark43">The Language of Digital Identity</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark63" class="s33">entitlements, definition of term, </a><a href="#bookmark63">The Language of Digital Identity</a></p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark739" class="s33">eXtensible Access Control Markup Language (XACML), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Attribute- and Policy-Based Access</span><a href="#bookmark759" class="s36"> </a><a href="#bookmark739" class="a">Control</a><a href="#bookmark751" class="s33">, </a><a href="#bookmark739" class="a">Representing and Managing Access Control Policies</a><a href="#bookmark739" class="s33">-</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Representing and Managing</span><a href="#bookmark759" class="s36"> </a><a href="#bookmark759">Access Control Policies</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 4pt;padding-left: 8pt;text-indent: 0pt;text-align: left;"><span class="s442" style=" background-color: #EFEFEF;">F                                                                                                                                         </span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: justify;"><a href="#bookmark489" class="s33">fake proofs, </a><a href="#bookmark489">Noninteractive ZKPs</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: justify;"><a href="#bookmark663" class="s33">Fast Identity Online (FIDO), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">FIDO authentication</span><a href="#bookmark687" class="s33">, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The Authentication Pyramid</span> <a href="#bookmark442" class="s33">Federal Information Processing Standards (FIPS), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Message Digests and Hashes</span> <span style=" color: #000;">federated identity systems (see also identity systems)</span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 12pt;text-align: justify;"><a href="#bookmark766" class="s33">Aadhaar, </a><a href="#bookmark766">Federated Identity—Leveraging Strong Relationships</a></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark776" class="s33">advantages of, </a><a href="#bookmark776">The Nature of Federated Identity</a></p><p class="s55" style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark784" class="s33">credit card industry and, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Federation in the Credit Card Industry</span> <a href="#bookmark197" class="s33">drawbacks of, </a><a href="#bookmark197">Identity Niches</a></p><p class="s55" style="padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark777" class="s33">federated versus centralized identity, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The Nature of Federated Identity</span> <a href="#bookmark804" class="s33">federation methods and standards, </a><a href="#bookmark804">Federation Methods and Standards</a></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark785" class="s33">federation patterns, </a><a href="#bookmark800" class="a">Three Federation Patterns</a><a href="#bookmark800" class="s33">-</a><a href="#bookmark800" class="a">Identity networks are more complicated than</a><a href="#bookmark800" class="s36"> </a><a href="#bookmark800">financial networks</a></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark862" class="s33">governing federation, </a><a href="#bookmark862">Governing Federation</a></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark1321" class="s33">importance of good policy in, </a><a href="#bookmark1321">Governing Administrative Identity Systems</a></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark802" class="s33">network effects and digital identity management, </a><a href="#bookmark802" class="a">Network Effects and Digital Identity</a><a href="#bookmark802" class="s36"> </a><a href="#bookmark802">Management</a></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark833" class="s33">OAuth, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">OAuth</span><a href="#bookmark857" class="s33">-</a><a href="#bookmark857">Using a token</a></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark858" class="s33">OpenID Connect, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">OpenID Connect</span><a href="#bookmark863" class="s33">-</a><a href="#bookmark863">OpenID Connect</a></p><p style="padding-top: 3pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark199" class="s33">relationship integrity in, </a><a href="#bookmark199">Relationship Integrity</a></p><p class="s55" style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark805" class="s33">SAML (Security Assertion Markup Language), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">SAML</span><a href="#bookmark826" class="s33">-</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">SAML Authentication Flow</span> <a href="#bookmark827" class="s33">SCIM (System for Cross-domain Identity Management), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">SCIM</span><a href="#bookmark831" class="s33">-</a><a href="#bookmark831">SCIM</a></p><p class="s55" style="padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark782" class="s33">single sign-on versus, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">SSO Versus Federation</span> <a href="#bookmark801" class="s33">trust and, </a><a href="#bookmark801">Addressing the Problem of Trust</a></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark1303" class="s33">feedback mechanisms, </a><a href="#bookmark1303">Feedback on Existing Policies</a></p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark261" class="s33">fidelity, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Fidelity and Provenance</span><a href="#bookmark458" class="s33">, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Certificate Authorities</span><a href="#bookmark961" class="s33">, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Credential Exchange Transfers Trust</span><a href="#bookmark1052" class="s33">, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Power and Legitimacy</span><a href="#bookmark1339" class="s33">, </a><a href="#bookmark1339">Credential Fidelity and Confidence</a></p><p class="s55" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark663" class="s33">FIDO (Fast Identity Online), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">FIDO authentication</span><a href="#bookmark687" class="s33">, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The Authentication Pyramid</span> <span style=" color: #000;">filesystems</span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><a href="#bookmark539" class="s33">hierarchy of, </a><a href="#bookmark539">Namespaces</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 24pt;line-height: 178%;text-align: left;"><a href="#bookmark542" class="s33">leaves and nodes in, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Namespaces</span> <a href="#bookmark570" class="s33">finger command, </a><a href="#bookmark570">WebFinger</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 13pt;text-align: left;"><a href="#bookmark442" class="s33">FIPS (Federal Information Processing Standards), </a><a href="#bookmark442">Message Digests and Hashes</a></p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark1251" class="s33">firmware updates, </a><a href="#bookmark1251">Use Case 1: Updating Firmware</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark115" class="s33">flexibility problem, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The Flexibility Problem</span><a href="#bookmark183" class="s33">, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Fixing the Problems of Identity</span> <a href="#bookmark844" class="s33">flows (in OAuth), </a><a href="#bookmark844">Getting a token</a></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark983" class="s33">full credential presentations, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Full Credential Presentation</span><a href="#bookmark984" class="s33">-</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Full Credential Presentation</span> <a href="#bookmark338" class="s33">full functionality approach, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Principle 4: Full Functionality—Positive-Sum, Not Zero-Sum</span> <a href="#bookmark340" class="s33">full lifecycle protection, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Principle 5: End-to-End Security—Full Lifecycle Protection</span> <a href="#bookmark325" class="s33">functional privacy, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Functional Privacy</span><a href="#bookmark332" class="s33">-</a><a href="#bookmark332">Functional Privacy</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark1227" class="s33">Fuse, </a><a href="#bookmark1245" class="a">Using OAuth with Devices</a><a href="#bookmark1232" class="s33">, </a><a href="#bookmark1245" class="a">Where’s the owner?</a><a href="#bookmark1245" class="s33">, </a><a href="#bookmark1245" class="a">Alternatives to the CompuServe of</a><a href="#bookmark1245" class="s36"> </a><a href="#bookmark1245">Things</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 4pt;padding-left: 8pt;text-indent: 0pt;text-align: left;"><span class="s442" style=" background-color: #EFEFEF;">G                                                                                                                                         </span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark355" class="s33">General Data Protection Regulation (GDPR), </a><a href="#bookmark367" class="a">General Data Protection Regulation</a><a href="#bookmark367" class="s33">-</a><a href="#bookmark367" class="a">California</a><a href="#bookmark367" class="s36"> </a><a href="#bookmark367">Consumer Privacy Act</a></p><p class="s55" style="padding-top: 6pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark365" class="s33">versus California Consumer Privacy Act, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">California Consumer Privacy Act</span> <a href="#bookmark364" class="s33">complying with, </a><a href="#bookmark364">General Data Protection Regulation</a></p><p class="s55" style="padding-top: 3pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark358" class="s33">principles for processing personal data, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">General Data Protection Regulation</span> <a href="#bookmark360" class="s33">privacy rights, </a><a href="#bookmark360">General Data Protection Regulation</a></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark356" class="s33">terminology used in, </a><a href="#bookmark356">General Data Protection Regulation</a></p><p class="s55" style="padding-top: 10pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1131" class="s33">general data transfer pattern, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Revisiting the Generalized Authentic Data Transfer Pattern</span> <span style=" color: #000;">generative identity</span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><a href="#bookmark1395" class="s33">characteristic of credential exchange, </a><a href="#bookmark1395">Generative Identity</a></p><p class="s55" style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1369" class="s33">complexities of identity, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Generative Identity</span> <a href="#bookmark1385" class="s33">criteria for generative systems, </a><a href="#bookmark1385">Generativity</a></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark1382" class="s33">generativity defined, </a><a href="#bookmark1382">The Self-Sovereign Identity Metasystem</a></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark1396" class="s33">generativity of credential exchange, </a><a href="#bookmark1396">The Generativity of Credential Exchange</a></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark1378" class="s33">self-sovereign identity (SSI) metasystem, </a><a href="#bookmark1384" class="a">The Self-Sovereign Identity Metasystem</a><a href="#bookmark1384" class="s33">-</a><a href="#bookmark1384" class="a">The</a><a href="#bookmark1384" class="s36"> </a><a href="#bookmark1384" class="a">Self-Sovereign Identity Metasystem</a><a href="#bookmark1400" class="s33">, </a><a href="#bookmark1384" class="a">O</a><a href="#bookmark1384">ur Digital Future</a></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark1386" class="s33">self-sovereign internet, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The Self-Sovereign Internet</span><a href="#bookmark1394" class="s33">-</a><a href="#bookmark1394">Accessibility</a></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark1371" class="s33">social login metasystem, </a><a href="#bookmark1400" class="a">The Social Login Metasystem</a><a href="#bookmark1377" class="s33">-</a><a href="#bookmark1400" class="a">The Social Login Metasystem</a><a href="#bookmark1400" class="s33">, </a><a href="#bookmark1400" class="a">Our</a><a href="#bookmark1400" class="s36"> </a><a href="#bookmark1400">Digital Future</a></p><p class="s55" style="padding-top: 7pt;padding-left: 5pt;text-indent: 24pt;line-height: 174%;text-align: left;"><a href="#bookmark1397" class="s33">SSI and generativity, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Self-Sovereign Identity and Generativity</span> <a href="#bookmark791" class="s33">GOV.UK Verify, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Pattern 2: Hub-and-Spoke Federation</span> <span style=" color: #000;">governance (see also identity ecosystems)</span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 11pt;text-align: left;"><a href="#bookmark1300" class="s33">considerations for identity policies, </a><a href="#bookmark1300">Information Governance</a></p><p class="s55" style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark268" class="s33">long-term viability and, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Trust Frameworks</span> <a href="#bookmark265" class="s33">role in provenance, </a><a href="#bookmark265">Fidelity and Provenance</a></p><p class="s55" style="padding-left: 5pt;text-indent: 24pt;line-height: 178%;text-align: left;"><a href="#bookmark1286" class="s33">running effective and secure ID systems through, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Identity Policies</span> <a href="#bookmark1345" class="s33">governance authorities, </a><a href="#bookmark1345">Credential Provenance and Trust</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 13pt;text-align: left;"><a href="#bookmark1346" class="s33">governance frameworks, </a><a href="#bookmark1346">Credential Provenance and Trust</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark373" class="s33">Gramm-Leach-Bliley Act, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Other Regulatory Efforts</span> <span style=" color: #000;">groups</span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><a href="#bookmark728" class="s33">in access control, </a><a href="#bookmark728">User-Based Permission Systems</a></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark828" class="s33">in SCIM identity management, </a><a href="#bookmark828">SCIM</a></p><p style="padding-top: 3pt;padding-left: 8pt;text-indent: 0pt;text-align: left;"><span class="s442" style=" background-color: #EFEFEF;">H                                                                                                                                         </span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark434" class="s33">hashes, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Message Digests and Hashes</span><a href="#bookmark445" class="s33">-</a><a href="#bookmark445">Message Digests and Hashes</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark371" class="s33">Health Information Portability and Accountability Act (HIPAA), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Other Regulatory Efforts</span> <span style=" color: #000;">heterarchical directories</span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><a href="#bookmark583" class="s33">distributed hash tables (DHT), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Distributed Hash Tables</span><a href="#bookmark586" class="s33">-</a><a href="#bookmark586">Distributed Hash Tables</a></p><p class="s55" style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark576" class="s33">drawbacks of hierarchical systems, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Heterarchical Directories</span> <a href="#bookmark581" class="s33">personal directories and, </a><a href="#bookmark581">Personal Directories and Introductions</a></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark587" class="s33">using blockchains for discovery, </a><a href="#bookmark597" class="a">Using Blockchains for Discovery</a><a href="#bookmark597" class="s33">-</a><a href="#bookmark597" class="a">Using Blockchains for</a><a href="#bookmark597" class="s36"> </a><a href="#bookmark597">Discovery</a></p><p style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark97" class="s33">heterarchical systems, </a><a href="#bookmark97">Reimagining Decentralized and Distributed</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark98" class="s33">hierarchical systems, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Reimagining Decentralized and Distributed</span><a href="#bookmark578" class="s33">, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Heterarchical Directories</span> <a href="#bookmark627" class="s33">HMAC-based One-Time Password (HOTP), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Possession Factor: Something You Have</span> <a href="#bookmark968" class="s33">holder-subject relationship, </a><a href="#bookmark968">Verifiable Credentials</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark571" class="s33">HTTP (Hypertext Transfer Protocol), </a><a href="#bookmark571">WebFinger</a></p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark771" class="s33">hub-and-spoke identity federation, </a><a href="#bookmark790" class="a">Federated Identity—Leveraging Strong Relationships</a><a href="#bookmark790" class="s33">, </a><a href="#bookmark790" class="a">Pattern</a><a href="#bookmark790" class="s36"> </a><a href="#bookmark790" class="a">2: Hub-and-Spoke Federation</a><a href="#bookmark796" class="s33">-</a><a href="#bookmark790" class="a">P</a><a href="#bookmark790">attern 2: Hub-and-Spoke Federation</a></p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark1166" class="s33">human dignity, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Self-Sovereign Authority</span><a href="#bookmark1356" class="s33">, </a><a href="#bookmark1356">The Legitimacy of Identity Ecosystems</a></p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark172" class="s33">human integration, </a><a href="#bookmark1357" class="a">Human Integration</a><a href="#bookmark931" class="s33">, </a><a href="#bookmark1357" class="a">Cryptographic Identifiers and the Laws of Identity</a><a href="#bookmark1357" class="s33">, </a><a href="#bookmark1357" class="a">The</a><a href="#bookmark1357" class="s36"> </a><a href="#bookmark1357">Legitimacy of Identity Ecosystems</a></p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark1336" class="s33">hybrid architectures, </a><a href="#bookmark1337" class="a">Governance in a Hybrid Identity Ecosystem</a><a href="#bookmark1337" class="s33">-</a><a href="#bookmark1337" class="a">Governance in a Hybrid</a><a href="#bookmark1337" class="s36"> </a><a href="#bookmark1337">Identity Ecosystem</a></p><p class="s55" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark416" class="s33">hybrid cryptosystems, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Hybrid Key Systems</span> <a href="#bookmark414" class="s33">hybrid key cryptography, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Hybrid Key Systems</span> <a href="#bookmark1197" class="s33">Hyperledger Aries project, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Protocological Power</span> <a href="#bookmark965" class="s33">Hyperledger Foundation, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Verifiable Credentials</span> <a href="#bookmark571" class="s33">Hypertext Transfer Protocol (HTTP), </a><a href="#bookmark571">WebFinger</a></p><p style="padding-top: 6pt;padding-left: 8pt;text-indent: 0pt;text-align: left;"><span class="s442" style=" background-color: #EFEFEF;">I                                                                                                                                          </span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">IAM (see identity and access management)</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark299" class="s33">ICMP (Internet Control Message Protocol), </a><a href="#bookmark299">What Is Privacy?</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark406" class="s33">IDEA (International Data Encryption Algorithm), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Secret Key Cryptography</span> <span style=" color: #000;">identifiers (see also cryptographic identifiers)</span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><a href="#bookmark990" class="s33">blinded identifiers, </a><a href="#bookmark990">Correlation and blinded identifiers</a></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark552" class="s33">desirable properties for, </a><a href="#bookmark552">Zooko’s Triangle</a></p><p class="s55" style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark641" class="s33">identifier and authentication factors, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Identifier and Authentication Factors</span><a href="#bookmark656" class="s33">-</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Biometric factors</span> <a href="#bookmark638" class="s33">identifier only authentication, </a><a href="#bookmark638">Identifier Only</a></p><p class="s55" style="padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark53" class="s33">and identity systems, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The Language of Digital Identity</span> <a href="#bookmark535" class="s33">versus names, </a><a href="#bookmark535">Naming</a></p><p class="s55" style="padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark876" class="s33">role of context in, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Cryptographic Identifiers</span> <a href="#bookmark1027" class="s33">trust basis for, </a><a href="#bookmark1027">The Trust Basis for Identifiers</a></p><p style="text-indent: 0pt;text-align: left;"><span><img width="45" height="1" alt="image" src="Image_589.png"/></span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark545" class="s33">URIs and URLs, </a><a href="#bookmark549" class="a">Uniform Resource Identifiers: A universal namespace</a><a href="#bookmark549" class="s33">-</a><a href="#bookmark549" class="a">Cool URIs don’t</a><a href="#bookmark549" class="s36"> change</a></p><p style="text-indent: 0pt;text-align: left;"><span><img width="167" height="1" alt="image" src="Image_590.png"/></span></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark550" class="s33">URNs, </a><a href="#bookmark550" class="s36">Uniform Resource Names</a></p><p class="s55" style="padding-top: 10pt;padding-left: 29pt;text-indent: -24pt;line-height: 163%;text-align: left;"><a href="#bookmark1369" class="s33">identity (see also digital identity; relationships) complexities of, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Generative Identity</span> <a href="#bookmark37" class="s33">definition of term, </a><a href="#bookmark37">Defining Digital Identity</a></p><p class="s55" style="padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark12" class="s33">dual nature of, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The Nature of Identity</span><a href="#bookmark16" class="s33">-</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">A Bundle of Sticks?</span> <a href="#bookmark17" class="s33">importance of, </a><a href="#bookmark17">Identity Is Bigger Than You Think</a></p><p class="s55" style="padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark144" class="s33">Laws of Identity, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The Laws of Identity</span><a href="#bookmark176" class="s33">-</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Consistent Experience Across Contexts</span> <a href="#bookmark47" class="s33">preferred use of term, </a><a href="#bookmark47">The Language of Digital Identity</a></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark78" class="s33">tiers of identity, </a><a href="#bookmark78">Tiers of Identity</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 24pt;line-height: 178%;text-align: left;"><a href="#bookmark24" class="s33">universal identity systems, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">No Universal Identity Systems</span><a href="#bookmark109" class="s33">, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The Problems of Digital Identity</span> <a href="#bookmark1118" class="s33">identity agents, </a><a href="#bookmark1118">The Roles of Agents</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 13pt;text-align: left;">identity and access management (IAM)</p><p class="s55" style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark18" class="s33">growth of industry, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Identity Is Bigger Than You Think</span> <a href="#bookmark222" class="s33">shortcomings of, </a><a href="#bookmark222">Relationship Utility</a></p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark196" class="s33">identity data, </a><a href="#bookmark196">Identity Niches</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark23" class="s33">identity documents, </a><a href="#bookmark171" class="a">Identity Is Bigger Than You Think</a><a href="#bookmark171" class="s33">, </a><a href="#bookmark171" class="a">Pluralism of Operators and</a><a href="#bookmark171" class="s36"> </a><a href="#bookmark171">Technologies</a></p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">identity ecosystems</p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark1319" class="s33">governing administrative identity systems, </a><a href="#bookmark1319">Governing Administrative Identity Systems</a></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark1325" class="s33">governing algorithmic identity systems, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Governing Algorithmic Identity Systems</span>-</p><p style="padding-top: 1pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark1334">Governing Algorithmic Identity Systems</a></p><p class="s55" style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1323" class="s33">governing autonomic identity systems, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Governing Autonomic Identity Systems</span> <a href="#bookmark1317" class="s33">governing decentralized systems, </a><a href="#bookmark1317">Governing Identity Ecosystems</a></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark1336" class="s33">governing hybrid identity systems, </a><a href="#bookmark1337" class="a">Governance in a Hybrid Identity Ecosystem</a><a href="#bookmark1337" class="s33">-</a><a href="#bookmark1337" class="a">Governance</a><a href="#bookmark1337" class="s36"> </a><a href="#bookmark1337">in a Hybrid Identity Ecosystem</a></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark1338" class="s33">governing individual identity systems, </a><a href="#bookmark1351" class="a">Governing Individual Identity Ecosystems</a><a href="#bookmark1351" class="s33">-</a><a href="#bookmark1351">Domain-</a></p><p style="padding-top: 1pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark1351">Specific Trust Frameworks</a></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark1352" class="s33">legitimacy of, </a><a href="#bookmark1352">The Legitimacy of Identity Ecosystems</a></p><p style="padding-top: 10pt;padding-left: 5pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark797" class="s33">identity federation networks, </a><a href="#bookmark800" class="a">Pattern 3: Identity Federation Network</a><a href="#bookmark800" class="s33">-</a><a href="#bookmark800" class="a">Identity networks are more</a><a href="#bookmark800" class="s36"> </a><a href="#bookmark800">complicated than financial networks</a></p><p class="s55" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1322" class="s33">identity governance and administration (IGA), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Governing Administrative Identity Systems</span> <span style=" color: #000;">identity metasystems (see also self-sovereign identity; social login)</span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><a href="#bookmark136" class="s33">benefits of, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The Laws of Digital Identity</span><a href="#bookmark143" class="s33">-</a><a href="#bookmark143">An Identity Metasystem</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 24pt;line-height: 174%;text-align: left;"><a href="#bookmark1001" class="s33">properties of, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">VC Ecosystems</span> <a href="#bookmark195" class="s33">identity niches, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Identity Niches</span> <span style=" color: #000;">identity policies</span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 11pt;text-align: left;"><a href="#bookmark1309" class="s33">assessing, </a><a href="#bookmark1309">Assessing Identity Policies</a></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark1290" class="s33">attributes of good, </a><a href="#bookmark1290">Attributes of a Good Identity Policy</a></p><p class="s55" style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1295" class="s33">determining policy needs, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Determining Policy Needs</span><a href="#bookmark1304" class="s33">-</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Feedback on Existing Policies</span> <a href="#bookmark1310" class="s33">enforcing, </a><a href="#bookmark1310">Enforcement</a></p><p class="s55" style="padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1287" class="s33">policies versus standards, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Policies and Standards</span> <a href="#bookmark1288" class="s33">policy stack, </a><a href="#bookmark1288">The Policy Stack</a></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark1312" class="s33">versus procedures, </a><a href="#bookmark1312">Procedures</a></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark1293" class="s33">reflecting and referencing decisions, </a><a href="#bookmark1293">Recording Decisions</a></p><p class="s55" style="padding-top: 3pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1307" class="s33">reviewing, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The Policy Review Framework</span> <a href="#bookmark1305" class="s33">writing, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Writing Identity Policies</span><a href="#bookmark1308" class="s33">-</a><a href="#bookmark1308">Policy Outline</a></p><p style="text-indent: 0pt;text-align: left;"><span><img width="109" height="1" alt="image" src="Image_591.png"/></span></p><p class="s55" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark612" class="s33">identity proofing, </a>Identity Proofing <span style=" color: #000;">identity providers (IdP)</span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="140" height="1" alt="image" src="Image_592.png"/></span></p><p class="s55" style="padding-left: 29pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><a href="#bookmark200" class="s33">in federated identity systems, </a>Relationship Integrity<a href="#bookmark779" class="s33">, </a><a href="#bookmark779">The Nature of Federated Identity</a></p><p class="s55" style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark772" class="s33">hub-and-spoke federation pattern, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Federated Identity—Leveraging Strong Relationships</span> <a href="#bookmark54" class="s33">in identity systems, </a><a href="#bookmark54">The Language of Digital Identity</a></p><p class="s55" style="padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark126" class="s33">scale problem, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The Scale Problem</span> <a href="#bookmark223" class="s33">shortcomings of, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Relationship Utility</span> <a href="#bookmark83" class="s33">in social login, </a><a href="#bookmark83">Locus of Control</a></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark44" class="s33">identity records, definition of term, </a><a href="#bookmark44">The Language of Digital Identity</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark68" class="s33">identity scenarios, in physical world, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Identity Scenarios in the Physical World</span> <span style=" color: #000;">identity systems (see also federated identity systems)</span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><a href="#bookmark113" class="s33">administrative identity systems, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The Proximity Problem</span><a href="#bookmark132" class="s33">, </a><a href="#bookmark132">The Laws of Digital Identity</a></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark136" class="s33">benefits of metasystems, </a><a href="#bookmark1400" class="a">The Laws of Digital Identity</a><a href="#bookmark143" class="s33">-</a><a href="#bookmark1400" class="a">An Identity Metasystem</a><a href="#bookmark1400" class="s33">, </a><a href="#bookmark1400" class="a">Our Digital</a><a href="#bookmark1400" class="s36"> </a><a href="#bookmark1400">Future</a></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark92" class="s33">decentralized versus distributed systems, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Reimagining Decentralized and Distributed</span>-</p><p class="s55" style="padding-top: 1pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Reimagining Decentralized and Distributed</span> <a href="#bookmark38" class="s33">definition of term, </a><a href="#bookmark38">Defining Digital Identity</a></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark81" class="s33">degrees of autonomy in, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Locus of Control</span><a href="#bookmark90" class="s33">-</a><a href="#bookmark90">Locus of Control</a></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark24" class="s33">lack of universal, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">No Universal Identity Systems</span><a href="#bookmark109" class="s33">, </a><a href="#bookmark109">The Problems of Digital Identity</a></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark144" class="s33">Laws of Identity and, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The Laws of Identity</span><a href="#bookmark176" class="s33">-</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Consistent Experience Across Contexts</span>,</p><p style="padding-top: 1pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark925">Cryptographic Identifiers and the Laws of Identity</a></p><p class="s55" style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark51" class="s33">process outline of, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The Language of Digital Identity</span><a href="#bookmark67" class="s33">-</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The Language of Digital Identity</span> <a href="#bookmark224" class="s33">scope of, </a><a href="#bookmark224">Relationship Utility</a></p><p style="text-indent: 0pt;text-align: left;"><span><img width="108" height="1" alt="image" src="Image_593.png"/></span></p><p class="s55" style="padding-left: 5pt;text-indent: 24pt;line-height: 178%;text-align: left;"><a href="#bookmark84" class="s33">user-centered, </a>Locus of Control <span style=" color: #000;">identity wallets and agents</span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="178" height="1" alt="image" src="Image_594.png"/></span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 11pt;text-align: left;"><a href="#bookmark1100" class="s33">benefits of digital embodiment, </a><a href="#bookmark1100" class="s36">Identity Wallets and Agents</a></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark1104" class="s33">digital identity wallets, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Identity Wallets</span><a href="#bookmark1110" class="s33">-</a><a href="#bookmark1110">Identity Wallets</a></p><p class="s55" style="padding-top: 3pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1146" class="s33">future of, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Web3, Agents, and Digital Embodiment</span> <a href="#bookmark1113" class="s33">platform wallets, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Platform Wallets</span><a href="#bookmark1116" class="s33">-</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Platform Wallets</span> <a href="#bookmark1120" class="s33">properties of, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Properties of Wallets and Agents</span> <a href="#bookmark1118" class="s33">roles of identity agents, </a><a href="#bookmark1118">The Roles of Agents</a></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark1122" class="s33">SSI interaction patterns, </a><a href="#bookmark1135" class="a">SSI Interaction Patterns</a><a href="#bookmark1135" class="s33">-</a><a href="#bookmark1135" class="a">Revisiting the Generalized Authentic Data</a><a href="#bookmark1135" class="s36"> </a><a href="#bookmark1135">Transfer Pattern</a></p><p class="s55" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1322" class="s33">IGA (identity governance and administration), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Governing Administrative Identity Systems</span> <span style=" color: #000;">IIW (see Internet Identity Workshop)</span></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark228" class="s33">IMAP (Internet Mail Access Protocol), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Transactional and Interactional Relationships</span> <a href="#bookmark849" class="s33">implicit grant flow, </a><a href="#bookmark849">Getting a token</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark897" class="s33">indirection, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Indirection and Key Rotation</span><a href="#bookmark900" class="s33">-</a><a href="#bookmark900">Indirection and Key Rotation</a></p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark1338" class="s33">individual identity systems, governing, </a><a href="#bookmark1351" class="a">Governing Individual Identity Ecosystems</a><a href="#bookmark1351" class="s33">-</a><a href="#bookmark1351">Domain-</a></p><p class="s55" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Specific Trust Frameworks</span> <a href="#bookmark429" class="s33">information entropy, </a><a href="#bookmark429">Key Generation</a></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1300" class="s33">information governance, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Information Governance</span> <a href="#bookmark480" class="s33">information leakage, </a><a href="#bookmark480">Zero-Knowledge Proofs</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark296" class="s33">information privacy, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">What Is Privacy?</span><a href="#bookmark306" class="s33">, </a><a href="#bookmark306">Information Privacy</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark631" class="s33">inherence factor, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Inherence Factor: Something You Are</span><a href="#bookmark655" class="s33">, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Biometric factors</span> <a href="#bookmark277" class="s33">institutional coherence, </a><a href="#bookmark277">Coherence and Social Systems</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark395" class="s33">integrity, </a><a href="#bookmark395">Integrity, Nonrepudiation, and Confidentiality</a></p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark225" class="s33">interactional relationships, </a><a href="#bookmark230" class="a">Transactional and Interactional Relationships</a><a href="#bookmark230" class="s33">-</a><a href="#bookmark230" class="a">Transactional and</a><a href="#bookmark230" class="s36"> </a><a href="#bookmark230" class="a">Interactional Relationships</a><a href="#bookmark1074" class="s33">, </a><a href="#bookmark230" class="a">A</a><a href="#bookmark230">lternatives to Transactional Relationships</a></p><p class="s55" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark406" class="s33">International Data Encryption Algorithm (IDEA), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Secret Key Cryptography</span> <a href="#bookmark299" class="s33">Internet Control Message Protocol (ICMP), </a><a href="#bookmark299">What Is Privacy?</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark6" class="s33">Internet Identity Workshop (IIW), </a><a href="#bookmark769" class="a">Preface</a><a href="#bookmark173" class="s33">, </a><a href="#bookmark769" class="a">Human Integration</a><a href="#bookmark769" class="s33">, </a><a href="#bookmark769" class="a">Federated Identity—Leveraging</a><a href="#bookmark769" class="s36"> </a><a href="#bookmark769">Strong Relationships</a></p><p class="s55" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark228" class="s33">Internet Mail Access Protocol (IMAP), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Transactional and Interactional Relationships</span> <span style=" color: #000;">Internet of Things (IoT)</span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><a href="#bookmark1222" class="s33">access control for devices, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Access Control for Devices</span><a href="#bookmark1234" class="s33">-</a><a href="#bookmark1234">Magically working together</a></p><p class="s55" style="padding-top: 3pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark214" class="s33">ephemeral relationships in, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Relationship Life Span</span> <a href="#bookmark1220" class="s33">identity on, </a><a href="#bookmark1220">Identity on the Internet of Things</a></p><p class="s55" style="padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1235" class="s33">need for rich connections, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The CompuServe of Things</span><a href="#bookmark1239" class="s33">-</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">A Real, Open Internet of Things</span> <a href="#bookmark1262" class="s33">relationships in SSIoT, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Relationships in the SSIoT</span><a href="#bookmark1269" class="s33">-</a><a href="#bookmark1269">Selling the Truck</a></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark1241" class="s33">self-sovereign Internet of Things (SSIoT), </a><a href="#bookmark1261" class="a">Alternatives to the CompuServe of Things</a><a href="#bookmark1261" class="s33">-</a><a href="#bookmark1261" class="a">Use</a><a href="#bookmark1261" class="s36"> </a><a href="#bookmark1261">Case 3: Real Customer Service</a></p><p class="s55" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark123" class="s33">interoperability problem, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The Interoperability Problem</span><a href="#bookmark187" class="s33">, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Fixing the Problems of Identity</span> <a href="#bookmark1065" class="s33">interpretive labor, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Administrative Identity Systems Create Anemic Relationships</span> <a href="#bookmark205" class="s33">intervening administrative authorities, </a><a href="#bookmark205">Relationship Integrity</a></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark582" class="s33">introduction pattern, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Personal Directories and Introductions</span> <a href="#bookmark532" class="s33">IP addresses, </a><a href="#bookmark532">Naming</a></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark435" class="s33">irreversibility, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Message Digests and Hashes</span> <a href="#bookmark412" class="s33">irreversible key systems, </a><a href="#bookmark412">Public-Key Cryptography</a></p><p style="padding-top: 6pt;padding-left: 8pt;text-indent: 0pt;text-align: left;"><span class="s442" style=" background-color: #EFEFEF;">J                                                                                                                                         </span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark895" class="s33">JavaScript Object Notation for Linking Data (JSON-LD), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">DID Documents</span> <a href="#bookmark572" class="s33">JSON Resource Descriptor (JRD), </a><a href="#bookmark572">WebFinger</a></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1192" class="s33">JSON Web Message (JWM) specification, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Message Formats</span> <a href="#bookmark859" class="s33">JSON Web Token (JWT), </a><a href="#bookmark859">OpenID Connect</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark752" class="s33">JSON-based access policies, </a><a href="#bookmark752">Representing and Managing Access Control Policies</a></p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark157" class="s33">justifiable parties, </a><a href="#bookmark321" class="a">Justifiable Parties</a><a href="#bookmark162" class="s33">-</a><a href="#bookmark321" class="a">Justifiable Parties</a><a href="#bookmark321" class="s33">, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Privacy, Authenticity, and</span><a href="#bookmark928" class="s36"> </a><a href="#bookmark321" class="a">Confidentiality</a><a href="#bookmark362" class="s33">, </a><a href="#bookmark321" class="a">General Data Protection Regulation</a><a href="#bookmark321" class="s33">, </a><a href="#bookmark928" class="a">Cryptographic Identifiers and the Laws of</a><a href="#bookmark928" class="s36"> </a><a href="#bookmark928" class="a">Identity</a><a href="#bookmark1358" class="s33">, </a><a href="#bookmark928" class="a">T</a><a href="#bookmark928">he Legitimacy of Identity Ecosystems</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 4pt;padding-left: 8pt;text-indent: 0pt;text-align: left;"><span class="s442" style=" background-color: #EFEFEF;">K                                                                                                                                         </span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark918" class="s33">key event logs, </a><a href="#bookmark918">Self-certifying key event logs</a></p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark901" class="s33">Key Event Receipt Infrastructure (KERI), </a><a href="#bookmark917" class="a">Autonomic Identifiers</a><a href="#bookmark917" class="s33">, </a><a href="#bookmark917" class="a">Key Event Receipt</a><a href="#bookmark917" class="s36"> </a><a href="#bookmark917" class="a">Infrastructure</a><a href="#bookmark923" class="s33">-</a><a href="#bookmark917" class="a">The KERI DID Method</a><a href="#bookmark1389" class="s33">, </a><a href="#bookmark917" class="a">T</a><a href="#bookmark917">he Self-Sovereign Internet</a></p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark427" class="s33">key generation, </a><a href="#bookmark427">Key Generation</a></p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark432" class="s33">key management, lifecycle of, </a><a href="#bookmark432">Key Management</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark897" class="s33">key rotation, </a><a href="#bookmark1140" class="a">Indirection and Key Rotation</a><a href="#bookmark900" class="s33">-</a><a href="#bookmark1140" class="a">Indirection and Key Rotation</a><a href="#bookmark1140" class="s33">, </a><a href="#bookmark1140" class="a">Step 2: Alice Rotates</a><a href="#bookmark1140" class="s36"> </a><a href="#bookmark1140">Her Relationship Keys</a></p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark465" class="s33">key usage, </a><a href="#bookmark465">Certificate Authorities</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark318" class="s33">Know Your Customer (KYC), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Privacy, Authenticity, and Confidentiality</span> <a href="#bookmark621" class="s33">knowledge factor, </a><a href="#bookmark621">Knowledge Factor: Something You Know</a></p><p style="padding-top: 6pt;padding-left: 8pt;text-indent: 0pt;text-align: left;"><span class="s442" style=" background-color: #EFEFEF;">L                                                                                                                                         </span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Laws of Identity</p><p class="s55" style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark925" class="s33">cryptographic identifiers, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Cryptographic Identifiers and the Laws of Identity</span> <a href="#bookmark363" class="s33">General Data Protection Regulation (GDPR), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">General Data Protection Regulation</span> <a href="#bookmark1359" class="s33">impact on legitimacy, </a><a href="#bookmark1359">The Legitimacy of Identity Ecosystems</a></p><p class="s55" style="padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark227" class="s33">interactional relationships, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Transactional and Interactional Relationships</span> <a href="#bookmark861" class="s33">OpenID Connect (OICD), </a><a href="#bookmark861">OpenID Connect</a></p><p class="s55" style="padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark381" class="s33">privacy and, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Privacy and Laws of Identity</span> <a href="#bookmark1370" class="s33">respecting, </a><a href="#bookmark1370">Generative Identity</a></p><p class="s55" style="padding-left: 53pt;text-indent: -24pt;line-height: 163%;text-align: left;"><a href="#bookmark144" class="s33">seven objectives of, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The Laws of Identity</span><a href="#bookmark176" class="s33">-</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Consistent Experience Across Contexts</span> <a href="#bookmark175" class="s33">consistent experience across contexts, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Consistent Experience Across Contexts</span> <a href="#bookmark163" class="s33">directed identity, </a><a href="#bookmark163">Directed Identity</a></p><p class="s55" style="padding-left: 53pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark172" class="s33">human integration, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Human Integration</span> <a href="#bookmark157" class="s33">justifiable parties, </a><a href="#bookmark157">Justifiable Parties</a></p><p class="s55" style="padding-left: 53pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark154" class="s33">minimal disclosure for a constrained use, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Minimal Disclosure for a Constrained Use</span> <a href="#bookmark170" class="s33">pluralism of operators and technologies, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Pluralism of Operators and Technologies</span> <a href="#bookmark149" class="s33">user control and consent, </a><a href="#bookmark149">User Control and Consent</a></p><p style="padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark1374" class="s33">SL Metasystem, </a><a href="#bookmark1374">The Social Login Metasystem</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 24pt;line-height: 178%;text-align: left;"><a href="#bookmark1380" class="s33">SSI Metasystem, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The Self-Sovereign Identity Metasystem</span> <a href="#bookmark563" class="s33">LDAP (Lightweight Directory Access Protocol), </a><a href="#bookmark563">LDAP</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 13pt;text-align: left;"><a href="#bookmark540" class="s33">leaf nodes, </a><a href="#bookmark540">Namespaces</a></p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark719" class="s33">least privilege, </a><a href="#bookmark719">Principle of Least Privilege</a></p><p class="s55" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1302" class="s33">legal and regulatory requirements, </a><a href="#bookmark1302" class="a">Meeting External Requirements</a> <span style=" color: #000;">(see also privacy) legitimacy</span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><a href="#bookmark145" class="s33">evaluating, </a><a href="#bookmark145">The Laws of Identity</a></p><p class="s55" style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1352" class="s33">of identity ecosystems, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The Legitimacy of Identity Ecosystems</span> <a href="#bookmark1050" class="s33">and power in digital identity architectures, </a><a href="#bookmark1050">Power and Legitimacy</a></p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark461" class="s33">Let’s Encrypt, </a><a href="#bookmark461">Certificate Authorities</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark563" class="s33">Lightweight Directory Access Protocol (LDAP), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">LDAP</span> <a href="#bookmark991" class="s33">link secret, </a><a href="#bookmark991">Correlation and blinded identifiers</a></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1142" class="s33">link secrets, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Protecting the Information in Alice’s Wallet</span> <a href="#bookmark634" class="s33">location factor, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Location Factor: Somewhere You Are</span> <a href="#bookmark80" class="s33">locus of control, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Locus of Control</span><a href="#bookmark90" class="s33">-</a><a href="#bookmark90">Locus of Control</a></p><p style="padding-top: 6pt;padding-left: 8pt;text-indent: 0pt;text-align: left;"><span class="s442" style=" background-color: #EFEFEF;">M                                                                                                                                        </span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark623" class="s33">magic links, </a><a href="#bookmark623">Possession Factor: Something You Have</a></p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark1233" class="s33">magically working together problem, </a><a href="#bookmark1233">Magically working together</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark417" class="s33">man-in-the-middle attacks, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Hybrid Key Systems</span><a href="#bookmark677" class="s33">, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Classifying Authentication Strength</span> <a href="#bookmark724" class="s33">mandatory access control (MAC), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Mandatory and Discretionary Access Control</span> <a href="#bookmark278" class="s33">market coherence, </a><a href="#bookmark278">Coherence and Social Systems</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark440" class="s33">MD5, </a><a href="#bookmark440">Message Digests and Hashes</a></p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark787" class="s33">merchant-centric credit arrangements, </a><a href="#bookmark787">Pattern 1: Ad Hoc Federation</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark434" class="s33">message digests (MD), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Message Digests and Hashes</span><a href="#bookmark445" class="s33">-</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Message Digests and Hashes</span> <a href="#bookmark301" class="s33">metadata, </a><a href="#bookmark301">What Is Privacy?</a></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark529" class="s33">metadirectories, challenges of, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Utah.gov: A Use Case in Naming and Directories</span> <span style=" color: #000;">metasystems</span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><a href="#bookmark798" class="s33">definition of term, </a><a href="#bookmark798">Pattern 3: Identity Federation Network</a></p><p class="s55" style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1181" class="s33">DID-based communication (DIDComm), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">DID-Based Communication</span> <a href="#bookmark948" class="s33">job of, </a><a href="#bookmark948">Verifiable Credentials</a></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark1001" class="s33">properties of, </a><a href="#bookmark1001">VC Ecosystems</a></p><p style="padding-top: 3pt;padding-left: 29pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark1378" class="s33">self-sovereign identity (SSI), </a><a href="#bookmark1384" class="a">The Self-Sovereign Identity Metasystem</a><a href="#bookmark1384" class="s33">-</a><a href="#bookmark1384" class="a">The Self-Sovereign</a><a href="#bookmark1384" class="s36"> </a><a href="#bookmark1384" class="a">Identity Metasystem</a><a href="#bookmark1400" class="s33">, </a><a href="#bookmark1384" class="a">O</a><a href="#bookmark1384">ur Digital Future</a></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark1371" class="s33">social login (SL), </a><a href="#bookmark1400" class="a">The Social Login Metasystem</a><a href="#bookmark1377" class="s33">-</a><a href="#bookmark1400" class="a">The Social Login Metasystem</a><a href="#bookmark1400" class="s33">, </a><a href="#bookmark1400" class="a">Our Digital</a><a href="#bookmark1400" class="s36"> </a><a href="#bookmark1400">Future</a></p><p class="s55" style="padding-top: 7pt;padding-left: 5pt;text-indent: 24pt;line-height: 174%;text-align: left;"><a href="#bookmark134" class="s33">unifying networks through, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The Laws of Digital Identity</span> <a href="#bookmark802" class="s33">Metcalf&#39;s Law, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Network Effects and Digital Identity Management</span> <a href="#bookmark888" class="s33">method-specific identifiers, </a><a href="#bookmark888">DID Syntax</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark154" class="s33">minimal disclosure, </a><a href="#bookmark362" class="a">Minimal Disclosure for a Constrained Use</a><a href="#bookmark362" class="s33">, </a><a href="#bookmark362" class="a">General Data Protection</a><a href="#bookmark362" class="s36"> </a><a href="#bookmark362" class="a">Regulation</a><a href="#bookmark927" class="s33">, </a><a href="#bookmark362" class="a">Cryptographic Identifiers and the Laws of Identity</a><a href="#bookmark985" class="s33">, </a><a href="#bookmark362" class="a">D</a><a href="#bookmark985" class="a">erived Credential Pres</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">entation</span>,</p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The Legitimacy of Identity Ecosystems</span> <a href="#bookmark140" class="s33">modularity, </a><a href="#bookmark140">An Identity Metasystem</a></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark632" class="s33">morphological biometrics, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Inherence Factor: Something You Are</span> <a href="#bookmark218" class="s33">multi-pseudonymity, </a><a href="#bookmark218">Fluid Multi-Pseudonymity</a></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark620" class="s33">multifactor authentication (MFA), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Authentication Factors</span><a href="#bookmark683" class="s33">, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The Authentication Pyramid</span> <a href="#bookmark1129" class="s33">multiparty credential authorization pattern, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Multiparty Credential Authorization Pattern</span> <a href="#bookmark1076" class="s33">Multipurpose Internet Mail Extensions (MIME), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Alternatives to Transactional Relationships</span> <a href="#bookmark1171" class="s33">multitenanted web services, </a><a href="#bookmark1171">Self-Sovereign Authority</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark210" class="s33">mutual authentication, definition of term, </a><a href="#bookmark210">Relationship Integrity</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 4pt;padding-left: 8pt;text-indent: 0pt;text-align: left;"><span class="s442" style=" background-color: #EFEFEF;">N                                                                                                                                         </span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">naming</p><p class="s55" style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark537" class="s33">basics of namespaces, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Namespaces</span> <a href="#bookmark531" class="s33">dealing with complexity through, </a><a href="#bookmark531">Naming</a></p><p class="s55" style="padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark543" class="s33">identifiers and, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Identifiers</span><a href="#bookmark553" class="s33">-</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Uniform Resource Names</span> <a href="#bookmark533" class="s33">properties of names, </a><a href="#bookmark533">Naming</a></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark527" class="s33">use case in, </a><a href="#bookmark530" class="a">Utah.gov: A Use Case in Naming and Directories</a><a href="#bookmark530" class="s33">-</a><a href="#bookmark530" class="a">Utah.gov: A Use Case in</a><a href="#bookmark530" class="s36"> </a><a href="#bookmark530">Naming and Directories</a></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark554" class="s33">Zooko&#39;s triangle, </a><a href="#bookmark554">Zooko’s Triangle</a></p><p style="padding-top: 10pt;padding-left: 5pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark443" class="s33">National Institute of Standards and Technology (NIST), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Message Digests and Hashes</span><a href="#bookmark693" class="s33">, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Authentication Assurance Levels</span><a href="#bookmark742" class="s33">, </a><a href="#bookmark742">Abstract Authorization Architectures</a></p><p class="s55" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark330" class="s33">NDAs (nondisclosure agreements), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Functional Privacy</span> <a href="#bookmark279" class="s33">network coherence, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Coherence and Social Systems</span> <a href="#bookmark541" class="s33">nodes, </a><a href="#bookmark541">Namespaces</a></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark397" class="s33">Non-Repudiation of Origin (NRO), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Integrity, Nonrepudiation, and Confidentiality</span> <a href="#bookmark398" class="s33">Non-Repudiation of Receipt (NRR), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Integrity, Nonrepudiation, and Confidentiality</span> <a href="#bookmark992" class="s33">nonce, </a><a href="#bookmark992">Correlation and blinded identifiers</a></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark436" class="s33">noncorrelatability, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Message Digests and Hashes</span> <a href="#bookmark330" class="s33">nondisclosure agreements (NDAs), </a><a href="#bookmark330">Functional Privacy</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark396" class="s33">nonrepudiation, </a><a href="#bookmark396">Integrity, Nonrepudiation, and Confidentiality</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 4pt;padding-left: 8pt;text-indent: 0pt;text-align: left;"><span class="s442" style=" background-color: #EFEFEF;">O                                                                                                                                         </span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">OAuth</p><p class="s55" style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark788" class="s33">ad hoc federation and, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Pattern 1: Ad Hoc Federation</span> <a href="#bookmark839" class="s33">basics of, </a><a href="#bookmark839">OAuth basics</a></p><p class="s55" style="padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1006" class="s33">protocols for credentials, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Alternatives to DIDs for VC Exchange</span> <a href="#bookmark833" class="s33">purpose of, </a><a href="#bookmark833">OAuth</a></p><p class="s55" style="padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1228" class="s33">shortcomings for the IoT, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">OAuth’s Shortcomings for the IoT</span><a href="#bookmark1234" class="s33">-</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Magically working together</span> <a href="#bookmark845" class="s33">tokens in, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Getting a token</span><a href="#bookmark857" class="s33">-</a><a href="#bookmark857">Using a token</a></p><p class="s55" style="padding-left: 5pt;text-indent: 24pt;line-height: 178%;text-align: left;"><a href="#bookmark1226" class="s33">using with devices, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Using OAuth with Devices</span> <a href="#bookmark486" class="s33">oblivious transfers, </a><a href="#bookmark486">ZKP Systems</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 13pt;text-align: left;"><a href="#bookmark624" class="s33">one-time codes, </a><a href="#bookmark624">Possession Factor: Something You Have</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark646" class="s33">one-time passwords (OTP), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Passwords</span><a href="#bookmark683" class="s33">, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The Authentication Pyramid</span> <a href="#bookmark1236" class="s33">online services, </a><a href="#bookmark1236">Online Services</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark753" class="s33">Open Policy Agent, </a><a href="#bookmark753">Representing and Managing Access Control Policies</a></p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark792" class="s33">OpenID Connect (OIDC), </a><a href="#bookmark863" class="a">Pattern 2: Hub-and-Spoke Federation</a><a href="#bookmark858" class="s33">, </a><a href="#bookmark863" class="a">OpenID Connect</a><a href="#bookmark863" class="s33">-</a><a href="#bookmark863" class="a">OpenID</a><a href="#bookmark863" class="s36"> </a><a href="#bookmark863">Connect</a></p><p class="s55" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1010" class="s33">OpenID for Verifiable Credentials (OpenID4VC), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Alternatives to DIDs for VC Exchange</span> <a href="#bookmark1007" class="s33">OpenID Foundation, </a><a href="#bookmark1007">Alternatives to DIDs for VC Exchange</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark1088" class="s33">operational relationships, </a><a href="#bookmark1202" class="a">Taking Our Rightful Place in the Digital Sphere</a><a href="#bookmark1202" class="s33">, </a><a href="#bookmark1202" class="a">Operationalizing</a><a href="#bookmark1202" class="s36"> </a><a href="#bookmark1202" class="a">Digital Relationships</a><a href="#bookmark1208" class="s33">-</a><a href="#bookmark1202" class="a">R</a><a href="#bookmark1202">ealizing the Smart Agent Vision</a></p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark683" class="s33">OTP (one-time passwords), </a><a href="#bookmark683">The Authentication Pyramid</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1188" class="s33">Out-of-Band Protocol, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Exchanging DIDs</span><a href="#bookmark1341" class="s33">, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Credential Provenance and Trust</span> <a href="#bookmark156" class="s33">overcollection of data, </a><a href="#bookmark156">Minimal Disclosure for a Constrained Use</a></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1387" class="s33">overlay networks, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The Self-Sovereign Internet</span> <span style=" color: #000;">owner roles</span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><a href="#bookmark716" class="s33">in access control, </a><a href="#bookmark716">Responsibility</a></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark1254" class="s33">in IoT, </a><a href="#bookmark1254">Use Case 2: Proving Ownership</a></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark1262" class="s33">in SSIoT, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Relationships in the SSIoT</span><a href="#bookmark1269" class="s33">-</a><a href="#bookmark1269">Selling the Truck</a></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark729" class="s33">in user-based permission systems, </a><a href="#bookmark729">User-Based Permission Systems</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 4pt;padding-left: 8pt;text-indent: 0pt;text-align: left;"><span class="s442" style=" background-color: #EFEFEF;">P                                                                                                                                         </span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark745" class="s33">PAP (policy administration point), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Abstract Authorization Architectures</span> <span style=" color: #000;">passwords</span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><a href="#bookmark645" class="s33">basics of, </a><a href="#bookmark645">Passwords</a></p><p class="s55" style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark648" class="s33">password management, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Password management</span> <a href="#bookmark652" class="s33">resetting, </a><a href="#bookmark652">Password reset</a></p><p class="s55" style="padding-left: 5pt;text-indent: 24pt;line-height: 178%;text-align: left;"><a href="#bookmark682" class="s33">weaknesses of, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The Authentication Pyramid</span> <a href="#bookmark370" class="s33">Patriot Act, </a><a href="#bookmark370">Other Regulatory Efforts</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 13pt;text-align: left;"><a href="#bookmark497" class="s33">Paxos algorithm, </a><a href="#bookmark497">Byzantine Failure and Sybil Attacks</a></p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;">PBAC (see policy-based access control) PbD (see privacy by design)</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;">PDP (see policy decision point)</p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark907" class="s33">peer DIDs, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Peer DIDs</span><a href="#bookmark916" class="s33">-</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Peer DID authentication and authorization</span> <a href="#bookmark164" class="s33">peer identifiers, </a><a href="#bookmark164">Directed Identity</a></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1311" class="s33">PEP (see policy enforcement point) periodic audits, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Enforcement</span> <span style=" color: #000;">permissions</span></p><p style="padding-top: 3pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark64" class="s33">definition of term, </a><a href="#bookmark64">The Language of Digital Identity</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 24pt;line-height: 178%;text-align: left;"><a href="#bookmark726" class="s33">user-based permission systems, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">User-Based Permission Systems</span> <a href="#bookmark847" class="s33">permissions screen (in OAuth), </a><a href="#bookmark847">Getting a token</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 13pt;text-align: left;">personal data (see also data)</p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark1108" class="s33">personal data stores, </a><a href="#bookmark1108">Identity Wallets</a></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark357" class="s33">principles for processing, </a><a href="#bookmark359" class="a">General Data Protection Regulation</a><a href="#bookmark359" class="s33">-</a><a href="#bookmark359" class="a">General Data Protection</a><a href="#bookmark359" class="s36"> </a><a href="#bookmark359">Regulation</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark581" class="s33">personal directories, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Personal Directories and Introductions</span> <span style=" color: #000;">personally identifying information (PII)</span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><a href="#bookmark347" class="s33">creating accountability around use of, </a><a href="#bookmark347">Principle 6: Visibility and Transparency—Keep It</a></p><p style="padding-top: 1pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark347">Open</a></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark307" class="s33">definition of term, </a><a href="#bookmark307">Information Privacy</a></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark342" class="s33">issues to consider, </a><a href="#bookmark342">Principle 6: Visibility and Transparency—Keep It Open</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 24pt;line-height: 178%;text-align: left;"><a href="#bookmark345" class="s33">privacy frameworks for collecting, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Principle 6: Visibility and Transparency—Keep It Open</span> <a href="#bookmark76" class="s33">personas, </a><a href="#bookmark76">Digital Identity Perspectives</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 13pt;text-align: left;"><a href="#bookmark649" class="s33">phishing attacks, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Password management</span><a href="#bookmark675" class="s33">, </a><a href="#bookmark675">Classifying Authentication Strength</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1247" class="s33">picos, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Alternatives to the CompuServe of Things</span> <span style=" color: #000;">PII (see personally identifying information)</span></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark746" class="s33">PIPs (policy information points), </a><a href="#bookmark746">Abstract Authorization Architectures</a></p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark167" class="s33">PKI (public-key infrastructure), </a><a href="#bookmark470" class="a">Directed Identity</a><a href="#bookmark451" class="s33">, </a><a href="#bookmark470" class="a">Digital Certificates</a><a href="#bookmark470" class="s33">, </a><a href="#bookmark470" class="a">Public-Key</a><a href="#bookmark470" class="s36"> </a><a href="#bookmark470" class="a">Infrastructures</a><a href="#bookmark477" class="s33">-</a><a href="#bookmark470" class="a">Public-Key Infrastructures</a><a href="#bookmark689" class="s33">, </a><a href="#bookmark470" class="a">T</a><a href="#bookmark470">he Authentication Pyramid</a></p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">platforms</p><p class="s55" style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1080" class="s33">disintermediating, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Disintermediating Platforms</span><a href="#bookmark1081" class="s33">-</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Disintermediating Platforms</span> <a href="#bookmark665" class="s33">platform authenticators, </a><a href="#bookmark665">FIDO authentication</a></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark1113" class="s33">platform wallets, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Platform Wallets</span><a href="#bookmark1116" class="s33">-</a><a href="#bookmark1116">Platform Wallets</a></p><p style="padding-top: 10pt;padding-left: 5pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark170" class="s33">pluralism of operators and technologies, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Pluralism of Operators and Technologies</span><a href="#bookmark930" class="s33">, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Cryptographic Identifiers and the Laws of Identity</span><a href="#bookmark1361" class="s33">, </a><a href="#bookmark1361">The Legitimacy of Identity Ecosystems</a></p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">policies (see also identity policies)</p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark1320" class="s33">benefits of clear and comprehensive, </a><a href="#bookmark1320">Governing Administrative Identity Systems</a></p><p style="padding-top: 3pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark1287" class="s33">versus standards, </a><a href="#bookmark1287">Policies and Standards</a></p><p class="s55" style="padding-top: 10pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark745" class="s33">policy administration point (PAP), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Abstract Authorization Architectures</span> <span style=" color: #000;">policy decision point (PDP)</span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><a href="#bookmark58" class="s33">in identity systems, </a><a href="#bookmark58">The Language of Digital Identity</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 24pt;line-height: 178%;text-align: left;"><a href="#bookmark743" class="s33">in abstract authorization architecture, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Abstract Authorization Architectures</span> <span style=" color: #000;">policy enforcement point (PEP)</span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 11pt;text-align: left;"><a href="#bookmark744" class="s33">in abstract authorization architecture, </a><a href="#bookmark744">Abstract Authorization Architectures</a></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark55" class="s33">purpose of, </a><a href="#bookmark55">The Language of Digital Identity</a></p><p class="s55" style="padding-top: 10pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark746" class="s33">policy information points (PIPs), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Abstract Authorization Architectures</span> <a href="#bookmark1288" class="s33">policy stack, </a><a href="#bookmark1288">The Policy Stack</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark737" class="s33">policy-based access control (PBAC), </a><a href="#bookmark1301" class="a">Attribute- and Policy-Based Access Control</a><a href="#bookmark1301" class="s33">, </a><a href="#bookmark1301" class="a">Information</a><a href="#bookmark1301" class="s36"> </a><a href="#bookmark1301">Governance</a></p><p class="s55" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark141" class="s33">polycentrism, in identity metasystems, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">An Identity Metasystem</span> <span style=" color: #000;">polymorphism</span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><a href="#bookmark26" class="s33">definition of term, </a><a href="#bookmark26">No Universal Identity Systems</a></p><p class="s55" style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark142" class="s33">in identity metasystems, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">An Identity Metasystem</span> <a href="#bookmark947" class="s33">polymorphic data records, </a><a href="#bookmark947">Verifiable Credentials</a></p><p class="s55" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark338" class="s33">positive-sum approach, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Principle 4: Full Functionality—Positive-Sum, Not Zero-Sum</span> <a href="#bookmark622" class="s33">possession factor, </a><a href="#bookmark622">Possession Factor: Something You Have</a></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark49" class="s33">preferences, in identity records, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The Language of Digital Identity</span> <a href="#bookmark920" class="s33">prerotation method, </a><a href="#bookmark920">Prerotation of keys</a></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark334" class="s33">preventive approach, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Principle 1: Proactive Not Reactive; Preventive Not Remedial</span> <a href="#bookmark719" class="s33">principle of least privilege, </a><a href="#bookmark719">Principle of Least Privilege</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;">privacy</p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark294" class="s33">classes of, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">What Is Privacy?</span><a href="#bookmark302" class="s33">-</a><a href="#bookmark302">What Is Privacy?</a></p><p class="s55" style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark303" class="s33">communications privacy, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Communications Privacy and Confidentiality</span> <a href="#bookmark1299" class="s33">considerations for identity policies, </a><a href="#bookmark1299">Privacy Considerations</a></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark312" class="s33">correlation of data sets, </a><a href="#bookmark312">Correlation</a></p><p style="padding-top: 3pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark293" class="s33">current state of, </a><a href="#bookmark293">Privacy</a></p><p class="s55" style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark325" class="s33">functional privacy, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Functional Privacy</span><a href="#bookmark332" class="s33">-</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Functional Privacy</span> <a href="#bookmark185" class="s33">identity problem and, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Fixing the Problems of Identity</span> <a href="#bookmark306" class="s33">information privacy, </a><a href="#bookmark306">Information Privacy</a></p><p class="s55" style="padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark344" class="s33">privacy frameworks, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Principle 6: Visibility and Transparency—Keep It Open</span> <a href="#bookmark117" class="s33">privacy problem, </a><a href="#bookmark117">The Privacy Problem</a></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark361" class="s33">privacy rights, </a><a href="#bookmark361">General Data Protection Regulation</a></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark354" class="s33">regulations governing, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Privacy Regulations</span><a href="#bookmark375" class="s33">-</a><a href="#bookmark375">Other Regulatory Efforts</a></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark314" class="s33">roles of authenticity and confidentiality in, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Privacy, Authenticity, and Confidentiality</span>-</p><p style="padding-top: 1pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark324">Privacy, Authenticity, and Confidentiality</a></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark72" class="s33">roles of identity and security in, </a><a href="#bookmark72">Identity, Security, and Privacy</a></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark379" class="s33">surveillance capitalism and, </a><a href="#bookmark380" class="a">Surveillance Capitalism and Web 2.0</a><a href="#bookmark380" class="s33">-</a><a href="#bookmark380" class="a">Surveillance Capitalism</a><a href="#bookmark380" class="s36"> </a><a href="#bookmark380">and Web 2.0</a></p><p class="s55" style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark376" class="s33">time value and time cost of, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The Time Value and Time Cost of Privacy</span> <a href="#bookmark310" class="s33">transactional privacy, </a><a href="#bookmark310">Transactional Privacy</a></p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark333" class="s33">privacy by design (PbD), </a><a href="#bookmark353" class="a">Privacy by Design</a><a href="#bookmark353" class="s33">-</a><a href="#bookmark353" class="a">Principle 7: Respect for User Privacy—Keep It</a><a href="#bookmark353" class="s36"> </a><a href="#bookmark353">User-Centric</a></p><p style="padding-top: 6pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark340" class="s33">end-to-end security, </a><a href="#bookmark340">Principle 5: End-to-End Security—Full Lifecycle Protection</a></p><p class="s55" style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark338" class="s33">positive-sum functionality, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Principle 4: Full Functionality—Positive-Sum, Not Zero-Sum</span> <a href="#bookmark336" class="s33">privacy as the default setting, </a><a href="#bookmark336">Principle 2: Privacy as the Default Setting</a></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark337" class="s33">privacy embedded into design, </a><a href="#bookmark337">Principle 3: Privacy Embedded into Design</a></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark334" class="s33">proactive rather than reactive measures, </a><a href="#bookmark334" class="a">Principle 1: Proactive Not Reactive; Preventive Not</a><a href="#bookmark334" class="s36"> </a><a href="#bookmark334">Remedial</a></p><p class="s55" style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark349" class="s33">respect for user privacy, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Principle 7: Respect for User Privacy—Keep It User-Centric</span> <a href="#bookmark333" class="s33">usefulness as guidelines, </a><a href="#bookmark333">Privacy by Design</a></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark343" class="s33">visibility and transparency, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Principle 6: Visibility and Transparency—Keep It Open</span>-</p><p class="s55" style="padding-top: 1pt;padding-left: 5pt;text-indent: 24pt;line-height: 178%;text-align: left;"><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Principle 6: Visibility and Transparency—Keep It Open</span> <a href="#bookmark507" class="s33">private blockchains, </a><a href="#bookmark507">Classifying Blockchains</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 13pt;text-align: left;"><a href="#bookmark164" class="s33">private identifiers, </a><a href="#bookmark164">Directed Identity</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark408" class="s33">private keys, </a><a href="#bookmark408">Public-Key Cryptography</a></p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark513" class="s33">private-permissioned blockchains, </a><a href="#bookmark513">Classifying Blockchains</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1329" class="s33">private-permissioned VDRs, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Governing Algorithmic Identity Systems</span> <a href="#bookmark431" class="s33">PRNG (pseudorandom number generators), </a><a href="#bookmark431">Key Generation</a></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark335" class="s33">proactive principle, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Principle 1: Proactive Not Reactive; Preventive Not Remedial</span> <a href="#bookmark483" class="s33">probabilistic proof, </a><a href="#bookmark483">Zero-Knowledge Proofs</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark1312" class="s33">procedures, creating, </a><a href="#bookmark1312">Procedures</a></p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark685" class="s33">prompt bombing, </a><a href="#bookmark685">The Authentication Pyramid</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark505" class="s33">proof of authority, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Other Ways of Countering Sybil Attacks</span> <a href="#bookmark504" class="s33">proof of stake, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Other Ways of Countering Sybil Attacks</span> <a href="#bookmark982" class="s33">proofs, </a><a href="#bookmark982">Credential Presentation Types</a></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark245" class="s33">propagation phase (digital relationship lifecycle), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Propagating</span> <a href="#bookmark147" class="s33">propositions, </a><a href="#bookmark147">The Laws of Identity</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;">protocols</p><p class="s55" style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark668" class="s33">Client to Authenticator Protocol (CTAP), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">FIDO authentication</span> <a href="#bookmark88" class="s33">definition of term, </a><a href="#bookmark88">Locus of Control</a></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark1185" class="s33">DID Exchange Protocol, </a><a href="#bookmark1185">Exchanging DIDs</a></p><p class="s55" style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark426" class="s33">Diffie–Hellman key agreement protocol, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Public-Key Cryptosystem Algorithms</span> <a href="#bookmark137" class="s33">encapsulating protocols, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">An Identity Metasystem</span><a href="#bookmark1162" class="s33">, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Smart Identity Agents</span> <a href="#bookmark571" class="s33">Hypertext Transfer Protocol (HTTP), </a><a href="#bookmark571">WebFinger</a></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark299" class="s33">Internet Control Message Protocol (ICMP), </a><a href="#bookmark299">What Is Privacy?</a></p><p class="s55" style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark228" class="s33">Internet Mail Access Protocol (IMAP), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Transactional and Interactional Relationships</span> <a href="#bookmark135" class="s33">interoperability of, </a><a href="#bookmark135">The Laws of Digital Identity</a></p><p class="s55" style="padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark563" class="s33">Lightweight Directory Access Protocol (LDAP), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">LDAP</span> <a href="#bookmark1007" class="s33">OAuth, </a><a href="#bookmark1007">Alternatives to DIDs for VC Exchange</a></p><p class="s55" style="padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1188" class="s33">Out-of-Band Protocol, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Exchanging DIDs</span><a href="#bookmark1341" class="s33">, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Credential Provenance and Trust</span> <a href="#bookmark1196" class="s33">purpose of, </a><a href="#bookmark1196">Protocological Power</a></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark1167" class="s33">self-certifying web protocols, </a><a href="#bookmark1167">Self-Sovereign Authority</a></p><p style="padding-top: 3pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark593" class="s33">Sidetree protocol, </a><a href="#bookmark593">Using Blockchains for Discovery</a></p><p class="s55" style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1195" class="s33">smart identity agents and, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Protocological Power</span><a href="#bookmark1200" class="s33">-</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Protocols Beyond Credential Exchange</span> <a href="#bookmark228" class="s33">SMTP (Simple Mail Transfer Protocol), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Transactional and Interactional Relationships</span> <a href="#bookmark669" class="s33">WebAuthn protocol, </a><a href="#bookmark669">FIDO authentication</a></p><p class="s55" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1107" class="s33">protowallets, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Identity Wallets</span><a href="#bookmark1121" class="s33">, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Properties of Wallets and Agents</span> <span style=" color: #000;">provenance</span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><a href="#bookmark22" class="s33">based on identity, </a><a href="#bookmark22">Identity Is Bigger Than You Think</a></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark459" class="s33">certificate authorities and, </a><a href="#bookmark459">Certificate Authorities</a></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark959" class="s33">credential exchange transfers trust, </a><a href="#bookmark959">Credential Exchange Transfers Trust</a></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark1340" class="s33">of individual identity systems, </a><a href="#bookmark1347" class="a">Credential Provenance and Trust</a><a href="#bookmark1347" class="s33">-</a><a href="#bookmark1347" class="a">Credential Provenance and</a><a href="#bookmark1347" class="s36"> </a><a href="#bookmark1347">Trust</a></p><p class="s55" style="padding-top: 7pt;padding-left: 5pt;text-indent: 24pt;line-height: 178%;text-align: left;"><a href="#bookmark261" class="s33">role of governance in, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Fidelity and Provenance</span> <a href="#bookmark490" class="s33">proving keys, </a><a href="#bookmark490">Noninteractive ZKPs</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 13pt;text-align: left;"><a href="#bookmark1177" class="s33">provisional anonymity, </a><a href="#bookmark1177">Reciprocal Negotiated Accountability</a></p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark243" class="s33">provisioning, definition of term, </a><a href="#bookmark243">Co-Creating</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark112" class="s33">proximity problem, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The Proximity Problem</span><a href="#bookmark181" class="s33">, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Fixing the Problems of Identity</span> <a href="#bookmark216" class="s33">pseudonymity, </a><a href="#bookmark216">Anonymity and Pseudonymity</a></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark431" class="s33">pseudorandom number generators (PRNG), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Key Generation</span> <a href="#bookmark508" class="s33">public blockchains, </a><a href="#bookmark508">Classifying Blockchains</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark165" class="s33">public identifiers, </a><a href="#bookmark165">Directed Identity</a></p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark407" class="s33">public-key cryptography, </a><a href="#bookmark407">Public-Key Cryptography</a></p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark421" class="s33">public-key cryptosystem algorithms, </a><a href="#bookmark421">Public-Key Cryptosystem Algorithms</a></p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark167" class="s33">public-key infrastructure (PKI), </a><a href="#bookmark470" class="a">Directed Identity</a><a href="#bookmark451" class="s33">, </a><a href="#bookmark470" class="a">Digital Certificates</a><a href="#bookmark470" class="s33">, </a><a href="#bookmark470" class="a">Public-Key</a><a href="#bookmark470" class="s36"> </a><a href="#bookmark470" class="a">Infrastructures</a><a href="#bookmark477" class="s33">-</a><a href="#bookmark470" class="a">Public-Key Infrastructures</a><a href="#bookmark689" class="s33">, </a><a href="#bookmark470" class="a">T</a><a href="#bookmark470">he Authentication Pyramid</a></p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark511" class="s33">public-permissioned blockchains, </a><a href="#bookmark511">Classifying Blockchains</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1331" class="s33">public-permissioned VDRs, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Governing Algorithmic Identity Systems</span> <a href="#bookmark510" class="s33">public-permissionless blockchains, </a><a href="#bookmark510">Classifying Blockchains</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark1327" class="s33">public-permissionless VDRs, </a><a href="#bookmark1327">Governing Algorithmic Identity Systems</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark684" class="s33">push notifications, </a><a href="#bookmark684">The Authentication Pyramid</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 4pt;padding-left: 8pt;text-indent: 0pt;text-align: left;"><span class="s442" style=" background-color: #EFEFEF;">Q                                                                                                                                         </span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark8" class="s33">questions and comments, </a><a href="#bookmark8">How to Contact Us</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 4pt;padding-left: 8pt;text-indent: 0pt;text-align: left;"><span class="s442" style=" background-color: #EFEFEF;">R                                                                                                                                         </span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1221" class="s33">radio frequency identification (RFID), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Identity on the Internet of Things</span> <a href="#bookmark430" class="s33">random number generators (RNG, </a><a href="#bookmark430">Key Generation</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark428" class="s33">randomness, </a><a href="#bookmark428">Key Generation</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark732" class="s33">RBAC (role-based access control), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Role-Based Access Control</span> <a href="#bookmark406" class="s33">RC5, RC6 (Rivest Cipher 5 and 6), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Secret Key Cryptography</span> <a href="#bookmark953" class="s33">REAL ID Act, </a><a href="#bookmark953">The Nature of Credentials</a></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark896" class="s33">Really Simple Syndication (RSS), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">DID Documents</span> <a href="#bookmark834" class="s33">Receiptify service, </a><a href="#bookmark834">OAuth</a></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1175" class="s33">reciprocal negotiated accountability, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Reciprocal Negotiated Accountability</span> <a href="#bookmark625" class="s33">recovery passcodes, </a><a href="#bookmark625">Possession Factor: Something You Have</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark852" class="s33">refresh tokens, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Refresh tokens</span><a href="#bookmark1230" class="s33">, </a><a href="#bookmark1230">Where’s the owner?</a></p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark528" class="s33">registrars, duties of, </a><a href="#bookmark528">Utah.gov: A Use Case in Naming and Directories</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1302" class="s33">regulatory and legal requirements, </a><a href="#bookmark1302" class="a">Meeting External Requirements</a> <span style=" color: #000;">(see also privacy) relationships (see also authentic digital relationships)</span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><a href="#bookmark217" class="s33">anonymity and pseudonymity, </a><a href="#bookmark217">Anonymity and Pseudonymity</a></p><p class="s55" style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1206" class="s33">autonomic relationships, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Operationalizing Digital Relationships</span> <a href="#bookmark218" class="s33">fluid multi-pseudonymity, </a><a href="#bookmark218">Fluid Multi-Pseudonymity</a></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark193" class="s33">identity and, </a><a href="#bookmark193">Relationships and Identity</a></p><p class="s55" style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark178" class="s33">identity metasystems and, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Fixing the Problems of Identity</span> <a href="#bookmark195" class="s33">identity niches, </a><a href="#bookmark195">Identity Niches</a></p><p class="s55" style="padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1262" class="s33">in self-sovereign internet of things, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Relationships in the SSIoT</span><a href="#bookmark1269" class="s33">-</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Selling the Truck</span> <a href="#bookmark198" class="s33">integrity of, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Relationship Integrity</span><a href="#bookmark211" class="s33">-</a><a href="#bookmark211">Relationship Integrity</a></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark1223" class="s33">in the Internet of Things, </a><a href="#bookmark1223">Access Control for Devices</a></p><p style="padding-top: 3pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark212" class="s33">lifespan of, </a><a href="#bookmark212">Relationship Life Span</a></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark1202" class="s33">operationalizing digital relationships, </a><a href="#bookmark1208" class="a">Operationalizing Digital Relationships</a><a href="#bookmark1208" class="s33">-</a><a href="#bookmark1208" class="a">Realizing the</a><a href="#bookmark1208" class="s36"> </a><a href="#bookmark1208">Smart Agent Vision</a></p><p class="s55" style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1087" class="s33">operationalizing your relationships, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Taking Our Rightful Place in the Digital Sphere</span> <a href="#bookmark1372" class="s33">in social login metasystem, </a><a href="#bookmark1372">The Social Login Metasystem</a></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark225" class="s33">transactional and interactional, </a><a href="#bookmark230" class="a">Transactional and Interactional Relationships</a><a href="#bookmark230" class="s33">-</a><a href="#bookmark230" class="a">Transactional</a><a href="#bookmark230" class="s36"> </a><a href="#bookmark230">and Interactional Relationships</a></p><p class="s55" style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1073" class="s33">transactional relationships, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Alternatives to Transactional Relationships</span> <a href="#bookmark221" class="s33">utility of, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Relationship Utility</span><a href="#bookmark711" class="s33">, </a><a href="#bookmark711">Access Control and Relationship Utility</a></p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">relying party (RP)</p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark779" class="s33">in federated identity systems, </a><a href="#bookmark779">The Nature of Federated Identity</a></p><p class="s55" style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark773" class="s33">in hub-and-spoke patterns, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Federated Identity—Leveraging Strong Relationships</span> <a href="#bookmark56" class="s33">in identity systems, </a><a href="#bookmark56">The Language of Digital Identity</a></p><p class="s55" style="padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark201" class="s33">relationship integrity and, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Relationship Integrity</span> <a href="#bookmark85" class="s33">in social login, </a><a href="#bookmark85">Locus of Control</a></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark334" class="s33">remedial approach, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Principle 1: Proactive Not Reactive; Preventive Not Remedial</span> <a href="#bookmark957" class="s33">reputation, </a><a href="#bookmark957">Credential Exchange Transfers Trust</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark202" class="s33">requesters, </a><a href="#bookmark202">Relationship Integrity</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1187" class="s33">requesters (DID Exchange Protocol), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Exchanging DIDs</span> <a href="#bookmark891" class="s33">resolution, </a><a href="#bookmark891">DID Resolution</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;">resources</p><p class="s55" style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark45" class="s33">definition of term, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The Language of Digital Identity</span> <a href="#bookmark829" class="s33">in SCIM identity management, </a><a href="#bookmark829">SCIM</a></p><p class="s55" style="padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark850" class="s33">resource owner credentials grant, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Getting a token</span> <a href="#bookmark835" class="s33">resource owners, </a><a href="#bookmark835">OAuth</a></p><p class="s55" style="padding-left: 5pt;text-indent: 24pt;line-height: 174%;text-align: left;"><a href="#bookmark836" class="s33">resource servers (RS), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">OAuth</span><a href="#bookmark842" class="s33">, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">OAuth basics</span> <a href="#bookmark1187" class="s33">responders (DID exchange protocol), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Exchanging DIDs</span> <a href="#bookmark715" class="s33">responsibility roles (in access control), </a><a href="#bookmark715">Responsibility</a></p><p class="s55" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark413" class="s33">reversible key systems, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Public-Key Cryptography</span> <a href="#bookmark469" class="s33">revocation checking, </a><a href="#bookmark469">Certificate Revocation Lists</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark1221" class="s33">RFID (radio frequency identification), </a><a href="#bookmark1221">Identity on the Internet of Things</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1235" class="s33">rich connections, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The CompuServe of Things</span><a href="#bookmark1239" class="s33">-</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">A Real, Open Internet of Things</span> <span style=" color: #000;">risk</span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><a href="#bookmark254" class="s33">relationship to confidence and trust, </a><a href="#bookmark259" class="a">Trust, Confidence, and Risk</a><a href="#bookmark259" class="s33">-</a><a href="#bookmark259">Trust, Confidence, and</a></p><p style="padding-top: 1pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark259">Risk</a></p><p class="s55" style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark261" class="s33">roles of fidelity and provenance, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Fidelity and Provenance</span> <a href="#bookmark260" class="s33">vulnerability and, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Risk and Vulnerability</span><a href="#bookmark262" class="s33">-</a><a href="#bookmark262">Risk and Vulnerability</a></p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark406" class="s33">Rivest Cipher 5 and 6 (RC5, RC6), </a><a href="#bookmark406">Secret Key Cryptography</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark425" class="s33">Rivest-Shamir-Adleman (RSA), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Public-Key Cryptosystem Algorithms</span> <a href="#bookmark430" class="s33">RNG (random number generators), </a><a href="#bookmark430">Key Generation</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark666" class="s33">roaming authenticators, </a><a href="#bookmark666">FIDO authentication</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark732" class="s33">role-based access control (RBAC), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Role-Based Access Control</span> <a href="#bookmark541" class="s33">root nodes, </a><a href="#bookmark541">Namespaces</a></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1031" class="s33">root of trust, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The Trust Basis for Identifiers</span> <span style=" color: #000;">RP (see relying party)</span></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark425" class="s33">RSA (Rivest-Shamir-Adleman), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Public-Key Cryptosystem Algorithms</span> <a href="#bookmark628" class="s33">RSA SecurID tokens, </a><a href="#bookmark628">Possession Factor: Something You Have</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark896" class="s33">RSS (Really Simple Syndication), </a><a href="#bookmark896">DID Documents</a></p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark756" class="s33">rules (in XACML policies), </a><a href="#bookmark756">Representing and Managing Access Control Policies</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 4pt;padding-left: 8pt;text-indent: 0pt;text-align: left;"><span class="s442" style=" background-color: #EFEFEF;">S                                                                                                                                         </span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark789" class="s33">SAML (Security Assertion Markup Language), </a><a href="#bookmark826" class="a">Pattern 1: Ad Hoc Federation</a><a href="#bookmark805" class="s33">, </a><a href="#bookmark826" class="a">SAML</a><a href="#bookmark826" class="s33">-</a><a href="#bookmark826" class="a">SAML</a><a href="#bookmark826" class="s36"> </a><a href="#bookmark826">Authentication Flow</a></p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark374" class="s33">Sarbanes-Oxley Act of 2002, </a><a href="#bookmark374">Other Regulatory Efforts</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark125" class="s33">scale problem, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The Scale Problem</span><a href="#bookmark188" class="s33">, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Fixing the Problems of Identity</span> <a href="#bookmark966" class="s33">schemas, </a><a href="#bookmark966">Verifiable Credentials</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark902" class="s33">SCIDs (self-certifying identifiers), </a><a href="#bookmark902">Self-Certification</a></p><p class="s55" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark827" class="s33">SCIM (System for Cross-domain Identity Management), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">SCIM</span><a href="#bookmark831" class="s33">-</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">SCIM</span> <a href="#bookmark848" class="s33">scopes (in OAuth), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Getting a token</span><a href="#bookmark853" class="s33">, </a><a href="#bookmark853">OAuth scopes</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;">secrets</p><p class="s55" style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark659" class="s33">cryptographic shared secrets, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Challenge-Response Systems</span> <a href="#bookmark1141" class="s33">protecting, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Protecting the Information in Alice’s Wallet</span> <a href="#bookmark403" class="s33">secret key cryptography, </a><a href="#bookmark403">Secret Key Cryptography</a></p><p class="s55" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark444" class="s33">Secure Hash Algorithm (SHA), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Message Digests and Hashes</span> <a href="#bookmark179" class="s33">secure messaging, </a><a href="#bookmark179">Fixing the Problems of Identity</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark418" class="s33">Secure Sockets Layer (SSL), </a><a href="#bookmark418">Hybrid Key Systems</a></p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark789" class="s33">Security Assertion Markup Language (SAML), </a><a href="#bookmark826" class="a">Pattern 1: Ad Hoc Federation</a><a href="#bookmark805" class="s33">, </a><a href="#bookmark826" class="a">SAML</a><a href="#bookmark826" class="s33">-</a><a href="#bookmark826" class="a">SAML</a><a href="#bookmark826" class="s36"> </a><a href="#bookmark826">Authentication Flow</a></p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">security policies</p><p class="s55" style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1298" class="s33">considerations for identity policies, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Security Considerations</span> <a href="#bookmark71" class="s33">goal of, </a><a href="#bookmark71">Identity, Security, and Privacy</a></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark59" class="s33">in identity systems, </a><a href="#bookmark59">The Language of Digital Identity</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 24pt;line-height: 174%;text-align: left;"><a href="#bookmark1134" class="s33">identity wallets and agents, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">What If I Lose My Phone?</span><a href="#bookmark1145" class="s33">-</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Censorship Resistance</span> <a href="#bookmark340" class="s33">security principle, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Principle 5: End-to-End Security—Full Lifecycle Protection</span> <a href="#bookmark806" class="s33">security tokens, </a><a href="#bookmark806">SAML</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 13pt;text-align: left;"><a href="#bookmark1172" class="s33">self-administration, </a><a href="#bookmark1172">Self-Sovereign Authority</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark902" class="s33">self-certifying identifiers (SCIDs), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Self-Certification</span> <a href="#bookmark1167" class="s33">self-certifying web protocols, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Self-Sovereign Authority</span> <a href="#bookmark949" class="s33">self-issued credentials, </a><a href="#bookmark949">Verifiable Credentials</a></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1011" class="s33">Self-Issued OpenID Providers (SIOP), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Alternatives to DIDs for VC Exchange</span> <a href="#bookmark153" class="s33">self-managed systems, </a><a href="#bookmark153">User Control and Consent</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark244" class="s33">self-service provisioning, </a><a href="#bookmark244">Co-Creating</a></p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark1045" class="s33">self-sovereign authority, </a><a href="#bookmark1045">Autonomic Architecture</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1174" class="s33">self-sovereign communication, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Principles of Self-Sovereign Communication</span> <span style=" color: #000;">self-sovereign identity (SSI)</span></p><p class="s55" style="padding-top: 3pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark87" class="s33">description of, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Locus of Control</span><a href="#bookmark1163" class="s33">, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Self-Sovereign Authority</span> <a href="#bookmark1381" class="s33">evaluating, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The Self-Sovereign Identity Metasystem</span> <a href="#bookmark209" class="s33">example of, </a><a href="#bookmark209">Relationship Integrity</a></p><p class="s55" style="padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1077" class="s33">features of, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The Self-Sovereign Alternative</span><a href="#bookmark1079" class="s33">-</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The Self-Sovereign Alternative</span> <a href="#bookmark881" class="s33">foundational technologies for, </a><a href="#bookmark881">Decentralized Identifiers</a></p><p class="s55" style="padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1397" class="s33">generativity and, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Self-Sovereign Identity and Generativity</span> <a href="#bookmark150" class="s33">inalienability and, </a><a href="#bookmark150">User Control and Consent</a></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark1122" class="s33">interaction patterns, </a><a href="#bookmark1135" class="a">SSI Interaction Patterns</a><a href="#bookmark1135" class="s33">-</a><a href="#bookmark1135" class="a">Revisiting the Generalized Authentic Data</a><a href="#bookmark1135" class="s36"> </a><a href="#bookmark1135">Transfer Pattern</a></p><p class="s55" style="padding-top: 7pt;padding-left: 5pt;text-indent: 24pt;line-height: 178%;text-align: left;"><a href="#bookmark1164" class="s33">smart identity agents and, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Self-Sovereign Authority</span><a href="#bookmark1179" class="s33">-</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Reciprocal Negotiated Accountability</span> <a href="#bookmark1386" class="s33">self-sovereign internet, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The Self-Sovereign Internet</span><a href="#bookmark1394" class="s33">-</a><a href="#bookmark1394">Accessibility</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 13pt;text-align: left;">self-sovereign Internet of Things (SSIoT)</p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark1241" class="s33">versus current IoT architecture, </a><a href="#bookmark1241">Alternatives to the CompuServe of Things</a></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark1249" class="s33">DID relationships for, </a><a href="#bookmark1261" class="a">The Self-Sovereign Internet of Things</a><a href="#bookmark1261" class="s33">-</a><a href="#bookmark1261" class="a">Use Case 3: Real Customer</a><a href="#bookmark1261" class="s36"> </a><a href="#bookmark1261">Service</a></p><p class="s55" style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1247" class="s33">picos open source project, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Alternatives to the CompuServe of Things</span> <a href="#bookmark1262" class="s33">relationships in, </a><a href="#bookmark1262">Relationships in the SSIoT</a></p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark807" class="s33">service providers (SP), </a><a href="#bookmark807">SAML</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark444" class="s33">SHA (Secure Hash Algorithm), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Message Digests and Hashes</span> <a href="#bookmark658" class="s33">shared secrets, </a><a href="#bookmark658">Challenge-Response Systems</a></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark593" class="s33">Sidetree protocol, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Using Blockchains for Discovery</span> <a href="#bookmark411" class="s33">signature verification, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Public-Key Cryptography</span> <a href="#bookmark448" class="s33">signing keys, </a><a href="#bookmark448">Digital Signatures</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark1237" class="s33">silos, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Online Services</span><a href="#bookmark1239" class="s33">-</a><a href="#bookmark1239">A Real, Open Internet of Things</a></p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark228" class="s33">Simple Mail Transfer Protocol (SMTP), </a><a href="#bookmark228">Transactional and Interactional Relationships</a></p><p style="text-indent: 0pt;text-align: left;"><span><img width="141" height="1" alt="image" src="Image_595.png"/></span></p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark579" class="s33">single point of failure (SPOF), </a><a href="#bookmark1072" class="a">Heterarchical Directories</a><a href="#bookmark1072" class="s33">, </a><a href="#bookmark1072" class="a">Administrative Identity Systems Create</a><a href="#bookmark1072" class="s36"> Anemic Relationships</a></p><p style="text-indent: 0pt;text-align: left;"><span><img width="149" height="1" alt="image" src="Image_596.png"/></span></p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark783" class="s33">single sign-on (SSO), </a><a href="#bookmark783" class="s36">SSO Versus Federation</a></p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark643" class="s33">single-factor authentication, </a><a href="#bookmark643">Identifier and Authentication Factors</a></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark1126" class="s33">single-party credential authorization pattern, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Single-Party Credential Authorization Pattern</span><a href="#bookmark1128" class="s33">- </a><a href="#bookmark1128">Single-Party Credential Authorization Pattern</a></p><p class="s55" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1011" class="s33">SIOP (Self-Issued OpenID Providers), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Alternatives to DIDs for VC Exchange</span> <span style=" color: #000;">smart identity agents</span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><a href="#bookmark1201" class="s33">applications for, </a><a href="#bookmark1201">Smart Agents and the Future of the Internet</a></p><p class="s55" style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1181" class="s33">DID-based communication (DIDComm), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">DID-Based Communication</span><a href="#bookmark1194" class="s33">-</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Message Formats</span> <a href="#bookmark1209" class="s33">managing digital memories, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Digital Memories</span><a href="#bookmark1213" class="s33">-</a><a href="#bookmark1213">Digital Memories</a></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark1202" class="s33">operationalizing digital relationships, </a><a href="#bookmark1208" class="a">Operationalizing Digital Relationships</a><a href="#bookmark1208" class="s33">-</a><a href="#bookmark1208" class="a">Realizing the</a><a href="#bookmark1208" class="s36"> </a><a href="#bookmark1208">Smart Agent Vision</a></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark1247" class="s33">picos open source project, </a><a href="#bookmark1247">Alternatives to the CompuServe of Things</a></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark1195" class="s33">power of protocols, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Protocological Power</span><a href="#bookmark1200" class="s33">-</a><a href="#bookmark1200">Protocols Beyond Credential Exchange</a></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark1164" class="s33">self-sovereign authority and, </a><a href="#bookmark1179" class="a">Self-Sovereign Authority</a><a href="#bookmark1179" class="s33">-</a><a href="#bookmark1179" class="a">Reciprocal Negotiated</a><a href="#bookmark1179" class="s36"> </a><a href="#bookmark1179">Accountability</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark228" class="s33">SMTP (Simple Mail Transfer Protocol), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Transactional and Interactional Relationships</span> <a href="#bookmark487" class="s33">SNARK technique, </a><a href="#bookmark487">Noninteractive ZKPs</a></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark650" class="s33">social engineering, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Password management</span> <span style=" color: #000;">social login (SL)</span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><a href="#bookmark86" class="s33">definition of term, </a><a href="#bookmark86">Locus of Control</a></p><p class="s55" style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1375" class="s33">evaluating, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The Social Login Metasystem</span> <a href="#bookmark1371" class="s33">foundation of, </a><a href="#bookmark1371">The Social Login Metasystem</a></p><p class="s55" style="padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark793" class="s33">hub-and-spoke identity federation, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Pattern 2: Hub-and-Spoke Federation</span> <a href="#bookmark158" class="s33">justifiable parties and, </a><a href="#bookmark158">Justifiable Parties</a></p><p class="s55" style="padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1376" class="s33">limitations of, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The Social Login Metasystem</span> <a href="#bookmark1372" class="s33">relationships in, </a><a href="#bookmark1372">The Social Login Metasystem</a></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark311" class="s33">social privacy, </a><a href="#bookmark311">Transactional Privacy</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark274" class="s33">social systems, coherence and, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Coherence and Social Systems</span><a href="#bookmark280" class="s33">-</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Coherence and Social Systems</span> <a href="#bookmark1038" class="s33">source of truth, </a><a href="#bookmark1038">Administrative Architecture</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark89" class="s33">sovereign, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Locus of Control</span><a href="#bookmark151" class="s33">, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">User Control and Consent</span><a href="#bookmark1165" class="s33">, </a><a href="#bookmark1165">Self-Sovereign Authority</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark512" class="s33">Sovrin Foundation, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Classifying Blockchains</span><a href="#bookmark865" class="s33">, </a><a href="#bookmark865">Governing Federation</a></p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark579" class="s33">SPOF (single point of failure), </a><a href="#bookmark1072" class="a">Heterarchical Directories</a><a href="#bookmark1072" class="s33">, </a><a href="#bookmark1072" class="a">Administrative Identity Systems Create</a><a href="#bookmark1072" class="s36"> </a><a href="#bookmark1072">Anemic Relationships</a></p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">SSI (see self-sovereign identity)</p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">SSIoT (see self-sovereign Internet of Things)</p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark418" class="s33">SSL (Secure Sockets Layer), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Hybrid Key Systems</span> <a href="#bookmark783" class="s33">SSO (single sign-on), </a><a href="#bookmark783">SSO Versus Federation</a></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1287" class="s33">standards, versus policies, </a><a href="#bookmark1287" class="a">Policies and Standards</a> <a href="#bookmark399" class="s33">(see also identity policies) steganography, </a><a href="#bookmark399">Integrity, Nonrepudiation, and Confidentiality</a></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark580" class="s33">Stop Online Piracy Act, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Heterarchical Directories</span> <span style=" color: #000;">subjects</span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><a href="#bookmark46" class="s33">definition of term, </a><a href="#bookmark46">The Language of Digital Identity</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 24pt;line-height: 174%;text-align: left;"><a href="#bookmark203" class="s33">in federated identity systems, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Relationship Integrity</span> <a href="#bookmark15" class="s33">substance theory, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">A Bundle of Sticks?</span><a href="#bookmark152" class="s33">, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">User Control and Consent</span> <span style=" color: #000;">surveillance</span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 11pt;text-align: left;"><a href="#bookmark308" class="s33">definition of term, </a><a href="#bookmark308">Information Privacy</a></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark122" class="s33">lack of anonymity problem, </a><a href="#bookmark122">The (Lack of) Anonymity Problem</a></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark379" class="s33">surveillance capitalism, </a><a href="#bookmark380" class="a">Surveillance Capitalism and Web 2.0</a><a href="#bookmark380" class="s33">-</a><a href="#bookmark380" class="a">Surveillance Capitalism and</a><a href="#bookmark380" class="s36"> </a><a href="#bookmark380">Web 2.0</a></p><p class="s55" style="padding-top: 7pt;padding-left: 5pt;text-indent: 24pt;line-height: 174%;text-align: left;"><a href="#bookmark1069" class="s33">surveillance economy, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Administrative Identity Systems Create Anemic Relationships</span> <a href="#bookmark498" class="s33">Sybil attacks, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Byzantine Failure and Sybil Attacks</span><a href="#bookmark503" class="s33">, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Other Ways of Countering Sybil Attacks</span> <a href="#bookmark827" class="s33">System for Cross-domain Identity Management (SCIM), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">SCIM</span><a href="#bookmark831" class="s33">-</a><a href="#bookmark831">SCIM</a></p><p style="padding-top: 5pt;padding-left: 8pt;text-indent: 0pt;text-align: left;"><span class="s442" style=" background-color: #EFEFEF;">T                                                                                                                                         </span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark111" class="s33">tacit knowledge, </a><a href="#bookmark111">Tacit Knowledge and the Physical World</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark725" class="s33">tapping-out information, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Mandatory and Discretionary Access Control</span> <a href="#bookmark7" class="s33">target audiences, </a><a href="#bookmark7">Who Is This Book For?</a></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark757" class="s33">targets (in XACML policies), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Representing and Managing Access Control Policies</span> <a href="#bookmark635" class="s33">temporal factor, </a><a href="#bookmark635">Temporal Factor: Some Time You’re In</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark561" class="s33">terminal objects, </a><a href="#bookmark561">Directories</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark249" class="s33">termination phase (digital relationship lifecycle), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Terminating</span> <a href="#bookmark297" class="s33">territorial privacy, </a><a href="#bookmark297">What Is Privacy?</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark644" class="s33">three-factor authentication, </a><a href="#bookmark644">Identifier and Authentication Factors</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark376" class="s33">time value and time cost of privacy, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The Time Value and Time Cost of Privacy</span> <a href="#bookmark629" class="s33">Time-based One-Time Password (TOTP), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Possession Factor: Something You Have</span> <a href="#bookmark567" class="s33">TLD (top-level domain), </a><a href="#bookmark567">Domain Name System</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;">TLS (see Transport Layer Security)</p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark866" class="s33">ToIP (Trust Over IP Foundation), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Governing Federation</span><a href="#bookmark1350" class="s33">, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Domain-Specific Trust Frameworks</span> <a href="#bookmark671" class="s33">token-based authentication, </a><a href="#bookmark671">Token-Based Authentication</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;">tokens</p><p class="s55" style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark845" class="s33">in OAuth, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Getting a token</span><a href="#bookmark857" class="s33">-</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Using a token</span> <a href="#bookmark859" class="s33">JWT (JSON Web Token), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">OpenID Connect</span> <a href="#bookmark1230" class="s33">refresh tokens, </a><a href="#bookmark1230">Where’s the owner?</a></p><p class="s55" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark998" class="s33">top-down digital identity, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The Properties of Credential Exchange</span> <a href="#bookmark567" class="s33">top-level domain (TLD), </a><a href="#bookmark567">Domain Name System</a></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark629" class="s33">TOTP (Time-based One-Time Password), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Possession Factor: Something You Have</span> <a href="#bookmark339" class="s33">trade-offs, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Principle 4: Full Functionality—Positive-Sum, Not Zero-Sum</span> <a href="#bookmark315" class="s33">tradespaces, </a><a href="#bookmark315">Privacy, Authenticity, and Confidentiality</a></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark50" class="s33">traits, in identity records, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The Language of Digital Identity</span> <a href="#bookmark310" class="s33">transactional privacy, </a><a href="#bookmark310">Transactional Privacy</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark225" class="s33">transactional relationships, </a><a href="#bookmark230" class="a">Transactional and Interactional Relationships</a><a href="#bookmark230" class="s33">-</a><a href="#bookmark230" class="a">Transactional and</a><a href="#bookmark230" class="s36"> </a><a href="#bookmark230" class="a">Interactional Relationships</a><a href="#bookmark1073" class="s33">, </a><a href="#bookmark230" class="a">A</a><a href="#bookmark230">lternatives to Transactional Relationships</a></p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark343" class="s33">transparency principle, </a><a href="#bookmark348" class="a">Principle 6: Visibility and Transparency—Keep It Open</a><a href="#bookmark348" class="s33">-</a><a href="#bookmark348" class="a">Principle 6:</a><a href="#bookmark348" class="s36"> </a><a href="#bookmark348">Visibility and Transparency—Keep It Open</a></p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark206" class="s33">Transport Layer Security (TLS), </a><a href="#bookmark304" class="a">Relationship Integrity</a><a href="#bookmark304" class="s33">, </a><a href="#bookmark304" class="a">Communications Privacy and</a><a href="#bookmark304" class="s36"> </a><a href="#bookmark304" class="a">Confidentiality</a><a href="#bookmark419" class="s33">, </a><a href="#bookmark304" class="a">H</a><a href="#bookmark304">ybrid Key Systems</a></p><p class="s55" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark276" class="s33">tribal coherence, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Coherence and Social Systems</span> <span style=" color: #000;">trust</span></p><p style="padding-top: 3pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark322" class="s33">as reason for trading privacy for authenticity, </a><a href="#bookmark322">Privacy, Authenticity, and Confidentiality</a></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark274" class="s33">coherence and social systems, </a><a href="#bookmark280" class="a">Coherence and Social Systems</a><a href="#bookmark280" class="s33">-</a><a href="#bookmark280" class="a">Coherence and Social</a><a href="#bookmark280" class="s36"> </a><a href="#bookmark280">Systems</a></p><p style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark801" class="s33">federated identity systems and, </a><a href="#bookmark801">Addressing the Problem of Trust</a></p><p style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark1340" class="s33">of individual identity systems, </a><a href="#bookmark1347" class="a">Credential Provenance and Trust</a><a href="#bookmark1347" class="s33">-</a><a href="#bookmark1347" class="a">Credential Provenance and</a><a href="#bookmark1347" class="s36"> </a><a href="#bookmark1347">Trust</a></p><p class="s55" style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark121" class="s33">lack of anonymity problem, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The (Lack of) Anonymity Problem</span> <a href="#bookmark271" class="s33">nature of, </a><a href="#bookmark271">The Nature of Trust</a></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark254" class="s33">relationship to confidence and risk, </a><a href="#bookmark259" class="a">Trust, Confidence, and Risk</a><a href="#bookmark259" class="s33">-</a><a href="#bookmark259" class="a">Trust, Confidence, and</a><a href="#bookmark259" class="s36"> </a><a href="#bookmark259">Risk</a></p><p class="s55" style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark261" class="s33">roles of fidelity and provenance, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Fidelity and Provenance</span> <a href="#bookmark1027" class="s33">trust basis for identifiers, </a><a href="#bookmark1027">The Trust Basis for Identifiers</a></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark268" class="s33">trust frameworks, </a><a href="#bookmark1348" class="a">Trust Frameworks</a><a href="#bookmark272" class="s33">-</a><a href="#bookmark1348" class="a">Trust Frameworks</a><a href="#bookmark1348" class="s33">, </a><a href="#bookmark1348" class="a">Domain-Specific Trust</a><a href="#bookmark1348" class="s36"> </a><a href="#bookmark1348">Frameworks</a></p><p class="s55" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark472" class="s33">trust anchors, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Public-Key Infrastructures</span> <a href="#bookmark1032" class="s33">trust domain, </a><a href="#bookmark1032">The Trust Basis for Identifiers</a></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark866" class="s33">Trust Over IP Foundation (ToIP), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Governing Federation</span><a href="#bookmark1350" class="s33">, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Domain-Specific Trust Frameworks</span> <a href="#bookmark995" class="s33">trust questions, </a><a href="#bookmark995">Answering Trust Questions</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark619" class="s33">two-factor authentication (2FA), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Authentication Factors</span><a href="#bookmark642" class="s33">, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Identifier and Authentication Factors</span><a href="#bookmark683" class="s33">, </a><a href="#bookmark683">The Authentication Pyramid</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 4pt;padding-left: 8pt;text-indent: 0pt;text-align: left;"><span class="s442" style=" background-color: #EFEFEF;">U                                                                                                                                         </span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark138" class="s33">unified user experience, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">An Identity Metasystem</span><a href="#bookmark1354" class="s33">, </a><a href="#bookmark1354">The Legitimacy of Identity Ecosystems</a></p><p style="text-indent: 0pt;text-align: left;"><span><img width="76" height="1" alt="image" src="Image_597.png"/></span></p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark545" class="s33">Uniform Resource Identifiers (URIs), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Uniform Resource Identifiers: A universal namespace</span><a href="#bookmark549" class="s33">- </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Cool URIs don’t change</span><a href="#bookmark884" class="s33">, </a><a href="#bookmark884" class="s36">DID Syntax</a></p><p style="text-indent: 0pt;text-align: left;"><span><img width="345" height="1" alt="image" src="Image_598.png"/></span></p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark546" class="s33">Uniform Resource Locators (URLs), </a><a href="#bookmark549" class="s36">Uniform Resource Identifiers: A universal namespace</a><a href="#bookmark549" class="s33">-</a><a href="#bookmark549" class="a">Cool</a><a href="#bookmark549" class="s36"> </a><a href="#bookmark549">URIs don’t change</a></p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark550" class="s33">Uniform Resource Names (URNs), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Uniform Resource Names</span><a href="#bookmark885" class="s33">, </a><a href="#bookmark885">DID Syntax</a></p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark774" class="s33">Unique Identification Authority of India (UIDAI), </a><a href="#bookmark774" class="a">Federated Identity—Leveraging Strong</a><a href="#bookmark774" class="s36"> </a><a href="#bookmark774">Relationships</a></p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark437" class="s33">uniqueness, </a><a href="#bookmark437">Message Digests and Hashes</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark24" class="s33">universal identity systems, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">No Universal Identity Systems</span><a href="#bookmark109" class="s33">, </a><a href="#bookmark109">The Problems of Digital Identity</a></p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark545" class="s33">universal namespaces, </a><a href="#bookmark548" class="a">Uniform Resource Identifiers: A universal namespace</a><a href="#bookmark548" class="s33">-</a><a href="#bookmark548" class="a">Uniform Resource</a><a href="#bookmark548" class="s36"> </a><a href="#bookmark548">Identifiers: A universal namespace</a></p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark570" class="s33">Unix finger command, </a><a href="#bookmark570">WebFinger</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark248" class="s33">update phase (digital relationship lifecycle), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Updating or Changing</span> <a href="#bookmark1251" class="s33">updating firmware, </a><a href="#bookmark1251">Use Case 1: Updating Firmware</a></p><p style="text-indent: 0pt;text-align: left;"><span><img width="76" height="1" alt="image" src="Image_599.png"/></span></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark545" class="s33">URIs (Uniform Resource Identifiers), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Uniform Resource Identifiers: A universal namespace</span><a href="#bookmark549" class="s33">- </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Cool URIs don’t change</span><a href="#bookmark884" class="s33">, </a><a href="#bookmark884" class="s36">DID Syntax</a></p><p style="text-indent: 0pt;text-align: left;"><span><img width="345" height="1" alt="image" src="Image_600.png"/></span></p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark546" class="s33">URLs (Uniform Resource Locators), </a><a href="#bookmark549" class="s36">Uniform Resource Identifiers: A universal namespace</a><a href="#bookmark549" class="s33">-</a><a href="#bookmark549" class="a">Cool</a><a href="#bookmark549" class="s36"> </a><a href="#bookmark549">URIs don’t change</a></p><p class="s55" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark550" class="s33">URNs (Uniform Resource Names), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Uniform Resource Names</span><a href="#bookmark885" class="s33">, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">DID Syntax</span> <a href="#bookmark247" class="s33">use phase (digital relationship lifecycle), </a><a href="#bookmark247">Using</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark149" class="s33">user control and consent, </a><a href="#bookmark341" class="a">User Control and Consent</a><a href="#bookmark341" class="s33">, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Principle 6: Visibility and Transparency—</span><a href="#bookmark926" class="s36"> </a><a href="#bookmark341" class="a">Keep It Open</a><a href="#bookmark362" class="s33">, </a><a href="#bookmark341" class="a">General Data Protection Regulation</a><a href="#bookmark341" class="s33">, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Cryptographic Identifiers and the Laws of</span><a href="#bookmark926" class="s36"> </a><a href="#bookmark926" class="a">Identity</a><a href="#bookmark1362" class="s33">, </a><a href="#bookmark926" class="a">T</a><a href="#bookmark926">he Legitimacy of Identity Ecosystems</a></p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark726" class="s33">user-based permission systems, </a><a href="#bookmark726">User-Based Permission Systems</a></p><p class="s55" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark84" class="s33">user-centered identity systems, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Locus of Control</span><a href="#bookmark153" class="s33">, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">User Control and Consent</span><a href="#bookmark174" class="s33">, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Human Integration</span> <a href="#bookmark349" class="s33">user-centric privacy principle, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Principle 7: Respect for User Privacy—Keep It User-Centric</span> <a href="#bookmark1168" class="s33">user-generated authority, </a><a href="#bookmark1168">Self-Sovereign Authority</a></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;">users</p><p class="s55" style="padding-top: 7pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark718" class="s33">roles in access control, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Responsibility</span> <a href="#bookmark830" class="s33">in SCIM identity management, </a><a href="#bookmark830">SCIM</a></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark138" class="s33">unified experience for, </a><a href="#bookmark138">An Identity Metasystem</a></p><p class="s55" style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1354" class="s33">unified experiences for, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The Legitimacy of Identity Ecosystems</span> <a href="#bookmark823" class="s33">user agents, </a><a href="#bookmark823">SAML Authentication Flow</a></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark139" class="s33">user choice, </a><a href="#bookmark139">An Identity Metasystem</a></p><p style="padding-top: 10pt;padding-left: 5pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark527" class="s33">Utah.gov, </a><a href="#bookmark530" class="a">Utah.gov: A Use Case in Naming and Directories</a><a href="#bookmark530" class="s33">-</a><a href="#bookmark530" class="a">Utah.gov: A Use Case in Naming</a><a href="#bookmark530" class="s36"> </a><a href="#bookmark530">and Directories</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 4pt;padding-left: 8pt;text-indent: 0pt;text-align: left;"><span class="s442" style=" background-color: #EFEFEF;">V                                                                                                                                         </span></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark1108" class="s33">vaults, </a><a href="#bookmark1108">Identity Wallets</a></p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark963" class="s33">Verifiable Credential (VC) specification, </a><a href="#bookmark999" class="a">Verifiable Credentials</a><a href="#bookmark971" class="s33">-</a><a href="#bookmark999" class="a">Verifiable Credentials</a><a href="#bookmark999" class="s33">, </a><a href="#bookmark999" class="a">The</a><a href="#bookmark999" class="s36"> </a><a href="#bookmark999" class="a">Properties of Credential Exchange</a><a href="#bookmark1008" class="s33">, </a><a href="#bookmark999" class="a">A</a><a href="#bookmark999">lternatives to DIDs for VC Exchange</a></p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark974" class="s33">verifiable data registry (VDR), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Exchanging VCs</span><a href="#bookmark1326" class="s33">, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Governing Algorithmic Identity Systems</span>-</p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark1334">Governing Algorithmic Identity Systems</a></p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark449" class="s33">verification keys, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Digital Signatures</span><a href="#bookmark491" class="s33">, </a><a href="#bookmark491">Noninteractive ZKPs</a></p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark343" class="s33">visibility principle, </a><a href="#bookmark348" class="a">Principle 6: Visibility and Transparency—Keep It Open</a><a href="#bookmark348" class="s33">-</a><a href="#bookmark348">Principle 6:</a></p><p class="s55" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Visibility and Transparency—Keep It Open</span> <a href="#bookmark260" class="s33">vulnerability, risk and, </a><a href="#bookmark260">Risk and Vulnerability</a></p><p style="padding-top: 6pt;padding-left: 8pt;text-indent: 0pt;text-align: left;"><span class="s442" style=" background-color: #EFEFEF;">W                                                                                                                                        </span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark963" class="s33">W3C Verifiable Credential (VC) specification, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Verifiable Credentials</span><a href="#bookmark971" class="s33">-</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Verifiable Credentials</span><a href="#bookmark999" class="s33">, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">The Properties of Credential Exchange</span><a href="#bookmark1008" class="s33">, </a><a href="#bookmark1008">Alternatives to DIDs for VC Exchange</a></p><p class="s55" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark1169" class="s33">Web 3.0, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Self-Sovereign Authority</span> <a href="#bookmark544" class="s33">web addresses, </a><a href="#bookmark544">Identifiers</a></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark669" class="s33">WebAuthn protocol, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">FIDO authentication</span> <a href="#bookmark569" class="s33">WebFinger, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">WebFinger</span><a href="#bookmark575" class="s33">-</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">WebFinger</span> <a href="#bookmark919" class="s33">witnesses, </a><a href="#bookmark919">Self-certifying key event logs</a></p><p style="padding-top: 6pt;padding-left: 8pt;text-indent: 0pt;text-align: left;"><span class="s442" style=" background-color: #EFEFEF;">X                                                                                                                                         </span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">X.509 certificates,<a href="#bookmark467" class="s36"> </a><a href="#bookmark467">Certificate Revocation Lists</a></p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a href="#bookmark739" class="s33">XACML (eXtensible Access Control Markup Language), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Attribute- and Policy-Based Access</span><a href="#bookmark759" class="s36"> </a><a href="#bookmark739" class="a">Control</a><a href="#bookmark751" class="s33">, </a><a href="#bookmark739" class="a">Representing and Managing Access Control Policies</a><a href="#bookmark739" class="s33">-</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Representing and Managing</span><a href="#bookmark759" class="s36"> </a><a href="#bookmark759">Access Control Policies</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 4pt;padding-left: 8pt;text-indent: 0pt;text-align: left;"><span class="s442" style=" background-color: #EFEFEF;">Z                                                                                                                                         </span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark761" class="s33">zero trust, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Maintaining Proper Boundaries</span> <a href="#bookmark246" class="s33">zero-day start functionality, </a><a href="#bookmark246">Propagating</a></p><p class="s55" style="padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark989" class="s33">zero-knowledge proof of knowledge (ZKPOK), </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">ZKPs and credentials</span> <span style=" color: #000;">zero-knowledge proofs (ZKPs)</span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><a href="#bookmark479" class="s33">basics of, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Zero-Knowledge Proofs</span><a href="#bookmark484" class="s33">-</a><a href="#bookmark484">Zero-Knowledge Proofs</a></p><p style="padding-top: 3pt;padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark988" class="s33">credentials and, </a><a href="#bookmark988">ZKPs and credentials</a></p><p class="s55" style="padding-top: 9pt;padding-left: 29pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark488" class="s33">noninteractive ZKPs, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Noninteractive ZKPs</span><a href="#bookmark494" class="s33">-</a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Noninteractive ZKPs</span> <a href="#bookmark485" class="s33">ZKP systems, </a><a href="#bookmark485">ZKP Systems</a></p><p class="s55" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;line-height: 170%;text-align: left;"><a href="#bookmark338" class="s33">zero-sum approach, </a><span style=" color: #0000ED; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Principle 4: Full Functionality—Positive-Sum, Not Zero-Sum</span> <a href="#bookmark554" class="s33">Zooko&#39;s triangle, </a><a href="#bookmark554">Zooko’s Triangle</a></p><p class="s30" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">About the Author</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;"><b>Phil Windley </b>is a development manager for AWS Identity. He’s also cofounder and organizer of the Internet Identity Workshop, one of the world’s most influential and long-lived identity conferences, and the author of <i>Digital Identity </i>(O’Reilly) and <i>The Live Web </i>(Course Technology). Previously, he was a principal engineer in the Office of Information Technology at Brigham Young University and founding chair of the Sovrin Foundation. In addition, Phil was chief information officer for the State of Utah and founder and chief technology officer of iMALL, Inc., an early creator of ecommerce tools.</p><p class="s30" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Colophon</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The animal on the cover of <i>Learning Digital Identity </i>is a nankeen night heron (<i>Nycticorax caledonicus</i>), also known as a rufous night heron. <i>Nycticorax </i>means “night raven” in Ancient Greek, and was used to describe birds of ill omen. In 1555, the term was applied to the night heron.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Nankeen night herons can be found all over Australia, generally in areas where there is permanent water. They like to roost in tall trees and foliage during the day near heavily vegetated wetlands, river margins, floodplains, swamps, parks, and gardens. They breed in colonies that can contain hundreds to thousands of breeding pairs. The largest of these colonies can be found in the Murray-Darling Basin. At twilight, they feed on insects, crustaceans, fish, and amphibians in shallow waters.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The name rufous (reddish-brown) night heron comes from the rich, cinnamon-colored upper parts of the birds. They have white undersides, a black beak, and a black crown on their large heads. Their relatively short legs are yellow, as are their feet and eyes. Compared to other herons, they are stocky and medium-sized.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">Populations of nankeen night herons remain stable, so they are listed as a species of least concern on conservation lists. Many of the animals on O’Reilly covers are endangered; all of them are important to the world.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 109%;text-align: left;">The cover illustration is by Karen Montgomery, based on an antique line engraving from <i>Cassell’s Natural History</i>. The cover fonts are Gilroy Semibold and Guardian Sans. The text font is Adobe Minion Pro; the heading font is Adobe Myriad Condensed; and the code font is Dalton Maag’s Ubuntu Mono.</p></body></html>
